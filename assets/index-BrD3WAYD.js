function $M(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function Yw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eE={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function GM(){if(mI)return Ue;mI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function x(B,le,pe){this.props=B,this.context=le,this.refs=P,this.updater=pe||R}x.prototype.isReactComponent={},x.prototype.setState=function(B,le){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,le,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function $(){}$.prototype=x.prototype;function U(B,le,pe){this.props=B,this.context=le,this.refs=P,this.updater=pe||R}var q=U.prototype=new $;q.constructor=U,S(q,x.prototype),q.isPureReactComponent=!0;var W=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function k(B,le,pe,_e,ye,xe){return pe=xe.ref,{$$typeof:n,type:B,key:le,ref:pe!==void 0?pe:null,props:xe}}function I(B,le){return k(B.type,le,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function L(B){var le={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(pe){return le[pe]})}var D=/\/+/g;function E(B,le){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):le.toString(36)}function A(){}function G(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(A,A):(B.status="pending",B.then(function(le){B.status==="pending"&&(B.status="fulfilled",B.value=le)},function(le){B.status==="pending"&&(B.status="rejected",B.reason=le)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function V(B,le,pe,_e,ye){var xe=typeof B;(xe==="undefined"||xe==="boolean")&&(B=null);var Ce=!1;if(B===null)Ce=!0;else switch(xe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(B.$$typeof){case n:case e:Ce=!0;break;case y:return Ce=B._init,V(Ce(B._payload),le,pe,_e,ye)}}if(Ce)return ye=ye(B),Ce=_e===""?"."+E(B,0):_e,W(ye)?(pe="",Ce!=null&&(pe=Ce.replace(D,"$&/")+"/"),V(ye,le,pe,"",function(yr){return yr})):ye!=null&&(C(ye)&&(ye=I(ye,pe+(ye.key==null||B&&B.key===ye.key?"":(""+ye.key).replace(D,"$&/")+"/")+Ce)),le.push(ye)),1;Ce=0;var tn=_e===""?".":_e+":";if(W(B))for(var Qe=0;Qe<B.length;Qe++)_e=B[Qe],xe=tn+E(_e,Qe),Ce+=V(_e,le,pe,xe,ye);else if(Qe=w(B),typeof Qe=="function")for(B=Qe.call(B),Qe=0;!(_e=B.next()).done;)_e=_e.value,xe=tn+E(_e,Qe++),Ce+=V(_e,le,pe,xe,ye);else if(xe==="object"){if(typeof B.then=="function")return V(G(B),le,pe,_e,ye);throw le=String(B),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function z(B,le,pe){if(B==null)return B;var _e=[],ye=0;return V(B,_e,"","",function(xe){return le.call(pe,xe,ye++)}),_e}function J(B){if(B._status===-1){var le=B._result;le=le(),le.then(function(pe){(B._status===0||B._status===-1)&&(B._status=1,B._result=pe)},function(pe){(B._status===0||B._status===-1)&&(B._status=2,B._result=pe)}),B._status===-1&&(B._status=0,B._result=le)}if(B._status===1)return B._result.default;throw B._result}var ne=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function be(){}return Ue.Children={map:z,forEach:function(B,le,pe){z(B,function(){le.apply(this,arguments)},pe)},count:function(B){var le=0;return z(B,function(){le++}),le},toArray:function(B){return z(B,function(le){return le})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ue.Component=x,Ue.Fragment=t,Ue.Profiler=s,Ue.PureComponent=U,Ue.StrictMode=r,Ue.Suspense=f,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(B){return j.H.useMemoCache(B)}},Ue.cache=function(B){return function(){return B.apply(null,arguments)}},Ue.cloneElement=function(B,le,pe){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var _e=S({},B.props),ye=B.key,xe=void 0;if(le!=null)for(Ce in le.ref!==void 0&&(xe=void 0),le.key!==void 0&&(ye=""+le.key),le)!H.call(le,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&le.ref===void 0||(_e[Ce]=le[Ce]);var Ce=arguments.length-2;if(Ce===1)_e.children=pe;else if(1<Ce){for(var tn=Array(Ce),Qe=0;Qe<Ce;Qe++)tn[Qe]=arguments[Qe+2];_e.children=tn}return k(B.type,ye,void 0,void 0,xe,_e)},Ue.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},Ue.createElement=function(B,le,pe){var _e,ye={},xe=null;if(le!=null)for(_e in le.key!==void 0&&(xe=""+le.key),le)H.call(le,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(ye[_e]=le[_e]);var Ce=arguments.length-2;if(Ce===1)ye.children=pe;else if(1<Ce){for(var tn=Array(Ce),Qe=0;Qe<Ce;Qe++)tn[Qe]=arguments[Qe+2];ye.children=tn}if(B&&B.defaultProps)for(_e in Ce=B.defaultProps,Ce)ye[_e]===void 0&&(ye[_e]=Ce[_e]);return k(B,xe,void 0,void 0,null,ye)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(B){return{$$typeof:h,render:B}},Ue.isValidElement=C,Ue.lazy=function(B){return{$$typeof:y,_payload:{_status:-1,_result:B},_init:J}},Ue.memo=function(B,le){return{$$typeof:m,type:B,compare:le===void 0?null:le}},Ue.startTransition=function(B){var le=j.T,pe={};j.T=pe;try{var _e=B(),ye=j.S;ye!==null&&ye(pe,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(be,ne)}catch(xe){ne(xe)}finally{j.T=le}},Ue.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ue.use=function(B){return j.H.use(B)},Ue.useActionState=function(B,le,pe){return j.H.useActionState(B,le,pe)},Ue.useCallback=function(B,le){return j.H.useCallback(B,le)},Ue.useContext=function(B){return j.H.useContext(B)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(B,le){return j.H.useDeferredValue(B,le)},Ue.useEffect=function(B,le,pe){var _e=j.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return _e.useEffect(B,le)},Ue.useId=function(){return j.H.useId()},Ue.useImperativeHandle=function(B,le,pe){return j.H.useImperativeHandle(B,le,pe)},Ue.useInsertionEffect=function(B,le){return j.H.useInsertionEffect(B,le)},Ue.useLayoutEffect=function(B,le){return j.H.useLayoutEffect(B,le)},Ue.useMemo=function(B,le){return j.H.useMemo(B,le)},Ue.useOptimistic=function(B,le){return j.H.useOptimistic(B,le)},Ue.useReducer=function(B,le,pe){return j.H.useReducer(B,le,pe)},Ue.useRef=function(B){return j.H.useRef(B)},Ue.useState=function(B){return j.H.useState(B)},Ue.useSyncExternalStore=function(B,le,pe){return j.H.useSyncExternalStore(B,le,pe)},Ue.useTransition=function(){return j.H.useTransition()},Ue.version="19.1.1",Ue}var pI;function oo(){return pI||(pI=1,eE.exports=GM()),eE.exports}var Q=oo();const M=Yw(Q),qE=$M({__proto__:null,default:M},[Q]);var tE={exports:{}},sf={},nE={exports:{}},rE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gI;function KM(){return gI||(gI=1,(function(n){function e(z,J){var ne=z.length;z.push(J);e:for(;0<ne;){var be=ne-1>>>1,B=z[be];if(0<s(B,J))z[be]=J,z[ne]=B,ne=be;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var J=z[0],ne=z.pop();if(ne!==J){z[0]=ne;e:for(var be=0,B=z.length,le=B>>>1;be<le;){var pe=2*(be+1)-1,_e=z[pe],ye=pe+1,xe=z[ye];if(0>s(_e,ne))ye<B&&0>s(xe,_e)?(z[be]=xe,z[ye]=ne,be=ye):(z[be]=_e,z[pe]=ne,be=pe);else if(ye<B&&0>s(xe,ne))z[be]=xe,z[ye]=ne,be=ye;else break e}}return J}function s(z,J){var ne=z.sortIndex-J.sortIndex;return ne!==0?ne:z.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],m=[],y=1,_=null,w=3,R=!1,S=!1,P=!1,x=!1,$=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function W(z){for(var J=t(m);J!==null;){if(J.callback===null)r(m);else if(J.startTime<=z)r(m),J.sortIndex=J.expirationTime,e(f,J);else break;J=t(m)}}function j(z){if(P=!1,W(z),!S)if(t(f)!==null)S=!0,H||(H=!0,E());else{var J=t(m);J!==null&&V(j,J.startTime-z)}}var H=!1,k=-1,I=5,C=-1;function L(){return x?!0:!(n.unstable_now()-C<I)}function D(){if(x=!1,H){var z=n.unstable_now();C=z;var J=!0;try{e:{S=!1,P&&(P=!1,U(k),k=-1),R=!0;var ne=w;try{t:{for(W(z),_=t(f);_!==null&&!(_.expirationTime>z&&L());){var be=_.callback;if(typeof be=="function"){_.callback=null,w=_.priorityLevel;var B=be(_.expirationTime<=z);if(z=n.unstable_now(),typeof B=="function"){_.callback=B,W(z),J=!0;break t}_===t(f)&&r(f),W(z)}else r(f);_=t(f)}if(_!==null)J=!0;else{var le=t(m);le!==null&&V(j,le.startTime-z),J=!1}}break e}finally{_=null,w=ne,R=!1}J=void 0}}finally{J?E():H=!1}}}var E;if(typeof q=="function")E=function(){q(D)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,G=A.port2;A.port1.onmessage=D,E=function(){G.postMessage(null)}}else E=function(){$(D,0)};function V(z,J){k=$(function(){z(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(z){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var ne=w;w=J;try{return z()}finally{w=ne}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(z,J){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ne=w;w=z;try{return J()}finally{w=ne}},n.unstable_scheduleCallback=function(z,J,ne){var be=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?be+ne:be):ne=be,z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ne+B,z={id:y++,callback:J,priorityLevel:z,startTime:ne,expirationTime:B,sortIndex:-1},ne>be?(z.sortIndex=ne,e(m,z),t(f)===null&&z===t(m)&&(P?(U(k),k=-1):P=!0,V(j,ne-be))):(z.sortIndex=B,e(f,z),S||R||(S=!0,H||(H=!0,E()))),z},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(z){var J=w;return function(){var ne=w;w=J;try{return z.apply(this,arguments)}finally{w=ne}}}})(rE)),rE}var yI;function WM(){return yI||(yI=1,nE.exports=KM()),nE.exports}var iE={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function QM(){if(_I)return zn;_I=1;var n=oo();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,zn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,y)},zn.flushSync=function(f){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=y,r.d.f()}},zn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},zn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},zn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,R=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:R}):y==="script"&&r.d.X(f,{crossOrigin:_,integrity:w,fetchPriority:R,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},zn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},zn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},zn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},zn.requestFormReset=function(f){r.d.r(f)},zn.unstable_batchedUpdates=function(f,m){return f(m)},zn.useFormState=function(f,m,y){return u.H.useFormState(f,m,y)},zn.useFormStatus=function(){return u.H.useHostTransitionStatus()},zn.version="19.1.1",zn}var vI;function YM(){if(vI)return iE.exports;vI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),iE.exports=QM(),iE.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EI;function XM(){if(EI)return sf;EI=1;var n=WM(),e=oo(),t=YM();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return h(p),i;if(g===c)return h(p),a;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=g;else{for(var T=!1,O=p.child;O;){if(O===l){T=!0,l=p,c=g;break}if(O===c){T=!0,c=p,l=g;break}O=O.sibling}if(!T){for(O=g.child;O;){if(O===l){T=!0,l=g,c=p;break}if(O===c){T=!0,c=g,l=p;break}O=O.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function E(i){return i===null||typeof i!="object"?null:(i=D&&i[D]||i["@@iterator"],typeof i=="function"?i:null)}var A=Symbol.for("react.client.reference");function G(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===A?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case x:return"Profiler";case P:return"StrictMode";case j:return"Suspense";case H:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case q:return(i.displayName||"Context")+".Provider";case U:return(i._context.displayName||"Context")+".Consumer";case W:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case k:return a=i.displayName||null,a!==null?a:G(i.type)||"Memo";case I:a=i._payload,i=i._init;try{return G(i(a))}catch{}}return null}var V=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},be=[],B=-1;function le(i){return{current:i}}function pe(i){0>B||(i.current=be[B],be[B]=null,B--)}function _e(i,a){B++,be[B]=i.current,i.current=a}var ye=le(null),xe=le(null),Ce=le(null),tn=le(null);function Qe(i,a){switch(_e(Ce,a),_e(xe,i),_e(ye,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?qA(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=qA(a),i=jA(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}pe(ye),_e(ye,i)}function yr(){pe(ye),pe(xe),pe(Ce)}function yo(i){i.memoizedState!==null&&_e(tn,i);var a=ye.current,l=jA(a,i.type);a!==l&&(_e(xe,i),_e(ye,l))}function is(i){xe.current===i&&(pe(ye),pe(xe)),tn.current===i&&(pe(tn),Zh._currentValue=ne)}var Mr=Object.prototype.hasOwnProperty,Ln=n.unstable_scheduleCallback,vi=n.unstable_cancelCallback,eh=n.unstable_shouldYield,_o=n.unstable_requestPaint,Un=n.unstable_now,jl=n.unstable_getCurrentPriorityLevel,jt=n.unstable_ImmediatePriority,Ht=n.unstable_UserBlockingPriority,$e=n.unstable_NormalPriority,pt=n.unstable_LowPriority,Cn=n.unstable_IdlePriority,Ws=n.log,ar=n.unstable_setDisableYieldValue,Qn=null,gt=null;function nn(i){if(typeof Ws=="function"&&ar(i),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(Qn,i)}catch{}}var mn=Math.clz32?Math.clz32:um,i_=Math.log,lm=Math.LN2;function um(i){return i>>>=0,i===0?32:31-(i_(i)/lm|0)|0}var Ei=256,Qs=4194304;function Zr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Vr(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var O=c&134217727;return O!==0?(c=O&~g,c!==0?p=Zr(c):(T&=O,T!==0?p=Zr(T):l||(l=O&~i,l!==0&&(p=Zr(l))))):(O=c&~g,O!==0?p=Zr(O):T!==0?p=Zr(T):l||(l=c&~i,l!==0&&(p=Zr(l)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:p}function Ys(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Hl(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(){var i=Ei;return Ei<<=1,(Ei&4194048)===0&&(Ei=256),i}function Xs(){var i=Qs;return Qs<<=1,(Qs&62914560)===0&&(Qs=4194304),i}function $l(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function $t(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function cm(i,a,l,c,p,g){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var O=i.entanglements,F=i.expirationTimes,te=i.hiddenUpdates;for(l=T&~l;0<l;){var ce=31-mn(l),fe=1<<ce;O[ce]=0,F[ce]=-1;var re=te[ce];if(re!==null)for(te[ce]=null,ce=0;ce<re.length;ce++){var ie=re[ce];ie!==null&&(ie.lane&=-536870913)}l&=~fe}c!==0&&Js(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~a))}function Js(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-mn(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Zs(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-mn(l),p=1<<c;p&a|i[c]&a&&(i[c]|=a),l&=~p}}function nh(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function rh(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ss(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:lI(i.type))}function s_(i,a){var l=J.p;try{return J.p=i,a()}finally{J.p=l}}var wi=Math.random().toString(36).slice(2),Gt="__reactFiber$"+wi,Pn="__reactProps$"+wi,as="__reactContainer$"+wi,vo="__reactEvents$"+wi,Eo="__reactListeners$"+wi,a_="__reactHandles$"+wi,ei="__reactResources$"+wi,ea="__reactMarker$"+wi;function Gl(i){delete i[Gt],delete i[Pn],delete i[vo],delete i[Eo],delete i[a_]}function bi(i){var a=i[Gt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[as]||l[Gt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=KA(i);i!==null;){if(l=i[Gt])return l;i=KA(i)}return a}i=l,l=i.parentNode}return null}function Ti(i){if(i=i[Gt]||i[as]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ta(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function na(i){var a=i[ei];return a||(a=i[ei]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Kt(i){i[ea]=!0}var hm=new Set,wo={};function Si(i,a){Ai(i,a),Ai(i+"Capture",a)}function Ai(i,a){for(wo[i]=a,i=0;i<a.length;i++)hm.add(a[i])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ii={},Kl={};function o_(i){return Mr.call(Kl,i)?!0:Mr.call(Ii,i)?!1:bo.test(i)?Kl[i]=!0:(Ii[i]=!0,!1)}function To(i,a,l){if(o_(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function So(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function Lr(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var Ao,Wl;function os(i){if(Ao===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ao=a&&a[1]||"",Wl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ao+i+Wl}var Ql=!1;function Yl(i,a){if(!i||Ql)return"";Ql=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var re=ie}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ie){re=ie}i.call(fe.prototype)}}else{try{throw Error()}catch(ie){re=ie}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],O=g[1];if(T&&O){var F=T.split(`
`),te=O.split(`
`);for(p=c=0;c<F.length&&!F[c].includes("DetermineComponentFrameRoot");)c++;for(;p<te.length&&!te[p].includes("DetermineComponentFrameRoot");)p++;if(c===F.length||p===te.length)for(c=F.length-1,p=te.length-1;1<=c&&0<=p&&F[c]!==te[p];)p--;for(;1<=c&&0<=p;c--,p--)if(F[c]!==te[p]){if(c!==1||p!==1)do if(c--,p--,0>p||F[c]!==te[p]){var ce=`
`+F[c].replace(" at new "," at ");return i.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",i.displayName)),ce}while(1<=c&&0<=p);break}}}finally{Ql=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?os(l):""}function l_(i){switch(i.tag){case 26:case 27:case 5:return os(i.type);case 16:return os("Lazy");case 13:return os("Suspense");case 19:return os("SuspenseList");case 0:case 15:return Yl(i.type,!1);case 11:return Yl(i.type.render,!1);case 1:return Yl(i.type,!0);case 31:return os("Activity");default:return""}}function ti(i){try{var a="";do a+=l_(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Dt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ra(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Io(i){var a=ra(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ia(i){i._valueTracker||(i._valueTracker=Io(i))}function ut(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=ra(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function ls(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Ro=/[\n"\\]/g;function En(i){return i.replace(Ro,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ih(i,a,l,c,p,g,T,O){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Dt(a)):i.value!==""+Dt(a)&&(i.value=""+Dt(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?ah(i,T,Dt(a)):l!=null?ah(i,T,Dt(l)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.name=""+Dt(O):i.removeAttribute("name")}function sh(i,a,l,c,p,g,T,O){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+Dt(l):"",a=a!=null?""+Dt(a):l,O||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=O?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function ah(i,a,l){a==="number"&&ls(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function sa(i,a,l,c){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Dt(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function fm(i,a,l){if(a!=null&&(a=""+Dt(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Dt(l):""}function dm(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(V(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Dt(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Ur(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oh(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||us.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function lh(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&oh(i,p,c)}else for(var g in a)a.hasOwnProperty(g)&&oh(i,g,a[g])}function Xl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(i){return pm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var uh=null;function ch(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var aa=null,Yn=null;function gm(i){var a=Ti(i);if(a&&(i=a.stateNode)){var l=i[Pn]||null;e:switch(i=a.stateNode,a.type){case"input":if(ih(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+En(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var p=c[Pn]||null;if(!p)throw Error(r(90));ih(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&ut(c)}break e;case"textarea":fm(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&sa(i,!!l.multiple,a,!1)}}}var Co=!1;function Po(i,a,l){if(Co)return i(a,l);Co=!0;try{var c=i(a);return c}finally{if(Co=!1,(aa!==null||Yn!==null)&&(sp(),aa&&(a=aa,i=Yn,Yn=aa=null,gm(a),i)))for(a=0;a<i.length;a++)gm(i[a])}}function oa(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Pn]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(Xn)try{var la={};Object.defineProperty(la,"passive",{get:function(){cs=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{cs=!1}var Br=null,yt=null,Jl=null;function ym(){if(Jl)return Jl;var i,a=yt,l=a.length,c,p="value"in Br?Br.value:Br.textContent,g=p.length;for(i=0;i<l&&a[i]===p[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===p[g-c];c++);return Jl=p.slice(i,1<c?1-c:void 0)}function Oo(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Do(){return!0}function hh(){return!1}function pn(i){function a(l,c,p,g,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(g):g[O]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Do:hh,this.isPropagationStopped=hh,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),a}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=pn(Bn),No=y({},Bn,{view:0,detail:0}),ko=pn(No),Zl,Mo,Ri,Vo=y({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ri&&(Ri&&i.type==="mousemove"?(Zl=i.screenX-Ri.screenX,Mo=i.screenY-Ri.screenY):Mo=Zl=0,Ri=i),Zl)},movementY:function(i){return"movementY"in i?i.movementY:Mo}}),Lo=pn(Vo),u_=y({},Vo,{dataTransfer:0}),_m=pn(u_),Uo=y({},No,{relatedTarget:0}),eu=pn(Uo),vm=y({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),fh=pn(vm),dh=y({},Bn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Em=pn(dh),tu=y({},Bn,{data:0}),mh=pn(tu),wm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tm(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=bm[i])?!!a[i]:!1}function nu(){return Tm}var Sm=y({},No,{key:function(i){if(i.key){var a=wm[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Oo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?hs[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nu,charCode:function(i){return i.type==="keypress"?Oo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Oo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ru=pn(Sm),Jn=y({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=pn(Jn),Am=y({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nu}),ua=pn(Am),d=y({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=pn(d),b=y({},Vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),N=pn(b),ee=y({},Bn,{newState:0,oldState:0}),ae=pn(ee),ve=[9,13,27,32],Me=Xn&&"CompositionEvent"in window,wt=null;Xn&&"documentMode"in document&&(wt=document.documentMode);var nt=Xn&&"TextEvent"in window&&!wt,Wt=Xn&&(!Me||wt&&8<wt&&11>=wt),_r=" ",Ci=!1;function ri(i,a){switch(i){case"keyup":return ve.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ii(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var si=!1;function gh(i,a){switch(i){case"compositionend":return ii(a);case"keypress":return a.which!==32?null:(Ci=!0,_r);case"textInput":return i=a.data,i===_r&&Ci?null:i;default:return null}}function _k(i,a){if(si)return i==="compositionend"||!Me&&ri(i,a)?(i=ym(),Jl=yt=Br=null,si=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wt&&a.locale!=="ko"?null:a.data;default:return null}}var vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n0(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!vk[i.type]:a==="textarea"}function r0(i,a,l,c){aa?Yn?Yn.push(c):Yn=[c]:aa=c,a=hp(a,"onChange"),0<a.length&&(l=new xo("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var yh=null,_h=null;function Ek(i){LA(i,0)}function Im(i){var a=ta(i);if(ut(a))return i}function i0(i,a){if(i==="change")return a}var s0=!1;if(Xn){var c_;if(Xn){var h_="oninput"in document;if(!h_){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),h_=typeof a0.oninput=="function"}c_=h_}else c_=!1;s0=c_&&(!document.documentMode||9<document.documentMode)}function o0(){yh&&(yh.detachEvent("onpropertychange",l0),_h=yh=null)}function l0(i){if(i.propertyName==="value"&&Im(_h)){var a=[];r0(a,_h,i,ch(i)),Po(Ek,a)}}function wk(i,a,l){i==="focusin"?(o0(),yh=a,_h=l,yh.attachEvent("onpropertychange",l0)):i==="focusout"&&o0()}function bk(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Im(_h)}function Tk(i,a){if(i==="click")return Im(a)}function Sk(i,a){if(i==="input"||i==="change")return Im(a)}function Ak(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var vr=typeof Object.is=="function"?Object.is:Ak;function vh(i,a){if(vr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!Mr.call(a,p)||!vr(i[p],a[p]))return!1}return!0}function u0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function c0(i,a){var l=u0(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=u0(l)}}function h0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?h0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function f0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=ls(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=ls(i.document)}return a}function f_(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Ik=Xn&&"documentMode"in document&&11>=document.documentMode,iu=null,d_=null,Eh=null,m_=!1;function d0(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;m_||iu==null||iu!==ls(c)||(c=iu,"selectionStart"in c&&f_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Eh&&vh(Eh,c)||(Eh=c,c=hp(d_,"onSelect"),0<c.length&&(a=new xo("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=iu)))}function Bo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var su={animationend:Bo("Animation","AnimationEnd"),animationiteration:Bo("Animation","AnimationIteration"),animationstart:Bo("Animation","AnimationStart"),transitionrun:Bo("Transition","TransitionRun"),transitionstart:Bo("Transition","TransitionStart"),transitioncancel:Bo("Transition","TransitionCancel"),transitionend:Bo("Transition","TransitionEnd")},p_={},m0={};Xn&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Fo(i){if(p_[i])return p_[i];if(!su[i])return i;var a=su[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in m0)return p_[i]=a[l];return i}var p0=Fo("animationend"),g0=Fo("animationiteration"),y0=Fo("animationstart"),Rk=Fo("transitionrun"),Ck=Fo("transitionstart"),Pk=Fo("transitioncancel"),_0=Fo("transitionend"),v0=new Map,g_="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");g_.push("scrollEnd");function ai(i,a){v0.set(i,a),Si(a,[i])}var E0=new WeakMap;function Fr(i,a){if(typeof i=="object"&&i!==null){var l=E0.get(i);return l!==void 0?l:(a={value:i,source:a,stack:ti(a)},E0.set(i,a),a)}return{value:i,source:a,stack:ti(a)}}var zr=[],au=0,y_=0;function Rm(){for(var i=au,a=y_=au=0;a<i;){var l=zr[a];zr[a++]=null;var c=zr[a];zr[a++]=null;var p=zr[a];zr[a++]=null;var g=zr[a];if(zr[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&w0(l,p,g)}}function Cm(i,a,l,c){zr[au++]=i,zr[au++]=a,zr[au++]=l,zr[au++]=c,y_|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function __(i,a,l,c){return Cm(i,a,l,c),Pm(i)}function ou(i,a){return Cm(i,null,null,a),Pm(i)}function w0(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&a!==null&&(p=31-mn(l),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=l|536870912),g):null}function Pm(i){if(50<$h)throw $h=0,Sv=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var lu={};function Ok(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(i,a,l,c){return new Ok(i,a,l,c)}function v_(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,a){var l=i.alternate;return l===null?(l=Er(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function b0(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Om(i,a,l,c,p,g){var T=0;if(c=i,typeof i=="function")v_(i)&&(T=1);else if(typeof i=="string")T=xM(i,l,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=Er(31,l,a,p),i.elementType=C,i.lanes=g,i;case S:return zo(l.children,p,g,a);case P:T=8,p|=24;break;case x:return i=Er(12,l,a,p|2),i.elementType=x,i.lanes=g,i;case j:return i=Er(13,l,a,p),i.elementType=j,i.lanes=g,i;case H:return i=Er(19,l,a,p),i.elementType=H,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:case q:T=10;break e;case U:T=9;break e;case W:T=11;break e;case k:T=14;break e;case I:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Er(T,l,a,p),a.elementType=i,a.type=c,a.lanes=g,a}function zo(i,a,l,c){return i=Er(7,i,c,a),i.lanes=l,i}function E_(i,a,l){return i=Er(6,i,null,a),i.lanes=l,i}function w_(i,a,l){return a=Er(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var uu=[],cu=0,Dm=null,xm=0,qr=[],jr=0,qo=null,ds=1,ms="";function jo(i,a){uu[cu++]=xm,uu[cu++]=Dm,Dm=i,xm=a}function T0(i,a,l){qr[jr++]=ds,qr[jr++]=ms,qr[jr++]=qo,qo=i;var c=ds;i=ms;var p=32-mn(c)-1;c&=~(1<<p),l+=1;var g=32-mn(a)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,ds=1<<32-mn(a)+p|l<<p|c,ms=g+i}else ds=1<<g|l<<p|c,ms=i}function b_(i){i.return!==null&&(jo(i,1),T0(i,1,0))}function T_(i){for(;i===Dm;)Dm=uu[--cu],uu[cu]=null,xm=uu[--cu],uu[cu]=null;for(;i===qo;)qo=qr[--jr],qr[jr]=null,ms=qr[--jr],qr[jr]=null,ds=qr[--jr],qr[jr]=null}var Zn=null,Vt=null,Je=!1,Ho=null,Pi=!1,S_=Error(r(519));function $o(i){var a=Error(r(418,""));throw Th(Fr(a,i)),S_}function S0(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Gt]=i,a[Pn]=c,l){case"dialog":qe("cancel",a),qe("close",a);break;case"iframe":case"object":case"embed":qe("load",a);break;case"video":case"audio":for(l=0;l<Kh.length;l++)qe(Kh[l],a);break;case"source":qe("error",a);break;case"img":case"image":case"link":qe("error",a),qe("load",a);break;case"details":qe("toggle",a);break;case"input":qe("invalid",a),sh(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ia(a);break;case"select":qe("invalid",a);break;case"textarea":qe("invalid",a),dm(a,c.value,c.defaultValue,c.children),ia(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||zA(a.textContent,l)?(c.popover!=null&&(qe("beforetoggle",a),qe("toggle",a)),c.onScroll!=null&&qe("scroll",a),c.onScrollEnd!=null&&qe("scrollend",a),c.onClick!=null&&(a.onclick=fp),a=!0):a=!1,a||$o(i)}function A0(i){for(Zn=i.return;Zn;)switch(Zn.tag){case 5:case 13:Pi=!1;return;case 27:case 3:Pi=!0;return;default:Zn=Zn.return}}function wh(i){if(i!==Zn)return!1;if(!Je)return A0(i),Je=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Fv(i.type,i.memoizedProps)),l=!l),l&&Vt&&$o(i),A0(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Vt=li(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Vt=null}}else a===27?(a=Vt,Aa(i.type)?(i=Hv,Hv=null,Vt=i):Vt=a):Vt=Zn?li(i.stateNode.nextSibling):null;return!0}function bh(){Vt=Zn=null,Je=!1}function I0(){var i=Ho;return i!==null&&(ur===null?ur=i:ur.push.apply(ur,i),Ho=null),i}function Th(i){Ho===null?Ho=[i]:Ho.push(i)}var A_=le(null),Go=null,ps=null;function ca(i,a,l){_e(A_,a._currentValue),a._currentValue=l}function gs(i){i._currentValue=A_.current,pe(A_)}function I_(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function R_(i,a,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var O=g;g=p;for(var F=0;F<a.length;F++)if(O.context===a[F]){g.lanes|=l,O=g.alternate,O!==null&&(O.lanes|=l),I_(g.return,l,i),c||(T=null);break e}g=O.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),I_(T,l,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Sh(i,a,l,c){i=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var O=p.type;vr(p.pendingProps.value,T.value)||(i!==null?i.push(O):i=[O])}}else if(p===tn.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Zh):i=[Zh])}p=p.return}i!==null&&R_(a,i,l,c),a.flags|=262144}function Nm(i){for(i=i.firstContext;i!==null;){if(!vr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ko(i){Go=i,ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Fn(i){return R0(Go,i)}function km(i,a){return Go===null&&Ko(i),R0(i,a)}function R0(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ps===null){if(i===null)throw Error(r(308));ps=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ps=ps.next=a;return l}var Dk=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},xk=n.unstable_scheduleCallback,Nk=n.unstable_NormalPriority,gn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C_(){return{controller:new Dk,data:new Map,refCount:0}}function Ah(i){i.refCount--,i.refCount===0&&xk(Nk,function(){i.controller.abort()})}var Ih=null,P_=0,hu=0,fu=null;function kk(i,a){if(Ih===null){var l=Ih=[];P_=0,hu=Dv(),fu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return P_++,a.then(C0,C0),a}function C0(){if(--P_===0&&Ih!==null){fu!==null&&(fu.status="fulfilled");var i=Ih;Ih=null,hu=0,fu=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Mk(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var P0=z.S;z.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&kk(i,a),P0!==null&&P0(i,a)};var Wo=le(null);function O_(){var i=Wo.current;return i!==null?i:_t.pooledCache}function Mm(i,a){a===null?_e(Wo,Wo.current):_e(Wo,a.pool)}function O0(){var i=O_();return i===null?null:{parent:gn._currentValue,pool:i}}var Rh=Error(r(460)),D0=Error(r(474)),Vm=Error(r(542)),D_={then:function(){}};function x0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Lm(){}function N0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Lm,Lm),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,M0(i),i;default:if(typeof a.status=="string")a.then(Lm,Lm);else{if(i=_t,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,M0(i),i}throw Ch=a,Rh}}var Ch=null;function k0(){if(Ch===null)throw Error(r(459));var i=Ch;return Ch=null,i}function M0(i){if(i===Rh||i===Vm)throw Error(r(483))}var ha=!1;function x_(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function N_(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function fa(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function da(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=Pm(i),w0(i,null,l),a}return Cm(i,c,a,l),Pm(i)}function Ph(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Zs(i,l)}}function k_(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=a:g=g.next=a}else p=g=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var M_=!1;function Oh(){if(M_){var i=fu;if(i!==null)throw i}}function Dh(i,a,l,c){M_=!1;var p=i.updateQueue;ha=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var F=O,te=F.next;F.next=null,T===null?g=te:T.next=te,T=F;var ce=i.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==T&&(O===null?ce.firstBaseUpdate=te:O.next=te,ce.lastBaseUpdate=F))}if(g!==null){var fe=p.baseState;T=0,ce=te=F=null,O=g;do{var re=O.lane&-536870913,ie=re!==O.lane;if(ie?(Ke&re)===re:(c&re)===re){re!==0&&re===hu&&(M_=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ne=i,Oe=O;re=a;var ft=l;switch(Oe.tag){case 1:if(Ne=Oe.payload,typeof Ne=="function"){fe=Ne.call(ft,fe,re);break e}fe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Oe.payload,re=typeof Ne=="function"?Ne.call(ft,fe,re):Ne,re==null)break e;fe=y({},fe,re);break e;case 2:ha=!0}}re=O.callback,re!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=p.callbacks,ie===null?p.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(te=ce=ie,F=fe):ce=ce.next=ie,T|=re;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);ce===null&&(F=fe),p.baseState=F,p.firstBaseUpdate=te,p.lastBaseUpdate=ce,g===null&&(p.shared.lanes=0),wa|=T,i.lanes=T,i.memoizedState=fe}}function V0(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function L0(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)V0(l[i],a)}var du=le(null),Um=le(0);function U0(i,a){i=Ts,_e(Um,i),_e(du,a),Ts=i|a.baseLanes}function V_(){_e(Um,Ts),_e(du,du.current)}function L_(){Ts=Um.current,pe(du),pe(Um)}var ma=0,Be=null,ct=null,rn=null,Bm=!1,mu=!1,Qo=!1,Fm=0,xh=0,pu=null,Vk=0;function Qt(){throw Error(r(321))}function U_(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!vr(i[l],a[l]))return!1;return!0}function B_(i,a,l,c,p,g){return ma=g,Be=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=i===null||i.memoizedState===null?wS:bS,Qo=!1,g=l(c,p),Qo=!1,mu&&(g=F0(a,l,c,p)),B0(i),g}function B0(i){z.H=Gm;var a=ct!==null&&ct.next!==null;if(ma=0,rn=ct=Be=null,Bm=!1,xh=0,pu=null,a)throw Error(r(300));i===null||wn||(i=i.dependencies,i!==null&&Nm(i)&&(wn=!0))}function F0(i,a,l,c){Be=i;var p=0;do{if(mu&&(pu=null),xh=0,mu=!1,25<=p)throw Error(r(301));if(p+=1,rn=ct=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=jk,g=a(l,c)}while(mu);return g}function Lk(){var i=z.H,a=i.useState()[0];return a=typeof a.then=="function"?Nh(a):a,i=i.useState()[0],(ct!==null?ct.memoizedState:null)!==i&&(Be.flags|=1024),a}function F_(){var i=Fm!==0;return Fm=0,i}function z_(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function q_(i){if(Bm){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Bm=!1}ma=0,rn=ct=Be=null,mu=!1,xh=Fm=0,pu=null}function or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?Be.memoizedState=rn=i:rn=rn.next=i,rn}function sn(){if(ct===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=ct.next;var a=rn===null?Be.memoizedState:rn.next;if(a!==null)rn=a,ct=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));ct=i,i={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},rn===null?Be.memoizedState=rn=i:rn=rn.next=i}return rn}function j_(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nh(i){var a=xh;return xh+=1,pu===null&&(pu=[]),i=N0(pu,i,a),a=Be,(rn===null?a.memoizedState:rn.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?wS:bS),i}function zm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Nh(i);if(i.$$typeof===q)return Fn(i)}throw Error(r(438,String(i)))}function H_(i){var a=null,l=Be.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=j_(),Be.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=L;return a.index++,l}function ys(i,a){return typeof a=="function"?a(i):a}function qm(i){var a=sn();return $_(a,ct,i)}function $_(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}a.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{a=p.next;var O=T=null,F=null,te=a,ce=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(Ke&fe)===fe:(ma&fe)===fe){var re=te.revertLane;if(re===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===hu&&(ce=!0);else if((ma&re)===re){te=te.next,re===hu&&(ce=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(O=F=fe,T=g):F=F.next=fe,Be.lanes|=re,wa|=re;fe=te.action,Qo&&l(g,fe),g=te.hasEagerState?te.eagerState:l(g,fe)}else re={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(O=F=re,T=g):F=F.next=re,Be.lanes|=fe,wa|=fe;te=te.next}while(te!==null&&te!==a);if(F===null?T=g:F.next=O,!vr(g,i.memoizedState)&&(wn=!0,ce&&(l=fu,l!==null)))throw l;i.memoizedState=g,i.baseState=T,i.baseQueue=F,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function G_(i){var a=sn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,g=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=i(g,T.action),T=T.next;while(T!==p);vr(g,a.memoizedState)||(wn=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function z0(i,a,l){var c=Be,p=sn(),g=Je;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!vr((ct||p).memoizedState,l);T&&(p.memoizedState=l,wn=!0),p=p.queue;var O=H0.bind(null,c,p,i);if(kh(2048,8,O,[i]),p.getSnapshot!==a||T||rn!==null&&rn.memoizedState.tag&1){if(c.flags|=2048,gu(9,jm(),j0.bind(null,c,p,l,a),null),_t===null)throw Error(r(349));g||(ma&124)!==0||q0(c,a,l)}return l}function q0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Be.updateQueue,a===null?(a=j_(),Be.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function j0(i,a,l,c){a.value=l,a.getSnapshot=c,$0(a)&&G0(i)}function H0(i,a,l){return l(function(){$0(a)&&G0(i)})}function $0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!vr(i,l)}catch{return!0}}function G0(i){var a=ou(i,2);a!==null&&Ar(a,i,2)}function K_(i){var a=or();if(typeof i=="function"){var l=i;if(i=l(),Qo){nn(!0);try{l()}finally{nn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},a}function K0(i,a,l,c){return i.baseState=l,$_(i,ct,typeof c=="function"?c:ys)}function Uk(i,a,l,c,p){if($m(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};z.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,W0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function W0(i,a){var l=a.action,c=a.payload,p=i.state;if(a.isTransition){var g=z.T,T={};z.T=T;try{var O=l(p,c),F=z.S;F!==null&&F(T,O),Q0(i,a,O)}catch(te){W_(i,a,te)}finally{z.T=g}}else try{g=l(p,c),Q0(i,a,g)}catch(te){W_(i,a,te)}}function Q0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Y0(i,a,c)},function(c){return W_(i,a,c)}):Y0(i,a,l)}function Y0(i,a,l){a.status="fulfilled",a.value=l,X0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,W0(i,l)))}function W_(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,X0(a),a=a.next;while(a!==c)}i.action=null}function X0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function J0(i,a){return a}function Z0(i,a){if(Je){var l=_t.formState;if(l!==null){e:{var c=Be;if(Je){if(Vt){t:{for(var p=Vt,g=Pi;p.nodeType!==8;){if(!g){p=null;break t}if(p=li(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Vt=li(p.nextSibling),c=p.data==="F!";break e}}$o(c)}c=!1}c&&(a=l[0])}}return l=or(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J0,lastRenderedState:a},l.queue=c,l=_S.bind(null,Be,c),c.dispatch=l,c=K_(!1),g=Z_.bind(null,Be,!1,c.queue),c=or(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,l=Uk.bind(null,Be,p,g,l),p.dispatch=l,c.memoizedState=i,[a,l,!1]}function eS(i){var a=sn();return tS(a,ct,i)}function tS(i,a,l){if(a=$_(i,a,J0)[0],i=qm(ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Nh(a)}catch(T){throw T===Rh?Vm:T}else c=a;a=sn();var p=a.queue,g=p.dispatch;return l!==a.memoizedState&&(Be.flags|=2048,gu(9,jm(),Bk.bind(null,p,l),null)),[c,g,i]}function Bk(i,a){i.action=a}function nS(i){var a=sn(),l=ct;if(l!==null)return tS(a,l,i);sn(),a=a.memoizedState,l=sn();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function gu(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Be.updateQueue,a===null&&(a=j_(),Be.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function jm(){return{destroy:void 0,resource:void 0}}function rS(){return sn().memoizedState}function Hm(i,a,l,c){var p=or();c=c===void 0?null:c,Be.flags|=i,p.memoizedState=gu(1|a,jm(),l,c)}function kh(i,a,l,c){var p=sn();c=c===void 0?null:c;var g=p.memoizedState.inst;ct!==null&&c!==null&&U_(c,ct.memoizedState.deps)?p.memoizedState=gu(a,g,l,c):(Be.flags|=i,p.memoizedState=gu(1|a,g,l,c))}function iS(i,a){Hm(8390656,8,i,a)}function sS(i,a){kh(2048,8,i,a)}function aS(i,a){return kh(4,2,i,a)}function oS(i,a){return kh(4,4,i,a)}function lS(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function uS(i,a,l){l=l!=null?l.concat([i]):null,kh(4,4,lS.bind(null,a,i),l)}function Q_(){}function cS(i,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&U_(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function hS(i,a){var l=sn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&U_(a,c[1]))return c[0];if(c=i(),Qo){nn(!0);try{i()}finally{nn(!1)}}return l.memoizedState=[c,a],c}function Y_(i,a,l){return l===void 0||(ma&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=mA(),Be.lanes|=i,wa|=i,l)}function fS(i,a,l,c){return vr(l,a)?l:du.current!==null?(i=Y_(i,l,c),vr(i,a)||(wn=!0),i):(ma&42)===0?(wn=!0,i.memoizedState=l):(i=mA(),Be.lanes|=i,wa|=i,a)}function dS(i,a,l,c,p){var g=J.p;J.p=g!==0&&8>g?g:8;var T=z.T,O={};z.T=O,Z_(i,!1,a,l);try{var F=p(),te=z.S;if(te!==null&&te(O,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=Mk(F,c);Mh(i,a,ce,Sr(i))}else Mh(i,a,c,Sr(i))}catch(fe){Mh(i,a,{then:function(){},status:"rejected",reason:fe},Sr())}finally{J.p=g,z.T=T}}function Fk(){}function X_(i,a,l,c){if(i.tag!==5)throw Error(r(476));var p=mS(i).queue;dS(i,p,a,ne,l===null?Fk:function(){return pS(i),l(c)})}function mS(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ne},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function pS(i){var a=mS(i).next.queue;Mh(i,a,{},Sr())}function J_(){return Fn(Zh)}function gS(){return sn().memoizedState}function yS(){return sn().memoizedState}function zk(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Sr();i=fa(l);var c=da(a,i,l);c!==null&&(Ar(c,a,l),Ph(c,a,l)),a={cache:C_()},i.payload=a;return}a=a.return}}function qk(i,a,l){var c=Sr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},$m(i)?vS(a,l):(l=__(i,a,l,c),l!==null&&(Ar(l,i,c),ES(l,a,c)))}function _S(i,a,l){var c=Sr();Mh(i,a,l,c)}function Mh(i,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if($m(i))vS(a,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var T=a.lastRenderedState,O=g(T,l);if(p.hasEagerState=!0,p.eagerState=O,vr(O,T))return Cm(i,a,p,0),_t===null&&Rm(),!1}catch{}finally{}if(l=__(i,a,p,c),l!==null)return Ar(l,i,c),ES(l,a,c),!0}return!1}function Z_(i,a,l,c){if(c={lane:2,revertLane:Dv(),action:c,hasEagerState:!1,eagerState:null,next:null},$m(i)){if(a)throw Error(r(479))}else a=__(i,l,c,2),a!==null&&Ar(a,i,2)}function $m(i){var a=i.alternate;return i===Be||a!==null&&a===Be}function vS(i,a){mu=Bm=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function ES(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Zs(i,l)}}var Gm={readContext:Fn,use:zm,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},wS={readContext:Fn,use:zm,useCallback:function(i,a){return or().memoizedState=[i,a===void 0?null:a],i},useContext:Fn,useEffect:iS,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Hm(4194308,4,lS.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Hm(4194308,4,i,a)},useInsertionEffect:function(i,a){Hm(4,2,i,a)},useMemo:function(i,a){var l=or();a=a===void 0?null:a;var c=i();if(Qo){nn(!0);try{i()}finally{nn(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=or();if(l!==void 0){var p=l(a);if(Qo){nn(!0);try{l(a)}finally{nn(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=qk.bind(null,Be,i),[c.memoizedState,i]},useRef:function(i){var a=or();return i={current:i},a.memoizedState=i},useState:function(i){i=K_(i);var a=i.queue,l=_S.bind(null,Be,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Q_,useDeferredValue:function(i,a){var l=or();return Y_(l,i,a)},useTransition:function(){var i=K_(!1);return i=dS.bind(null,Be,i.queue,!0,!1),or().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Be,p=or();if(Je){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),_t===null)throw Error(r(349));(Ke&124)!==0||q0(c,a,l)}p.memoizedState=l;var g={value:l,getSnapshot:a};return p.queue=g,iS(H0.bind(null,c,g,i),[i]),c.flags|=2048,gu(9,jm(),j0.bind(null,c,g,l,a),null),l},useId:function(){var i=or(),a=_t.identifierPrefix;if(Je){var l=ms,c=ds;l=(c&~(1<<32-mn(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Fm++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=Vk++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:J_,useFormState:Z0,useActionState:Z0,useOptimistic:function(i){var a=or();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Z_.bind(null,Be,!0,l),l.dispatch=a,[i,a]},useMemoCache:H_,useCacheRefresh:function(){return or().memoizedState=zk.bind(null,Be)}},bS={readContext:Fn,use:zm,useCallback:cS,useContext:Fn,useEffect:sS,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:hS,useReducer:qm,useRef:rS,useState:function(){return qm(ys)},useDebugValue:Q_,useDeferredValue:function(i,a){var l=sn();return fS(l,ct.memoizedState,i,a)},useTransition:function(){var i=qm(ys)[0],a=sn().memoizedState;return[typeof i=="boolean"?i:Nh(i),a]},useSyncExternalStore:z0,useId:gS,useHostTransitionStatus:J_,useFormState:eS,useActionState:eS,useOptimistic:function(i,a){var l=sn();return K0(l,ct,i,a)},useMemoCache:H_,useCacheRefresh:yS},jk={readContext:Fn,use:zm,useCallback:cS,useContext:Fn,useEffect:sS,useImperativeHandle:uS,useInsertionEffect:aS,useLayoutEffect:oS,useMemo:hS,useReducer:G_,useRef:rS,useState:function(){return G_(ys)},useDebugValue:Q_,useDeferredValue:function(i,a){var l=sn();return ct===null?Y_(l,i,a):fS(l,ct.memoizedState,i,a)},useTransition:function(){var i=G_(ys)[0],a=sn().memoizedState;return[typeof i=="boolean"?i:Nh(i),a]},useSyncExternalStore:z0,useId:gS,useHostTransitionStatus:J_,useFormState:nS,useActionState:nS,useOptimistic:function(i,a){var l=sn();return ct!==null?K0(l,ct,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:H_,useCacheRefresh:yS},yu=null,Vh=0;function Km(i){var a=Vh;return Vh+=1,yu===null&&(yu=[]),N0(yu,i,a)}function Lh(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Wm(i,a){throw a.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function TS(i){var a=i._init;return a(i._payload)}function SS(i){function a(Y,K){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[K],Y.flags|=16):Z.push(K)}}function l(Y,K){if(!i)return null;for(;K!==null;)a(Y,K),K=K.sibling;return null}function c(Y){for(var K=new Map;Y!==null;)Y.key!==null?K.set(Y.key,Y):K.set(Y.index,Y),Y=Y.sibling;return K}function p(Y,K){return Y=fs(Y,K),Y.index=0,Y.sibling=null,Y}function g(Y,K,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<K?(Y.flags|=67108866,K):Z):(Y.flags|=67108866,K)):(Y.flags|=1048576,K)}function T(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function O(Y,K,Z,he){return K===null||K.tag!==6?(K=E_(Z,Y.mode,he),K.return=Y,K):(K=p(K,Z),K.return=Y,K)}function F(Y,K,Z,he){var Se=Z.type;return Se===S?ce(Y,K,Z.props.children,he,Z.key):K!==null&&(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===I&&TS(Se)===K.type)?(K=p(K,Z.props),Lh(K,Z),K.return=Y,K):(K=Om(Z.type,Z.key,Z.props,null,Y.mode,he),Lh(K,Z),K.return=Y,K)}function te(Y,K,Z,he){return K===null||K.tag!==4||K.stateNode.containerInfo!==Z.containerInfo||K.stateNode.implementation!==Z.implementation?(K=w_(Z,Y.mode,he),K.return=Y,K):(K=p(K,Z.children||[]),K.return=Y,K)}function ce(Y,K,Z,he,Se){return K===null||K.tag!==7?(K=zo(Z,Y.mode,he,Se),K.return=Y,K):(K=p(K,Z),K.return=Y,K)}function fe(Y,K,Z){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=E_(""+K,Y.mode,Z),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return Z=Om(K.type,K.key,K.props,null,Y.mode,Z),Lh(Z,K),Z.return=Y,Z;case R:return K=w_(K,Y.mode,Z),K.return=Y,K;case I:var he=K._init;return K=he(K._payload),fe(Y,K,Z)}if(V(K)||E(K))return K=zo(K,Y.mode,Z,null),K.return=Y,K;if(typeof K.then=="function")return fe(Y,Km(K),Z);if(K.$$typeof===q)return fe(Y,km(Y,K),Z);Wm(Y,K)}return null}function re(Y,K,Z,he){var Se=K!==null?K.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:O(Y,K,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return Z.key===Se?F(Y,K,Z,he):null;case R:return Z.key===Se?te(Y,K,Z,he):null;case I:return Se=Z._init,Z=Se(Z._payload),re(Y,K,Z,he)}if(V(Z)||E(Z))return Se!==null?null:ce(Y,K,Z,he,null);if(typeof Z.then=="function")return re(Y,K,Km(Z),he);if(Z.$$typeof===q)return re(Y,K,km(Y,Z),he);Wm(Y,Z)}return null}function ie(Y,K,Z,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(Z)||null,O(K,Y,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return Y=Y.get(he.key===null?Z:he.key)||null,F(K,Y,he,Se);case R:return Y=Y.get(he.key===null?Z:he.key)||null,te(K,Y,he,Se);case I:var Fe=he._init;return he=Fe(he._payload),ie(Y,K,Z,he,Se)}if(V(he)||E(he))return Y=Y.get(Z)||null,ce(K,Y,he,Se,null);if(typeof he.then=="function")return ie(Y,K,Z,Km(he),Se);if(he.$$typeof===q)return ie(Y,K,Z,km(K,he),Se);Wm(K,he)}return null}function Ne(Y,K,Z,he){for(var Se=null,Fe=null,Re=K,De=K=0,Tn=null;Re!==null&&De<Z.length;De++){Re.index>De?(Tn=Re,Re=null):Tn=Re.sibling;var Ye=re(Y,Re,Z[De],he);if(Ye===null){Re===null&&(Re=Tn);break}i&&Re&&Ye.alternate===null&&a(Y,Re),K=g(Ye,K,De),Fe===null?Se=Ye:Fe.sibling=Ye,Fe=Ye,Re=Tn}if(De===Z.length)return l(Y,Re),Je&&jo(Y,De),Se;if(Re===null){for(;De<Z.length;De++)Re=fe(Y,Z[De],he),Re!==null&&(K=g(Re,K,De),Fe===null?Se=Re:Fe.sibling=Re,Fe=Re);return Je&&jo(Y,De),Se}for(Re=c(Re);De<Z.length;De++)Tn=ie(Re,Y,De,Z[De],he),Tn!==null&&(i&&Tn.alternate!==null&&Re.delete(Tn.key===null?De:Tn.key),K=g(Tn,K,De),Fe===null?Se=Tn:Fe.sibling=Tn,Fe=Tn);return i&&Re.forEach(function(Oa){return a(Y,Oa)}),Je&&jo(Y,De),Se}function Oe(Y,K,Z,he){if(Z==null)throw Error(r(151));for(var Se=null,Fe=null,Re=K,De=K=0,Tn=null,Ye=Z.next();Re!==null&&!Ye.done;De++,Ye=Z.next()){Re.index>De?(Tn=Re,Re=null):Tn=Re.sibling;var Oa=re(Y,Re,Ye.value,he);if(Oa===null){Re===null&&(Re=Tn);break}i&&Re&&Oa.alternate===null&&a(Y,Re),K=g(Oa,K,De),Fe===null?Se=Oa:Fe.sibling=Oa,Fe=Oa,Re=Tn}if(Ye.done)return l(Y,Re),Je&&jo(Y,De),Se;if(Re===null){for(;!Ye.done;De++,Ye=Z.next())Ye=fe(Y,Ye.value,he),Ye!==null&&(K=g(Ye,K,De),Fe===null?Se=Ye:Fe.sibling=Ye,Fe=Ye);return Je&&jo(Y,De),Se}for(Re=c(Re);!Ye.done;De++,Ye=Z.next())Ye=ie(Re,Y,De,Ye.value,he),Ye!==null&&(i&&Ye.alternate!==null&&Re.delete(Ye.key===null?De:Ye.key),K=g(Ye,K,De),Fe===null?Se=Ye:Fe.sibling=Ye,Fe=Ye);return i&&Re.forEach(function(HM){return a(Y,HM)}),Je&&jo(Y,De),Se}function ft(Y,K,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:e:{for(var Se=Z.key;K!==null;){if(K.key===Se){if(Se=Z.type,Se===S){if(K.tag===7){l(Y,K.sibling),he=p(K,Z.props.children),he.return=Y,Y=he;break e}}else if(K.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===I&&TS(Se)===K.type){l(Y,K.sibling),he=p(K,Z.props),Lh(he,Z),he.return=Y,Y=he;break e}l(Y,K);break}else a(Y,K);K=K.sibling}Z.type===S?(he=zo(Z.props.children,Y.mode,he,Z.key),he.return=Y,Y=he):(he=Om(Z.type,Z.key,Z.props,null,Y.mode,he),Lh(he,Z),he.return=Y,Y=he)}return T(Y);case R:e:{for(Se=Z.key;K!==null;){if(K.key===Se)if(K.tag===4&&K.stateNode.containerInfo===Z.containerInfo&&K.stateNode.implementation===Z.implementation){l(Y,K.sibling),he=p(K,Z.children||[]),he.return=Y,Y=he;break e}else{l(Y,K);break}else a(Y,K);K=K.sibling}he=w_(Z,Y.mode,he),he.return=Y,Y=he}return T(Y);case I:return Se=Z._init,Z=Se(Z._payload),ft(Y,K,Z,he)}if(V(Z))return Ne(Y,K,Z,he);if(E(Z)){if(Se=E(Z),typeof Se!="function")throw Error(r(150));return Z=Se.call(Z),Oe(Y,K,Z,he)}if(typeof Z.then=="function")return ft(Y,K,Km(Z),he);if(Z.$$typeof===q)return ft(Y,K,km(Y,Z),he);Wm(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,K!==null&&K.tag===6?(l(Y,K.sibling),he=p(K,Z),he.return=Y,Y=he):(l(Y,K),he=E_(Z,Y.mode,he),he.return=Y,Y=he),T(Y)):l(Y,K)}return function(Y,K,Z,he){try{Vh=0;var Se=ft(Y,K,Z,he);return yu=null,Se}catch(Re){if(Re===Rh||Re===Vm)throw Re;var Fe=Er(29,Re,null,Y.mode);return Fe.lanes=he,Fe.return=Y,Fe}finally{}}}var _u=SS(!0),AS=SS(!1),Hr=le(null),Oi=null;function pa(i){var a=i.alternate;_e(yn,yn.current&1),_e(Hr,i),Oi===null&&(a===null||du.current!==null||a.memoizedState!==null)&&(Oi=i)}function IS(i){if(i.tag===22){if(_e(yn,yn.current),_e(Hr,i),Oi===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Oi=i)}}else ga()}function ga(){_e(yn,yn.current),_e(Hr,Hr.current)}function _s(i){pe(Hr),Oi===i&&(Oi=null),pe(yn)}var yn=le(0);function Qm(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||jv(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function ev(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var tv={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Sr(),p=fa(c);p.payload=a,l!=null&&(p.callback=l),a=da(i,p,c),a!==null&&(Ar(a,i,c),Ph(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Sr(),p=fa(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=da(i,p,c),a!==null&&(Ar(a,i,c),Ph(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Sr(),c=fa(l);c.tag=2,a!=null&&(c.callback=a),a=da(i,c,l),a!==null&&(Ar(a,i,l),Ph(a,i,l))}};function RS(i,a,l,c,p,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):a.prototype&&a.prototype.isPureReactComponent?!vh(l,c)||!vh(p,g):!0}function CS(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&tv.enqueueReplaceState(a,a.state,null)}function Yo(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var Ym=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function PS(i){Ym(i)}function OS(i){console.error(i)}function DS(i){Ym(i)}function Xm(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function xS(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function nv(i,a,l){return l=fa(l),l.tag=3,l.payload={element:null},l.callback=function(){Xm(i,a)},l}function NS(i){return i=fa(i),i.tag=3,i}function kS(i,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){xS(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){xS(a,l,c),typeof p!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var O=c.stack;this.componentDidCatch(c.value,{componentStack:O!==null?O:""})})}function Hk(i,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Sh(a,l,p,!0),l=Hr.current,l!==null){switch(l.tag){case 13:return Oi===null?Iv():l.alternate===null&&Lt===0&&(Lt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===D_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Cv(i,c,p)),!1;case 22:return l.flags|=65536,c===D_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Cv(i,c,p)),!1}throw Error(r(435,l.tag))}return Cv(i,c,p),Iv(),!1}if(Je)return a=Hr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==S_&&(i=Error(r(422),{cause:c}),Th(Fr(i,l)))):(c!==S_&&(a=Error(r(423),{cause:c}),Th(Fr(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Fr(c,l),p=nv(i.stateNode,c,p),k_(i,p),Lt!==4&&(Lt=2)),!1;var g=Error(r(520),{cause:c});if(g=Fr(g,l),Hh===null?Hh=[g]:Hh.push(g),Lt!==4&&(Lt=2),a===null)return!0;c=Fr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=nv(l.stateNode,c,i),k_(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=NS(p),kS(p,i,l,c),k_(l,p),!1}l=l.return}while(l!==null);return!1}var MS=Error(r(461)),wn=!1;function On(i,a,l,c){a.child=i===null?AS(a,null,l,c):_u(a,i.child,l,c)}function VS(i,a,l,c,p){l=l.render;var g=a.ref;if("ref"in c){var T={};for(var O in c)O!=="ref"&&(T[O]=c[O])}else T=c;return Ko(a),c=B_(i,a,l,T,g,p),O=F_(),i!==null&&!wn?(z_(i,a,p),vs(i,a,p)):(Je&&O&&b_(a),a.flags|=1,On(i,a,c,p),a.child)}function LS(i,a,l,c,p){if(i===null){var g=l.type;return typeof g=="function"&&!v_(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,US(i,a,g,c,p)):(i=Om(l.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!cv(i,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:vh,l(T,c)&&i.ref===a.ref)return vs(i,a,p)}return a.flags|=1,i=fs(g,c),i.ref=a.ref,i.return=a,a.child=i}function US(i,a,l,c,p){if(i!==null){var g=i.memoizedProps;if(vh(g,c)&&i.ref===a.ref)if(wn=!1,a.pendingProps=c=g,cv(i,p))(i.flags&131072)!==0&&(wn=!0);else return a.lanes=i.lanes,vs(i,a,p)}return rv(i,a,l,c,p)}function BS(i,a,l){var c=a.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(p=a.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return FS(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Mm(a,g!==null?g.cachePool:null),g!==null?U0(a,g):V_(),IS(a);else return a.lanes=a.childLanes=536870912,FS(i,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(Mm(a,g.cachePool),U0(a,g),ga(),a.memoizedState=null):(i!==null&&Mm(a,null),V_(),ga());return On(i,a,p,l),a.child}function FS(i,a,l,c){var p=O_();return p=p===null?null:{parent:gn._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},i!==null&&Mm(a,null),V_(),IS(a),i!==null&&Sh(i,a,c,!0),null}function Jm(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function rv(i,a,l,c,p){return Ko(a),l=B_(i,a,l,c,void 0,p),c=F_(),i!==null&&!wn?(z_(i,a,p),vs(i,a,p)):(Je&&c&&b_(a),a.flags|=1,On(i,a,l,p),a.child)}function zS(i,a,l,c,p,g){return Ko(a),a.updateQueue=null,l=F0(a,c,l,p),B0(i),c=F_(),i!==null&&!wn?(z_(i,a,g),vs(i,a,g)):(Je&&c&&b_(a),a.flags|=1,On(i,a,l,g),a.child)}function qS(i,a,l,c,p){if(Ko(a),a.stateNode===null){var g=lu,T=l.contextType;typeof T=="object"&&T!==null&&(g=Fn(T)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=tv,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},x_(a),T=l.contextType,g.context=typeof T=="object"&&T!==null?Fn(T):lu,g.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(ev(a,l,T,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&tv.enqueueReplaceState(g,g.state,null),Dh(a,c,g,p),Oh(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var O=a.memoizedProps,F=Yo(l,O);g.props=F;var te=g.context,ce=l.contextType;T=lu,typeof ce=="object"&&ce!==null&&(T=Fn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ce||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(O||te!==T)&&CS(a,g,c,T),ha=!1;var re=a.memoizedState;g.state=re,Dh(a,c,g,p),Oh(),te=a.memoizedState,O||re!==te||ha?(typeof fe=="function"&&(ev(a,l,fe,c),te=a.memoizedState),(F=ha||RS(a,l,F,c,re,te,T))?(ce||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=te),g.props=c,g.state=te,g.context=T,c=F):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,N_(i,a),T=a.memoizedProps,ce=Yo(l,T),g.props=ce,fe=a.pendingProps,re=g.context,te=l.contextType,F=lu,typeof te=="object"&&te!==null&&(F=Fn(te)),O=l.getDerivedStateFromProps,(te=typeof O=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==fe||re!==F)&&CS(a,g,c,F),ha=!1,re=a.memoizedState,g.state=re,Dh(a,c,g,p),Oh();var ie=a.memoizedState;T!==fe||re!==ie||ha||i!==null&&i.dependencies!==null&&Nm(i.dependencies)?(typeof O=="function"&&(ev(a,l,O,c),ie=a.memoizedState),(ce=ha||RS(a,l,ce,c,re,ie,F)||i!==null&&i.dependencies!==null&&Nm(i.dependencies))?(te||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ie,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ie,F)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ie),g.props=c,g.state=ie,g.context=F,c=ce):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,Jm(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=_u(a,i.child,null,p),a.child=_u(a,null,l,p)):On(i,a,l,p),a.memoizedState=g.state,i=a.child):i=vs(i,a,p),i}function jS(i,a,l,c){return bh(),a.flags|=256,On(i,a,l,c),a.child}var iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sv(i){return{baseLanes:i,cachePool:O0()}}function av(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=$r),i}function HS(i,a,l){var c=a.pendingProps,p=!1,g=(a.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(yn.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Je){if(p?pa(a):ga(),Je){var O=Vt,F;if(F=O){e:{for(F=O,O=Pi;F.nodeType!==8;){if(!O){O=null;break e}if(F=li(F.nextSibling),F===null){O=null;break e}}O=F}O!==null?(a.memoizedState={dehydrated:O,treeContext:qo!==null?{id:ds,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},F=Er(18,null,null,0),F.stateNode=O,F.return=a,a.child=F,Zn=a,Vt=null,F=!0):F=!1}F||$o(a)}if(O=a.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return jv(O)?a.lanes=32:a.lanes=536870912,null;_s(a)}return O=c.children,c=c.fallback,p?(ga(),p=a.mode,O=Zm({mode:"hidden",children:O},p),c=zo(c,p,l,null),O.return=a,c.return=a,O.sibling=c,a.child=O,p=a.child,p.memoizedState=sv(l),p.childLanes=av(i,T,l),a.memoizedState=iv,c):(pa(a),ov(a,O))}if(F=i.memoizedState,F!==null&&(O=F.dehydrated,O!==null)){if(g)a.flags&256?(pa(a),a.flags&=-257,a=lv(i,a,l)):a.memoizedState!==null?(ga(),a.child=i.child,a.flags|=128,a=null):(ga(),p=c.fallback,O=a.mode,c=Zm({mode:"visible",children:c.children},O),p=zo(p,O,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,_u(a,i.child,null,l),c=a.child,c.memoizedState=sv(l),c.childLanes=av(i,T,l),a.memoizedState=iv,a=p);else if(pa(a),jv(O)){if(T=O.nextSibling&&O.nextSibling.dataset,T)var te=T.dgst;T=te,c=Error(r(419)),c.stack="",c.digest=T,Th({value:c,source:null,stack:null}),a=lv(i,a,l)}else if(wn||Sh(i,a,l,!1),T=(l&i.childLanes)!==0,wn||T){if(T=_t,T!==null&&(c=l&-l,c=(c&42)!==0?1:nh(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==F.retryLane))throw F.retryLane=c,ou(i,c),Ar(T,i,c),MS;O.data==="$?"||Iv(),a=lv(i,a,l)}else O.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=F.treeContext,Vt=li(O.nextSibling),Zn=a,Je=!0,Ho=null,Pi=!1,i!==null&&(qr[jr++]=ds,qr[jr++]=ms,qr[jr++]=qo,ds=i.id,ms=i.overflow,qo=a),a=ov(a,c.children),a.flags|=4096);return a}return p?(ga(),p=c.fallback,O=a.mode,F=i.child,te=F.sibling,c=fs(F,{mode:"hidden",children:c.children}),c.subtreeFlags=F.subtreeFlags&65011712,te!==null?p=fs(te,p):(p=zo(p,O,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,O=i.child.memoizedState,O===null?O=sv(l):(F=O.cachePool,F!==null?(te=gn._currentValue,F=F.parent!==te?{parent:te,pool:te}:F):F=O0(),O={baseLanes:O.baseLanes|l,cachePool:F}),p.memoizedState=O,p.childLanes=av(i,T,l),a.memoizedState=iv,c):(pa(a),l=i.child,i=l.sibling,l=fs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function ov(i,a){return a=Zm({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Zm(i,a){return i=Er(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function lv(i,a,l){return _u(a,i.child,null,l),i=ov(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function $S(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),I_(i.return,a,l)}function uv(i,a,l,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function GS(i,a,l){var c=a.pendingProps,p=c.revealOrder,g=c.tail;if(On(i,a,c.children,l),c=yn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&$S(i,l,a);else if(i.tag===19)$S(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(_e(yn,c),p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&Qm(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),uv(a,!1,p,l,g);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&Qm(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}uv(a,!0,l,null,g);break;case"together":uv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function vs(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),wa|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Sh(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=fs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=fs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function cv(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Nm(i)))}function $k(i,a,l){switch(a.tag){case 3:Qe(a,a.stateNode.containerInfo),ca(a,gn,i.memoizedState.cache),bh();break;case 27:case 5:yo(a);break;case 4:Qe(a,a.stateNode.containerInfo);break;case 10:ca(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(pa(a),a.flags|=128,null):(l&a.child.childLanes)!==0?HS(i,a,l):(pa(a),i=vs(i,a,l),i!==null?i.sibling:null);pa(a);break;case 19:var p=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Sh(i,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return GS(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),_e(yn,yn.current),c)break;return null;case 22:case 23:return a.lanes=0,BS(i,a,l);case 24:ca(a,gn,i.memoizedState.cache)}return vs(i,a,l)}function KS(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)wn=!0;else{if(!cv(i,l)&&(a.flags&128)===0)return wn=!1,$k(i,a,l);wn=(i.flags&131072)!==0}else wn=!1,Je&&(a.flags&1048576)!==0&&T0(a,xm,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")v_(c)?(i=Yo(c,i),a.tag=1,a=qS(null,a,c,i,l)):(a.tag=0,a=rv(null,a,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===W){a.tag=11,a=VS(null,a,c,i,l);break e}else if(p===k){a.tag=14,a=LS(null,a,c,i,l);break e}}throw a=G(c)||c,Error(r(306,a,""))}}return a;case 0:return rv(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Yo(c,a.pendingProps),qS(i,a,c,p,l);case 3:e:{if(Qe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var g=a.memoizedState;p=g.element,N_(i,a),Dh(a,c,null,l);var T=a.memoizedState;if(c=T.cache,ca(a,gn,c),c!==g.cache&&R_(a,[gn],l,!0),Oh(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=jS(i,a,c,l);break e}else if(c!==p){p=Fr(Error(r(424)),a),Th(p),a=jS(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Vt=li(i.firstChild),Zn=a,Je=!0,Ho=null,Pi=!0,l=AS(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(bh(),c===p){a=vs(i,a,l);break e}On(i,a,c,l)}a=a.child}return a;case 26:return Jm(i,a),i===null?(l=XA(a.type,null,a.pendingProps,null))?a.memoizedState=l:Je||(l=a.type,i=a.pendingProps,c=dp(Ce.current).createElement(l),c[Gt]=a,c[Pn]=i,xn(c,l,i),Kt(c),a.stateNode=c):a.memoizedState=XA(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return yo(a),i===null&&Je&&(c=a.stateNode=WA(a.type,a.pendingProps,Ce.current),Zn=a,Pi=!0,p=Vt,Aa(a.type)?(Hv=p,Vt=li(c.firstChild)):Vt=p),On(i,a,a.pendingProps.children,l),Jm(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Je&&((p=c=Vt)&&(c=vM(c,a.type,a.pendingProps,Pi),c!==null?(a.stateNode=c,Zn=a,Vt=li(c.firstChild),Pi=!1,p=!0):p=!1),p||$o(a)),yo(a),p=a.type,g=a.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,Fv(p,g)?c=null:T!==null&&Fv(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=B_(i,a,Lk,null,null,l),Zh._currentValue=p),Jm(i,a),On(i,a,c,l),a.child;case 6:return i===null&&Je&&((i=l=Vt)&&(l=EM(l,a.pendingProps,Pi),l!==null?(a.stateNode=l,Zn=a,Vt=null,i=!0):i=!1),i||$o(a)),null;case 13:return HS(i,a,l);case 4:return Qe(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=_u(a,null,c,l):On(i,a,c,l),a.child;case 11:return VS(i,a,a.type,a.pendingProps,l);case 7:return On(i,a,a.pendingProps,l),a.child;case 8:return On(i,a,a.pendingProps.children,l),a.child;case 12:return On(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,ca(a,a.type,c.value),On(i,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,Ko(a),p=Fn(p),c=c(p),a.flags|=1,On(i,a,c,l),a.child;case 14:return LS(i,a,a.type,a.pendingProps,l);case 15:return US(i,a,a.type,a.pendingProps,l);case 19:return GS(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=Zm(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=fs(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return BS(i,a,l);case 24:return Ko(a),c=Fn(gn),i===null?(p=O_(),p===null&&(p=_t,g=C_(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),a.memoizedState={parent:c,cache:p},x_(a),ca(a,gn,p)):((i.lanes&l)!==0&&(N_(i,a),Dh(a,null,null,l),Oh()),p=i.memoizedState,g=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),ca(a,gn,c)):(c=g.cache,ca(a,gn,c),c!==p.cache&&R_(a,[gn],l,!0))),On(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Es(i){i.flags|=4}function WS(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!nI(a)){if(a=Hr.current,a!==null&&((Ke&4194048)===Ke?Oi!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||a!==Oi))throw Ch=D_,D0;i.flags|=8192}}function ep(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Xs():536870912,i.lanes|=a,bu|=a)}function Uh(i,a){if(!Je)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function xt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function Gk(i,a,l){var c=a.pendingProps;switch(T_(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(a),null;case 1:return xt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),gs(gn),yr(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(wh(a)?Es(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,I0())),xt(a),null;case 26:return l=a.memoizedState,i===null?(Es(a),l!==null?(xt(a),WS(a,l)):(xt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Es(a),xt(a),WS(a,l)):(xt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Es(a),xt(a),a.flags&=-16777217),null;case 27:is(a),l=Ce.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}i=ye.current,wh(a)?S0(a):(i=WA(p,c,l),a.stateNode=i,Es(a))}return xt(a),null;case 5:if(is(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Es(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return xt(a),null}if(i=ye.current,wh(a))S0(a);else{switch(p=dp(Ce.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[Gt]=a,i[Pn]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(xn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Es(a)}}return xt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Es(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ce.current,wh(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,p=Zn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[Gt]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||zA(i.nodeValue,l)),i||$o(a)}else i=dp(i).createTextNode(c),i[Gt]=a,a.stateNode=i}return xt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=wh(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[Gt]=a}else bh(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;xt(a),p=!1}else p=I0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(_s(a),a):(_s(a),null)}if(_s(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),ep(a,a.updateQueue),xt(a),null;case 4:return yr(),i===null&&Mv(a.stateNode.containerInfo),xt(a),null;case 10:return gs(a.type),xt(a),null;case 19:if(pe(yn),p=a.memoizedState,p===null)return xt(a),null;if(c=(a.flags&128)!==0,g=p.rendering,g===null)if(c)Uh(p,!1);else{if(Lt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=Qm(i),g!==null){for(a.flags|=128,Uh(p,!1),i=g.updateQueue,a.updateQueue=i,ep(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)b0(l,i),l=l.sibling;return _e(yn,yn.current&1|2),a.child}i=i.sibling}p.tail!==null&&Un()>rp&&(a.flags|=128,c=!0,Uh(p,!1),a.lanes=4194304)}else{if(!c)if(i=Qm(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,ep(a,i),Uh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Je)return xt(a),null}else 2*Un()-p.renderingStartTime>rp&&l!==536870912&&(a.flags|=128,c=!0,Uh(p,!1),a.lanes=4194304);p.isBackwards?(g.sibling=a.child,a.child=g):(i=p.last,i!==null?i.sibling=g:a.child=g,p.last=g)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Un(),a.sibling=null,i=yn.current,_e(yn,c?i&1|2:i&1),a):(xt(a),null);case 22:case 23:return _s(a),L_(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(xt(a),a.subtreeFlags&6&&(a.flags|=8192)):xt(a),l=a.updateQueue,l!==null&&ep(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&pe(Wo),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gs(gn),xt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Kk(i,a){switch(T_(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return gs(gn),yr(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return is(a),null;case 13:if(_s(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));bh()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return pe(yn),null;case 4:return yr(),null;case 10:return gs(a.type),null;case 22:case 23:return _s(a),L_(),i!==null&&pe(Wo),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return gs(gn),null;case 25:return null;default:return null}}function QS(i,a){switch(T_(a),a.tag){case 3:gs(gn),yr();break;case 26:case 27:case 5:is(a);break;case 4:yr();break;case 13:_s(a);break;case 19:pe(yn);break;case 10:gs(a.type);break;case 22:case 23:_s(a),L_(),i!==null&&pe(Wo);break;case 24:gs(gn)}}function Bh(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==p)}}catch(O){mt(a,a.return,O)}}function ya(i,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var T=c.inst,O=T.destroy;if(O!==void 0){T.destroy=void 0,p=a;var F=l,te=O;try{te()}catch(ce){mt(p,F,ce)}}}c=c.next}while(c!==g)}}catch(ce){mt(a,a.return,ce)}}function YS(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{L0(a,l)}catch(c){mt(i,i.return,c)}}}function XS(i,a,l){l.props=Yo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){mt(i,a,c)}}function Fh(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){mt(i,a,p)}}function Di(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){mt(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){mt(i,a,p)}else l.current=null}function JS(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){mt(i,i.return,p)}}function hv(i,a,l){try{var c=i.stateNode;mM(c,i.type,l,a),c[Pn]=a}catch(p){mt(i,i.return,p)}}function ZS(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Aa(i.type)||i.tag===4}function fv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ZS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Aa(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function dv(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=fp));else if(c!==4&&(c===27&&Aa(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(dv(i,a,l),i=i.sibling;i!==null;)dv(i,a,l),i=i.sibling}function tp(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Aa(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(tp(i,a,l),i=i.sibling;i!==null;)tp(i,a,l),i=i.sibling}function eA(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);xn(a,c,l),a[Gt]=i,a[Pn]=l}catch(g){mt(i,i.return,g)}}var ws=!1,Yt=!1,mv=!1,tA=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Wk(i,a){if(i=i.containerInfo,Uv=vp,i=f0(i),f_(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,O=-1,F=-1,te=0,ce=0,fe=i,re=null;t:for(;;){for(var ie;fe!==l||p!==0&&fe.nodeType!==3||(O=T+p),fe!==g||c!==0&&fe.nodeType!==3||(F=T+c),fe.nodeType===3&&(T+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)re=fe,fe=ie;for(;;){if(fe===i)break t;if(re===l&&++te===p&&(O=T),re===g&&++ce===c&&(F=T),(ie=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=ie}l=O===-1||F===-1?null:{start:O,end:F}}else l=null}l=l||{start:0,end:0}}else l=null;for(Bv={focusedElem:i,selectionRange:l},vp=!1,bn=a;bn!==null;)if(a=bn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,bn=i;else for(;bn!==null;){switch(a=bn,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=a,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Ne=Yo(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ne,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Oe){mt(l,l.return,Oe)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)qv(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":qv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,bn=i;break}bn=a.return}}function nA(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:_a(i,l),c&4&&Bh(5,l);break;case 1:if(_a(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(T){mt(l,l.return,T)}else{var p=Yo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){mt(l,l.return,T)}}c&64&&YS(l),c&512&&Fh(l,l.return);break;case 3:if(_a(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{L0(i,a)}catch(T){mt(l,l.return,T)}}break;case 27:a===null&&c&4&&eA(l);case 26:case 5:_a(i,l),a===null&&c&4&&JS(l),c&512&&Fh(l,l.return);break;case 12:_a(i,l);break;case 13:_a(i,l),c&4&&sA(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=rM.bind(null,l),wM(i,l))));break;case 22:if(c=l.memoizedState!==null||ws,!c){a=a!==null&&a.memoizedState!==null||Yt,p=ws;var g=Yt;ws=c,(Yt=a)&&!g?va(i,l,(l.subtreeFlags&8772)!==0):_a(i,l),ws=p,Yt=g}break;case 30:break;default:_a(i,l)}}function rA(i){var a=i.alternate;a!==null&&(i.alternate=null,rA(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Gl(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var St=null,lr=!1;function bs(i,a,l){for(l=l.child;l!==null;)iA(i,a,l),l=l.sibling}function iA(i,a,l){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Qn,l)}catch{}switch(l.tag){case 26:Yt||Di(l,a),bs(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||Di(l,a);var c=St,p=lr;Aa(l.type)&&(St=l.stateNode,lr=!1),bs(i,a,l),Qh(l.stateNode),St=c,lr=p;break;case 5:Yt||Di(l,a);case 6:if(c=St,p=lr,St=null,bs(i,a,l),St=c,lr=p,St!==null)if(lr)try{(St.nodeType===9?St.body:St.nodeName==="HTML"?St.ownerDocument.body:St).removeChild(l.stateNode)}catch(g){mt(l,a,g)}else try{St.removeChild(l.stateNode)}catch(g){mt(l,a,g)}break;case 18:St!==null&&(lr?(i=St,GA(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),rf(i)):GA(St,l.stateNode));break;case 4:c=St,p=lr,St=l.stateNode.containerInfo,lr=!0,bs(i,a,l),St=c,lr=p;break;case 0:case 11:case 14:case 15:Yt||ya(2,l,a),Yt||ya(4,l,a),bs(i,a,l);break;case 1:Yt||(Di(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&XS(l,a,c)),bs(i,a,l);break;case 21:bs(i,a,l);break;case 22:Yt=(c=Yt)||l.memoizedState!==null,bs(i,a,l),Yt=c;break;default:bs(i,a,l)}}function sA(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{rf(i)}catch(l){mt(a,a.return,l)}}function Qk(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new tA),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new tA),a;default:throw Error(r(435,i.tag))}}function pv(i,a){var l=Qk(i);a.forEach(function(c){var p=iM.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function wr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=i,T=a,O=T;e:for(;O!==null;){switch(O.tag){case 27:if(Aa(O.type)){St=O.stateNode,lr=!1;break e}break;case 5:St=O.stateNode,lr=!1;break e;case 3:case 4:St=O.stateNode.containerInfo,lr=!0;break e}O=O.return}if(St===null)throw Error(r(160));iA(g,T,p),St=null,lr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)aA(a,i),a=a.sibling}var oi=null;function aA(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wr(a,i),br(i),c&4&&(ya(3,i,i.return),Bh(3,i),ya(5,i,i.return));break;case 1:wr(a,i),br(i),c&512&&(Yt||l===null||Di(l,l.return)),c&64&&ws&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=oi;if(wr(a,i),br(i),c&512&&(Yt||l===null||Di(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ea]||g[Gt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),xn(g,c,l),g[Gt]=i,Kt(g),c=g;break e;case"link":var T=eI("link","href",p).get(c+(l.href||""));if(T){for(var O=0;O<T.length;O++)if(g=T[O],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(O,1);break t}}g=p.createElement(c),xn(g,c,l),p.head.appendChild(g);break;case"meta":if(T=eI("meta","content",p).get(c+(l.content||""))){for(O=0;O<T.length;O++)if(g=T[O],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(O,1);break t}}g=p.createElement(c),xn(g,c,l),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[Gt]=i,Kt(g),c=g}i.stateNode=c}else tI(p,i.type,i.stateNode);else i.stateNode=ZA(p,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?tI(p,i.type,i.stateNode):ZA(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&hv(i,i.memoizedProps,l.memoizedProps)}break;case 27:wr(a,i),br(i),c&512&&(Yt||l===null||Di(l,l.return)),l!==null&&c&4&&hv(i,i.memoizedProps,l.memoizedProps);break;case 5:if(wr(a,i),br(i),c&512&&(Yt||l===null||Di(l,l.return)),i.flags&32){p=i.stateNode;try{Ur(p,"")}catch(ie){mt(i,i.return,ie)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,hv(i,p,l!==null?l.memoizedProps:p)),c&1024&&(mv=!0);break;case 6:if(wr(a,i),br(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ie){mt(i,i.return,ie)}}break;case 3:if(gp=null,p=oi,oi=mp(a.containerInfo),wr(a,i),oi=p,br(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{rf(a.containerInfo)}catch(ie){mt(i,i.return,ie)}mv&&(mv=!1,oA(i));break;case 4:c=oi,oi=mp(i.stateNode.containerInfo),wr(a,i),br(i),oi=c;break;case 12:wr(a,i),br(i);break;case 13:wr(a,i),br(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(wv=Un()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,pv(i,c)));break;case 22:p=i.memoizedState!==null;var F=l!==null&&l.memoizedState!==null,te=ws,ce=Yt;if(ws=te||p,Yt=ce||F,wr(a,i),Yt=ce,ws=te,br(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||F||ws||Yt||Xo(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){F=l=a;try{if(g=F.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{O=F.stateNode;var fe=F.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;O.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){mt(F,F.return,ie)}}}else if(a.tag===6){if(l===null){F=a;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(ie){mt(F,F.return,ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,pv(i,l))));break;case 19:wr(a,i),br(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,pv(i,c)));break;case 30:break;case 21:break;default:wr(a,i),br(i)}}function br(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(ZS(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=fv(i);tp(i,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(Ur(T,""),l.flags&=-33);var O=fv(i);tp(i,O,T);break;case 3:case 4:var F=l.stateNode.containerInfo,te=fv(i);dv(i,te,F);break;default:throw Error(r(161))}}catch(ce){mt(i,i.return,ce)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function oA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;oA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function _a(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)nA(i,a.alternate,a),a=a.sibling}function Xo(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ya(4,a,a.return),Xo(a);break;case 1:Di(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&XS(a,a.return,l),Xo(a);break;case 27:Qh(a.stateNode);case 26:case 5:Di(a,a.return),Xo(a);break;case 22:a.memoizedState===null&&Xo(a);break;case 30:Xo(a);break;default:Xo(a)}i=i.sibling}}function va(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,g=a,T=g.flags;switch(g.tag){case 0:case 11:case 15:va(p,g,l),Bh(4,g);break;case 1:if(va(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(te){mt(c,c.return,te)}if(c=g,p=c.updateQueue,p!==null){var O=c.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)V0(F[p],O)}catch(te){mt(c,c.return,te)}}l&&T&64&&YS(g),Fh(g,g.return);break;case 27:eA(g);case 26:case 5:va(p,g,l),l&&c===null&&T&4&&JS(g),Fh(g,g.return);break;case 12:va(p,g,l);break;case 13:va(p,g,l),l&&T&4&&sA(p,g);break;case 22:g.memoizedState===null&&va(p,g,l),Fh(g,g.return);break;case 30:break;default:va(p,g,l)}a=a.sibling}}function gv(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Ah(l))}function yv(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ah(i))}function xi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)lA(i,a,l,c),a=a.sibling}function lA(i,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:xi(i,a,l,c),p&2048&&Bh(9,a);break;case 1:xi(i,a,l,c);break;case 3:xi(i,a,l,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ah(i)));break;case 12:if(p&2048){xi(i,a,l,c),i=a.stateNode;try{var g=a.memoizedProps,T=g.id,O=g.onPostCommit;typeof O=="function"&&O(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(F){mt(a,a.return,F)}}else xi(i,a,l,c);break;case 13:xi(i,a,l,c);break;case 23:break;case 22:g=a.stateNode,T=a.alternate,a.memoizedState!==null?g._visibility&2?xi(i,a,l,c):zh(i,a):g._visibility&2?xi(i,a,l,c):(g._visibility|=2,vu(i,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&gv(T,a);break;case 24:xi(i,a,l,c),p&2048&&yv(a.alternate,a);break;default:xi(i,a,l,c)}}function vu(i,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,T=a,O=l,F=c,te=T.flags;switch(T.tag){case 0:case 11:case 15:vu(g,T,O,F,p),Bh(8,T);break;case 23:break;case 22:var ce=T.stateNode;T.memoizedState!==null?ce._visibility&2?vu(g,T,O,F,p):zh(g,T):(ce._visibility|=2,vu(g,T,O,F,p)),p&&te&2048&&gv(T.alternate,T);break;case 24:vu(g,T,O,F,p),p&&te&2048&&yv(T.alternate,T);break;default:vu(g,T,O,F,p)}a=a.sibling}}function zh(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,p=c.flags;switch(c.tag){case 22:zh(l,c),p&2048&&gv(c.alternate,c);break;case 24:zh(l,c),p&2048&&yv(c.alternate,c);break;default:zh(l,c)}a=a.sibling}}var qh=8192;function Eu(i){if(i.subtreeFlags&qh)for(i=i.child;i!==null;)uA(i),i=i.sibling}function uA(i){switch(i.tag){case 26:Eu(i),i.flags&qh&&i.memoizedState!==null&&kM(oi,i.memoizedState,i.memoizedProps);break;case 5:Eu(i);break;case 3:case 4:var a=oi;oi=mp(i.stateNode.containerInfo),Eu(i),oi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=qh,qh=16777216,Eu(i),qh=a):Eu(i));break;default:Eu(i)}}function cA(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function jh(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];bn=c,fA(c,i)}cA(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hA(i),i=i.sibling}function hA(i){switch(i.tag){case 0:case 11:case 15:jh(i),i.flags&2048&&ya(9,i,i.return);break;case 3:jh(i);break;case 12:jh(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,np(i)):jh(i);break;default:jh(i)}}function np(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];bn=c,fA(c,i)}cA(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ya(8,a,a.return),np(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,np(a));break;default:np(a)}i=i.sibling}}function fA(i,a){for(;bn!==null;){var l=bn;switch(l.tag){case 0:case 11:case 15:ya(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ah(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,bn=c;else e:for(l=i;bn!==null;){c=bn;var p=c.sibling,g=c.return;if(rA(c),c===l){bn=null;break e}if(p!==null){p.return=g,bn=p;break e}bn=g}}}var Yk={getCacheForType:function(i){var a=Fn(gn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},Xk=typeof WeakMap=="function"?WeakMap:Map,rt=0,_t=null,ze=null,Ke=0,it=0,Tr=null,Ea=!1,wu=!1,_v=!1,Ts=0,Lt=0,wa=0,Jo=0,vv=0,$r=0,bu=0,Hh=null,ur=null,Ev=!1,wv=0,rp=1/0,ip=null,ba=null,Dn=0,Ta=null,Tu=null,Su=0,bv=0,Tv=null,dA=null,$h=0,Sv=null;function Sr(){if((rt&2)!==0&&Ke!==0)return Ke&-Ke;if(z.T!==null){var i=hu;return i!==0?i:Dv()}return ss()}function mA(){$r===0&&($r=(Ke&536870912)===0||Je?th():536870912);var i=Hr.current;return i!==null&&(i.flags|=32),$r}function Ar(i,a,l){(i===_t&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(Au(i,0),Sa(i,Ke,$r,!1)),$t(i,l),((rt&2)===0||i!==_t)&&(i===_t&&((rt&2)===0&&(Jo|=l),Lt===4&&Sa(i,Ke,$r,!1)),Ni(i))}function pA(i,a,l){if((rt&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Ys(i,a),p=c?eM(i,a):Rv(i,a,!0),g=c;do{if(p===0){wu&&!c&&Sa(i,a,0,!1);break}else{if(l=i.current.alternate,g&&!Jk(l)){p=Rv(i,a,!1),g=!1;continue}if(p===2){if(g=a,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var O=i;p=Hh;var F=O.current.memoizedState.isDehydrated;if(F&&(Au(O,T).flags|=256),T=Rv(O,T,!1),T!==2){if(_v&&!F){O.errorRecoveryDisabledLanes|=g,Jo|=g,p=4;break e}g=ur,ur=p,g!==null&&(ur===null?ur=g:ur.push.apply(ur,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Au(i,0),Sa(i,a,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Sa(c,a,$r,!Ea);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=wv+300-Un(),10<p)){if(Sa(c,a,$r,!Ea),Vr(c,0,!0)!==0)break e;c.timeoutHandle=HA(gA.bind(null,c,l,ur,ip,Ev,a,$r,Jo,bu,Ea,g,2,-0,0),p);break e}gA(c,l,ur,ip,Ev,a,$r,Jo,bu,Ea,g,0,-0,0)}}break}while(!0);Ni(i)}function gA(i,a,l,c,p,g,T,O,F,te,ce,fe,re,ie){if(i.timeoutHandle=-1,fe=a.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Jh={stylesheets:null,count:0,unsuspend:NM},uA(a),fe=MM(),fe!==null)){i.cancelPendingCommit=fe(TA.bind(null,i,a,g,l,c,p,T,O,F,ce,1,re,ie)),Sa(i,g,T,!te);return}TA(i,a,g,l,c,p,T,O,F)}function Jk(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!vr(g(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Sa(i,a,l,c){a&=~vv,a&=~Jo,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var g=31-mn(p),T=1<<g;c[g]=-1,p&=~T}l!==0&&Js(i,l,a)}function sp(){return(rt&6)===0?(Gh(0),!1):!0}function Av(){if(ze!==null){if(it===0)var i=ze.return;else i=ze,ps=Go=null,q_(i),yu=null,Vh=0,i=ze;for(;i!==null;)QS(i.alternate,i),i=i.return;ze=null}}function Au(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,gM(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Av(),_t=i,ze=l=fs(i.current,null),Ke=a,it=0,Tr=null,Ea=!1,wu=Ys(i,a),_v=!1,bu=$r=vv=Jo=wa=Lt=0,ur=Hh=null,Ev=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-mn(c),g=1<<p;a|=i[p],c&=~g}return Ts=a,Rm(),l}function yA(i,a){Be=null,z.H=Gm,a===Rh||a===Vm?(a=k0(),it=3):a===D0?(a=k0(),it=4):it=a===MS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Tr=a,ze===null&&(Lt=1,Xm(i,Fr(a,i.current)))}function _A(){var i=z.H;return z.H=Gm,i===null?Gm:i}function vA(){var i=z.A;return z.A=Yk,i}function Iv(){Lt=4,Ea||(Ke&4194048)!==Ke&&Hr.current!==null||(wu=!0),(wa&134217727)===0&&(Jo&134217727)===0||_t===null||Sa(_t,Ke,$r,!1)}function Rv(i,a,l){var c=rt;rt|=2;var p=_A(),g=vA();(_t!==i||Ke!==a)&&(ip=null,Au(i,a)),a=!1;var T=Lt;e:do try{if(it!==0&&ze!==null){var O=ze,F=Tr;switch(it){case 8:Av(),T=6;break e;case 3:case 2:case 9:case 6:Hr.current===null&&(a=!0);var te=it;if(it=0,Tr=null,Iu(i,O,F,te),l&&wu){T=0;break e}break;default:te=it,it=0,Tr=null,Iu(i,O,F,te)}}Zk(),T=Lt;break}catch(ce){yA(i,ce)}while(!0);return a&&i.shellSuspendCounter++,ps=Go=null,rt=c,z.H=p,z.A=g,ze===null&&(_t=null,Ke=0,Rm()),T}function Zk(){for(;ze!==null;)EA(ze)}function eM(i,a){var l=rt;rt|=2;var c=_A(),p=vA();_t!==i||Ke!==a?(ip=null,rp=Un()+500,Au(i,a)):wu=Ys(i,a);e:do try{if(it!==0&&ze!==null){a=ze;var g=Tr;t:switch(it){case 1:it=0,Tr=null,Iu(i,a,g,1);break;case 2:case 9:if(x0(g)){it=0,Tr=null,wA(a);break}a=function(){it!==2&&it!==9||_t!==i||(it=7),Ni(i)},g.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:x0(g)?(it=0,Tr=null,wA(a)):(it=0,Tr=null,Iu(i,a,g,7));break;case 5:var T=null;switch(ze.tag){case 26:T=ze.memoizedState;case 5:case 27:var O=ze;if(!T||nI(T)){it=0,Tr=null;var F=O.sibling;if(F!==null)ze=F;else{var te=O.return;te!==null?(ze=te,ap(te)):ze=null}break t}}it=0,Tr=null,Iu(i,a,g,5);break;case 6:it=0,Tr=null,Iu(i,a,g,6);break;case 8:Av(),Lt=6;break e;default:throw Error(r(462))}}tM();break}catch(ce){yA(i,ce)}while(!0);return ps=Go=null,z.H=c,z.A=p,rt=l,ze!==null?0:(_t=null,Ke=0,Rm(),Lt)}function tM(){for(;ze!==null&&!eh();)EA(ze)}function EA(i){var a=KS(i.alternate,i,Ts);i.memoizedProps=i.pendingProps,a===null?ap(i):ze=a}function wA(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=zS(l,a,a.pendingProps,a.type,void 0,Ke);break;case 11:a=zS(l,a,a.pendingProps,a.type.render,a.ref,Ke);break;case 5:q_(a);default:QS(l,a),a=ze=b0(a,Ts),a=KS(l,a,Ts)}i.memoizedProps=i.pendingProps,a===null?ap(i):ze=a}function Iu(i,a,l,c){ps=Go=null,q_(a),yu=null,Vh=0;var p=a.return;try{if(Hk(i,p,a,l,Ke)){Lt=1,Xm(i,Fr(l,i.current)),ze=null;return}}catch(g){if(p!==null)throw ze=p,g;Lt=1,Xm(i,Fr(l,i.current)),ze=null;return}a.flags&32768?(Je||c===1?i=!0:wu||(Ke&536870912)!==0?i=!1:(Ea=i=!0,(c===2||c===9||c===3||c===6)&&(c=Hr.current,c!==null&&c.tag===13&&(c.flags|=16384))),bA(a,i)):ap(a)}function ap(i){var a=i;do{if((a.flags&32768)!==0){bA(a,Ea);return}i=a.return;var l=Gk(a.alternate,a,Ts);if(l!==null){ze=l;return}if(a=a.sibling,a!==null){ze=a;return}ze=a=i}while(a!==null);Lt===0&&(Lt=5)}function bA(i,a){do{var l=Kk(i.alternate,i);if(l!==null){l.flags&=32767,ze=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){ze=i;return}ze=i=l}while(i!==null);Lt=6,ze=null}function TA(i,a,l,c,p,g,T,O,F){i.cancelPendingCommit=null;do op();while(Dn!==0);if((rt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=y_,cm(i,l,g,T,O,F),i===_t&&(ze=_t=null,Ke=0),Tu=a,Ta=i,Su=l,bv=g,Tv=p,dA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,sM($e,function(){return CA(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=z.T,z.T=null,p=J.p,J.p=2,T=rt,rt|=4;try{Wk(i,a,l)}finally{rt=T,J.p=p,z.T=c}}Dn=1,SA(),AA(),IA()}}function SA(){if(Dn===1){Dn=0;var i=Ta,a=Tu,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var c=J.p;J.p=2;var p=rt;rt|=4;try{aA(a,i);var g=Bv,T=f0(i.containerInfo),O=g.focusedElem,F=g.selectionRange;if(T!==O&&O&&O.ownerDocument&&h0(O.ownerDocument.documentElement,O)){if(F!==null&&f_(O)){var te=F.start,ce=F.end;if(ce===void 0&&(ce=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(ce,O.value.length);else{var fe=O.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Ne=O.textContent.length,Oe=Math.min(F.start,Ne),ft=F.end===void 0?Oe:Math.min(F.end,Ne);!ie.extend&&Oe>ft&&(T=ft,ft=Oe,Oe=T);var Y=c0(O,Oe),K=c0(O,ft);if(Y&&K&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var Z=fe.createRange();Z.setStart(Y.node,Y.offset),ie.removeAllRanges(),Oe>ft?(ie.addRange(Z),ie.extend(K.node,K.offset)):(Z.setEnd(K.node,K.offset),ie.addRange(Z))}}}}for(fe=[],ie=O;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<fe.length;O++){var he=fe[O];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}vp=!!Uv,Bv=Uv=null}finally{rt=p,J.p=c,z.T=l}}i.current=a,Dn=2}}function AA(){if(Dn===2){Dn=0;var i=Ta,a=Tu,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var c=J.p;J.p=2;var p=rt;rt|=4;try{nA(i,a.alternate,a)}finally{rt=p,J.p=c,z.T=l}}Dn=3}}function IA(){if(Dn===4||Dn===3){Dn=0,_o();var i=Ta,a=Tu,l=Su,c=dA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Dn=5:(Dn=0,Tu=Ta=null,RA(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ba=null),rh(l),a=a.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Qn,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=z.T,p=J.p,J.p=2,z.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var O=c[T];g(O.value,{componentStack:O.stack})}}finally{z.T=a,J.p=p}}(Su&3)!==0&&op(),Ni(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===Sv?$h++:($h=0,Sv=i):$h=0,Gh(0)}}function RA(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ah(a)))}function op(i){return SA(),AA(),IA(),CA()}function CA(){if(Dn!==5)return!1;var i=Ta,a=bv;bv=0;var l=rh(Su),c=z.T,p=J.p;try{J.p=32>l?32:l,z.T=null,l=Tv,Tv=null;var g=Ta,T=Su;if(Dn=0,Tu=Ta=null,Su=0,(rt&6)!==0)throw Error(r(331));var O=rt;if(rt|=4,hA(g.current),lA(g,g.current,T,l),rt=O,Gh(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Qn,g)}catch{}return!0}finally{J.p=p,z.T=c,RA(i,a)}}function PA(i,a,l){a=Fr(l,a),a=nv(i.stateNode,a,2),i=da(i,a,2),i!==null&&($t(i,2),Ni(i))}function mt(i,a,l){if(i.tag===3)PA(i,i,l);else for(;a!==null;){if(a.tag===3){PA(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ba===null||!ba.has(c))){i=Fr(l,i),l=NS(2),c=da(a,l,2),c!==null&&(kS(l,c,a,i),$t(c,2),Ni(c));break}}a=a.return}}function Cv(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new Xk;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(_v=!0,p.add(l),i=nM.bind(null,i,a,l),a.then(i,i))}function nM(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,_t===i&&(Ke&l)===l&&(Lt===4||Lt===3&&(Ke&62914560)===Ke&&300>Un()-wv?(rt&2)===0&&Au(i,0):vv|=l,bu===Ke&&(bu=0)),Ni(i)}function OA(i,a){a===0&&(a=Xs()),i=ou(i,a),i!==null&&($t(i,a),Ni(i))}function rM(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),OA(i,l)}function iM(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),OA(i,l)}function sM(i,a){return Ln(i,a)}var lp=null,Ru=null,Pv=!1,up=!1,Ov=!1,Zo=0;function Ni(i){i!==Ru&&i.next===null&&(Ru===null?lp=Ru=i:Ru=Ru.next=i),up=!0,Pv||(Pv=!0,oM())}function Gh(i,a){if(!Ov&&up){Ov=!0;do for(var l=!1,c=lp;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,O=c.pingedLanes;g=(1<<31-mn(42|i)+1)-1,g&=p&~(T&~O),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,kA(c,g))}else g=Ke,g=Vr(c,c===_t?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ys(c,g)||(l=!0,kA(c,g));c=c.next}while(l);Ov=!1}}function aM(){DA()}function DA(){up=Pv=!1;var i=0;Zo!==0&&(pM()&&(i=Zo),Zo=0);for(var a=Un(),l=null,c=lp;c!==null;){var p=c.next,g=xA(c,a);g===0?(c.next=null,l===null?lp=p:l.next=p,p===null&&(Ru=l)):(l=c,(i!==0||(g&3)!==0)&&(up=!0)),c=p}Gh(i)}function xA(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-mn(g),O=1<<T,F=p[T];F===-1?((O&l)===0||(O&c)!==0)&&(p[T]=Hl(O,a)):F<=a&&(i.expiredLanes|=O),g&=~O}if(a=_t,l=Ke,l=Vr(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(it===2||it===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&vi(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Ys(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&vi(c),rh(l)){case 2:case 8:l=Ht;break;case 32:l=$e;break;case 268435456:l=Cn;break;default:l=$e}return c=NA.bind(null,i),l=Ln(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&vi(c),i.callbackPriority=2,i.callbackNode=null,2}function NA(i,a){if(Dn!==0&&Dn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(op()&&i.callbackNode!==l)return null;var c=Ke;return c=Vr(i,i===_t?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(pA(i,c,a),xA(i,Un()),i.callbackNode!=null&&i.callbackNode===l?NA.bind(null,i):null)}function kA(i,a){if(op())return null;pA(i,a,!0)}function oM(){yM(function(){(rt&6)!==0?Ln(jt,aM):DA()})}function Dv(){return Zo===0&&(Zo=th()),Zo}function MA(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ni(""+i)}function VA(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function lM(i,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var g=MA((p[Pn]||null).action),T=c.submitter;T&&(a=(a=T[Pn]||null)?MA(a.formAction):T.getAttribute("formAction"),a!==null&&(g=a,T=null));var O=new xo("action","action",null,c,p);i.push({event:O,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Zo!==0){var F=T?VA(p,T):new FormData(p);X_(l,{pending:!0,data:F,method:p.method,action:g},null,F)}}else typeof g=="function"&&(O.preventDefault(),F=T?VA(p,T):new FormData(p),X_(l,{pending:!0,data:F,method:p.method,action:g},g,F))},currentTarget:p}]})}}for(var xv=0;xv<g_.length;xv++){var Nv=g_[xv],uM=Nv.toLowerCase(),cM=Nv[0].toUpperCase()+Nv.slice(1);ai(uM,"on"+cM)}ai(p0,"onAnimationEnd"),ai(g0,"onAnimationIteration"),ai(y0,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(Rk,"onTransitionRun"),ai(Ck,"onTransitionStart"),ai(Pk,"onTransitionCancel"),ai(_0,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kh));function LA(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var T=c.length-1;0<=T;T--){var O=c[T],F=O.instance,te=O.currentTarget;if(O=O.listener,F!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=te;try{g(p)}catch(ce){Ym(ce)}p.currentTarget=null,g=F}else for(T=0;T<c.length;T++){if(O=c[T],F=O.instance,te=O.currentTarget,O=O.listener,F!==g&&p.isPropagationStopped())break e;g=O,p.currentTarget=te;try{g(p)}catch(ce){Ym(ce)}p.currentTarget=null,g=F}}}}function qe(i,a){var l=a[vo];l===void 0&&(l=a[vo]=new Set);var c=i+"__bubble";l.has(c)||(UA(a,i,2,!1),l.add(c))}function kv(i,a,l){var c=0;a&&(c|=4),UA(l,i,c,a)}var cp="_reactListening"+Math.random().toString(36).slice(2);function Mv(i){if(!i[cp]){i[cp]=!0,hm.forEach(function(l){l!=="selectionchange"&&(hM.has(l)||kv(l,!1,i),kv(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[cp]||(a[cp]=!0,kv("selectionchange",!1,a))}}function UA(i,a,l,c){switch(lI(a)){case 2:var p=UM;break;case 8:p=BM;break;default:p=Qv}l=p.bind(null,a,l,i),p=void 0,!cs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function Vv(i,a,l,c,p){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var O=c.stateNode.containerInfo;if(O===p)break;if(T===4)for(T=c.return;T!==null;){var F=T.tag;if((F===3||F===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;O!==null;){if(T=bi(O),T===null)return;if(F=T.tag,F===5||F===6||F===26||F===27){c=g=T;continue e}O=O.parentNode}}c=c.return}Po(function(){var te=g,ce=ch(l),fe=[];e:{var re=v0.get(i);if(re!==void 0){var ie=xo,Ne=i;switch(i){case"keypress":if(Oo(l)===0)break e;case"keydown":case"keyup":ie=ru;break;case"focusin":Ne="focus",ie=eu;break;case"focusout":Ne="blur",ie=eu;break;case"beforeblur":case"afterblur":ie=eu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=_m;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=ua;break;case p0:case g0:case y0:ie=fh;break;case _0:ie=v;break;case"scroll":case"scrollend":ie=ko;break;case"wheel":ie=N;break;case"copy":case"cut":case"paste":ie=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=ph;break;case"toggle":case"beforetoggle":ie=ae}var Oe=(a&4)!==0,ft=!Oe&&(i==="scroll"||i==="scrollend"),Y=Oe?re!==null?re+"Capture":null:re;Oe=[];for(var K=te,Z;K!==null;){var he=K;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Y===null||(he=oa(K,Y),he!=null&&Oe.push(Wh(K,he,Z))),ft)break;K=K.return}0<Oe.length&&(re=new ie(re,Ne,null,l,ce),fe.push({event:re,listeners:Oe}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",re&&l!==uh&&(Ne=l.relatedTarget||l.fromElement)&&(bi(Ne)||Ne[as]))break e;if((ie||re)&&(re=ce.window===ce?ce:(re=ce.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Ne=l.relatedTarget||l.toElement,ie=te,Ne=Ne?bi(Ne):null,Ne!==null&&(ft=o(Ne),Oe=Ne.tag,Ne!==ft||Oe!==5&&Oe!==27&&Oe!==6)&&(Ne=null)):(ie=null,Ne=te),ie!==Ne)){if(Oe=Lo,he="onMouseLeave",Y="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=ph,he="onPointerLeave",Y="onPointerEnter",K="pointer"),ft=ie==null?re:ta(ie),Z=Ne==null?re:ta(Ne),re=new Oe(he,K+"leave",ie,l,ce),re.target=ft,re.relatedTarget=Z,he=null,bi(ce)===te&&(Oe=new Oe(Y,K+"enter",Ne,l,ce),Oe.target=Z,Oe.relatedTarget=ft,he=Oe),ft=he,ie&&Ne)t:{for(Oe=ie,Y=Ne,K=0,Z=Oe;Z;Z=Cu(Z))K++;for(Z=0,he=Y;he;he=Cu(he))Z++;for(;0<K-Z;)Oe=Cu(Oe),K--;for(;0<Z-K;)Y=Cu(Y),Z--;for(;K--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Cu(Oe),Y=Cu(Y)}Oe=null}else Oe=null;ie!==null&&BA(fe,re,ie,Oe,!1),Ne!==null&&ft!==null&&BA(fe,ft,Ne,Oe,!0)}}e:{if(re=te?ta(te):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Se=i0;else if(n0(re))if(s0)Se=Sk;else{Se=bk;var Fe=wk}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Xl(te.elementType)&&(Se=i0):Se=Tk;if(Se&&(Se=Se(i,te))){r0(fe,Se,l,ce);break e}Fe&&Fe(i,re,te),i==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&ah(re,"number",re.value)}switch(Fe=te?ta(te):window,i){case"focusin":(n0(Fe)||Fe.contentEditable==="true")&&(iu=Fe,d_=te,Eh=null);break;case"focusout":Eh=d_=iu=null;break;case"mousedown":m_=!0;break;case"contextmenu":case"mouseup":case"dragend":m_=!1,d0(fe,l,ce);break;case"selectionchange":if(Ik)break;case"keydown":case"keyup":d0(fe,l,ce)}var Re;if(Me)e:{switch(i){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else si?ri(i,l)&&(De="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Wt&&l.locale!=="ko"&&(si||De!=="onCompositionStart"?De==="onCompositionEnd"&&si&&(Re=ym()):(Br=ce,yt="value"in Br?Br.value:Br.textContent,si=!0)),Fe=hp(te,De),0<Fe.length&&(De=new mh(De,i,null,l,ce),fe.push({event:De,listeners:Fe}),Re?De.data=Re:(Re=ii(l),Re!==null&&(De.data=Re)))),(Re=nt?gh(i,l):_k(i,l))&&(De=hp(te,"onBeforeInput"),0<De.length&&(Fe=new mh("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Fe,listeners:De}),Fe.data=Re)),lM(fe,i,te,l,ce)}LA(fe,a)})}function Wh(i,a,l){return{instance:i,listener:a,currentTarget:l}}function hp(i,a){for(var l=a+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=oa(i,l),p!=null&&c.unshift(Wh(i,p,g)),p=oa(i,a),p!=null&&c.push(Wh(i,p,g))),i.tag===3)return c;i=i.return}return[]}function Cu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function BA(i,a,l,c,p){for(var g=a._reactName,T=[];l!==null&&l!==c;){var O=l,F=O.alternate,te=O.stateNode;if(O=O.tag,F!==null&&F===c)break;O!==5&&O!==26&&O!==27||te===null||(F=te,p?(te=oa(l,g),te!=null&&T.unshift(Wh(l,te,F))):p||(te=oa(l,g),te!=null&&T.push(Wh(l,te,F)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var fM=/\r\n?/g,dM=/\u0000|\uFFFD/g;function FA(i){return(typeof i=="string"?i:""+i).replace(fM,`
`).replace(dM,"")}function zA(i,a){return a=FA(a),FA(i)===a}function fp(){}function ht(i,a,l,c,p,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ur(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ur(i,""+c);break;case"className":So(i,"class",c);break;case"tabIndex":So(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":So(i,l,c);break;case"style":lh(i,c,g);break;case"data":if(a!=="object"){So(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ni(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&ht(i,a,"name",p.name,p,null),ht(i,a,"formEncType",p.formEncType,p,null),ht(i,a,"formMethod",p.formMethod,p,null),ht(i,a,"formTarget",p.formTarget,p,null)):(ht(i,a,"encType",p.encType,p,null),ht(i,a,"method",p.method,p,null),ht(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=ni(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=fp);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=ni(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":qe("beforetoggle",i),qe("toggle",i),To(i,"popover",c);break;case"xlinkActuate":Lr(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Lr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Lr(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Lr(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Lr(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Lr(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Lr(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Lr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Lr(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":To(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=mm.get(l)||l,To(i,l,c))}}function Lv(i,a,l,c,p,g){switch(l){case"style":lh(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Ur(i,c):(typeof c=="number"||typeof c=="bigint")&&Ur(i,""+c);break;case"onScroll":c!=null&&qe("scroll",i);break;case"onScrollEnd":c!=null&&qe("scrollend",i);break;case"onClick":c!=null&&(i.onclick=fp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),g=i[Pn]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):To(i,l,c)}}}function xn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",i),qe("load",i);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(i,a,g,T,l,null)}}p&&ht(i,a,"srcSet",l.srcSet,l,null),c&&ht(i,a,"src",l.src,l,null);return;case"input":qe("invalid",i);var O=g=T=p=null,F=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":p=ce;break;case"type":T=ce;break;case"checked":F=ce;break;case"defaultChecked":te=ce;break;case"value":g=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ht(i,a,c,ce,l,null)}}sh(i,g,O,F,te,T,p,!1),ia(i);return;case"select":qe("invalid",i),c=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(O=l[p],O!=null))switch(p){case"value":g=O;break;case"defaultValue":T=O;break;case"multiple":c=O;default:ht(i,a,p,O,l,null)}a=g,l=T,i.multiple=!!c,a!=null?sa(i,!!c,a,!1):l!=null&&sa(i,!!c,l,!0);return;case"textarea":qe("invalid",i),g=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(O=l[T],O!=null))switch(T){case"value":c=O;break;case"defaultValue":p=O;break;case"children":g=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:ht(i,a,T,O,l,null)}dm(i,c,p,g),ia(i);return;case"option":for(F in l)if(l.hasOwnProperty(F)&&(c=l[F],c!=null))switch(F){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(i,a,F,c,l,null)}return;case"dialog":qe("beforetoggle",i),qe("toggle",i),qe("cancel",i),qe("close",i);break;case"iframe":case"object":qe("load",i);break;case"video":case"audio":for(c=0;c<Kh.length;c++)qe(Kh[c],i);break;case"image":qe("error",i),qe("load",i);break;case"details":qe("toggle",i);break;case"embed":case"source":case"link":qe("error",i),qe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(i,a,te,c,l,null)}return;default:if(Xl(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Lv(i,a,ce,c,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(c=l[O],c!=null&&ht(i,a,O,c,l,null))}function mM(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,O=null,F=null,te=null,ce=null;for(ie in l){var fe=l[ie];if(l.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":F=fe;default:c.hasOwnProperty(ie)||ht(i,a,ie,null,c,fe)}}for(var re in c){var ie=c[re];if(fe=l[re],c.hasOwnProperty(re)&&(ie!=null||fe!=null))switch(re){case"type":g=ie;break;case"name":p=ie;break;case"checked":te=ie;break;case"defaultChecked":ce=ie;break;case"value":T=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:ie!==fe&&ht(i,a,re,ie,c,fe)}}ih(i,T,O,F,te,ce,g,p);return;case"select":ie=T=O=re=null;for(g in l)if(F=l[g],l.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":ie=F;default:c.hasOwnProperty(g)||ht(i,a,g,null,c,F)}for(p in c)if(g=c[p],F=l[p],c.hasOwnProperty(p)&&(g!=null||F!=null))switch(p){case"value":re=g;break;case"defaultValue":O=g;break;case"multiple":T=g;default:g!==F&&ht(i,a,p,g,c,F)}a=O,l=T,c=ie,re!=null?sa(i,!!l,re,!1):!!c!=!!l&&(a!=null?sa(i,!!l,a,!0):sa(i,!!l,l?[]:"",!1));return;case"textarea":ie=re=null;for(O in l)if(p=l[O],l.hasOwnProperty(O)&&p!=null&&!c.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ht(i,a,O,null,c,p)}for(T in c)if(p=c[T],g=l[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":re=p;break;case"defaultValue":ie=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&ht(i,a,T,p,c,g)}fm(i,re,ie);return;case"option":for(var Ne in l)if(re=l[Ne],l.hasOwnProperty(Ne)&&re!=null&&!c.hasOwnProperty(Ne))switch(Ne){case"selected":i.selected=!1;break;default:ht(i,a,Ne,null,c,re)}for(F in c)if(re=c[F],ie=l[F],c.hasOwnProperty(F)&&re!==ie&&(re!=null||ie!=null))switch(F){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:ht(i,a,F,re,c,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Oe in l)re=l[Oe],l.hasOwnProperty(Oe)&&re!=null&&!c.hasOwnProperty(Oe)&&ht(i,a,Oe,null,c,re);for(te in c)if(re=c[te],ie=l[te],c.hasOwnProperty(te)&&re!==ie&&(re!=null||ie!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:ht(i,a,te,re,c,ie)}return;default:if(Xl(a)){for(var ft in l)re=l[ft],l.hasOwnProperty(ft)&&re!==void 0&&!c.hasOwnProperty(ft)&&Lv(i,a,ft,void 0,c,re);for(ce in c)re=c[ce],ie=l[ce],!c.hasOwnProperty(ce)||re===ie||re===void 0&&ie===void 0||Lv(i,a,ce,re,c,ie);return}}for(var Y in l)re=l[Y],l.hasOwnProperty(Y)&&re!=null&&!c.hasOwnProperty(Y)&&ht(i,a,Y,null,c,re);for(fe in c)re=c[fe],ie=l[fe],!c.hasOwnProperty(fe)||re===ie||re==null&&ie==null||ht(i,a,fe,re,c,ie)}var Uv=null,Bv=null;function dp(i){return i.nodeType===9?i:i.ownerDocument}function qA(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jA(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Fv(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var zv=null;function pM(){var i=window.event;return i&&i.type==="popstate"?i===zv?!1:(zv=i,!0):(zv=null,!1)}var HA=typeof setTimeout=="function"?setTimeout:void 0,gM=typeof clearTimeout=="function"?clearTimeout:void 0,$A=typeof Promise=="function"?Promise:void 0,yM=typeof queueMicrotask=="function"?queueMicrotask:typeof $A<"u"?function(i){return $A.resolve(null).then(i).catch(_M)}:HA;function _M(i){setTimeout(function(){throw i})}function Aa(i){return i==="head"}function GA(i,a){var l=a,c=0,p=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var T=i.ownerDocument;if(l&1&&Qh(T.documentElement),l&2&&Qh(T.body),l&4)for(l=T.head,Qh(l),T=l.firstChild;T;){var O=T.nextSibling,F=T.nodeName;T[ea]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=O}}if(p===0){i.removeChild(g),rf(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);rf(a)}function qv(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qv(l),Gl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function vM(i,a,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ea])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=li(i.nextSibling),i===null)break}return null}function EM(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=li(i.nextSibling),i===null))return null;return i}function jv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function wM(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function li(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var Hv=null;function KA(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function WA(i,a,l){switch(a=dp(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Qh(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Gl(i)}var Gr=new Map,QA=new Set;function mp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=J.d;J.d={f:bM,r:TM,D:SM,C:AM,L:IM,m:RM,X:PM,S:CM,M:OM};function bM(){var i=Ss.f(),a=sp();return i||a}function TM(i){var a=Ti(i);a!==null&&a.tag===5&&a.type==="form"?pS(a):Ss.r(i)}var Pu=typeof document>"u"?null:document;function YA(i,a,l){var c=Pu;if(c&&typeof a=="string"&&a){var p=En(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),QA.has(p)||(QA.add(p),i={rel:i,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),xn(a,"link",i),Kt(a),c.head.appendChild(a)))}}function SM(i){Ss.D(i),YA("dns-prefetch",i,null)}function AM(i,a){Ss.C(i,a),YA("preconnect",i,a)}function IM(i,a,l){Ss.L(i,a,l);var c=Pu;if(c&&i&&a){var p='link[rel="preload"][as="'+En(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+En(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+En(l.imageSizes)+'"]')):p+='[href="'+En(i)+'"]';var g=p;switch(a){case"style":g=Ou(i);break;case"script":g=Du(i)}Gr.has(g)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Gr.set(g,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(Yh(g))||a==="script"&&c.querySelector(Xh(g))||(a=c.createElement("link"),xn(a,"link",i),Kt(a),c.head.appendChild(a)))}}function RM(i,a){Ss.m(i,a);var l=Pu;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+En(c)+'"][href="'+En(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Du(i)}if(!Gr.has(g)&&(i=y({rel:"modulepreload",href:i},a),Gr.set(g,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Xh(g)))return}c=l.createElement("link"),xn(c,"link",i),Kt(c),l.head.appendChild(c)}}}function CM(i,a,l){Ss.S(i,a,l);var c=Pu;if(c&&i){var p=na(c).hoistableStyles,g=Ou(i);a=a||"default";var T=p.get(g);if(!T){var O={loading:0,preload:null};if(T=c.querySelector(Yh(g)))O.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Gr.get(g))&&$v(i,l);var F=T=c.createElement("link");Kt(F),xn(F,"link",i),F._p=new Promise(function(te,ce){F.onload=te,F.onerror=ce}),F.addEventListener("load",function(){O.loading|=1}),F.addEventListener("error",function(){O.loading|=2}),O.loading|=4,pp(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:O},p.set(g,T)}}}function PM(i,a){Ss.X(i,a);var l=Pu;if(l&&i){var c=na(l).hoistableScripts,p=Du(i),g=c.get(p);g||(g=l.querySelector(Xh(p)),g||(i=y({src:i,async:!0},a),(a=Gr.get(p))&&Gv(i,a),g=l.createElement("script"),Kt(g),xn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function OM(i,a){Ss.M(i,a);var l=Pu;if(l&&i){var c=na(l).hoistableScripts,p=Du(i),g=c.get(p);g||(g=l.querySelector(Xh(p)),g||(i=y({src:i,async:!0,type:"module"},a),(a=Gr.get(p))&&Gv(i,a),g=l.createElement("script"),Kt(g),xn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function XA(i,a,l,c){var p=(p=Ce.current)?mp(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ou(l.href),l=na(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ou(l.href);var g=na(p).hoistableStyles,T=g.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=p.querySelector(Yh(i)))&&!g._p&&(T.instance=g,T.state.loading=5),Gr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gr.set(i,l),g||DM(p,i,l,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Du(l),l=na(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ou(i){return'href="'+En(i)+'"'}function Yh(i){return'link[rel="stylesheet"]['+i+"]"}function JA(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function DM(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),xn(a,"link",l),Kt(a),i.head.appendChild(a))}function Du(i){return'[src="'+En(i)+'"]'}function Xh(i){return"script[async]"+i}function ZA(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+En(l.href)+'"]');if(c)return a.instance=c,Kt(c),c;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Kt(c),xn(c,"style",p),pp(c,l.precedence,i),a.instance=c;case"stylesheet":p=Ou(l.href);var g=i.querySelector(Yh(p));if(g)return a.state.loading|=4,a.instance=g,Kt(g),g;c=JA(l),(p=Gr.get(p))&&$v(c,p),g=(i.ownerDocument||i).createElement("link"),Kt(g);var T=g;return T._p=new Promise(function(O,F){T.onload=O,T.onerror=F}),xn(g,"link",c),a.state.loading|=4,pp(g,l.precedence,i),a.instance=g;case"script":return g=Du(l.src),(p=i.querySelector(Xh(g)))?(a.instance=p,Kt(p),p):(c=l,(p=Gr.get(g))&&(c=y({},l),Gv(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),Kt(p),xn(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,pp(c,l.precedence,i));return a.instance}function pp(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var O=c[T];if(O.dataset.precedence===a)g=O;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function $v(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Gv(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var gp=null;function eI(i,a,l){if(gp===null){var c=new Map,p=gp=new Map;p.set(l,c)}else p=gp,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[ea]||g[Gt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(a)||"";T=i+T;var O=c.get(T);O?O.push(g):c.set(T,[g])}}return c}function tI(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function xM(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function nI(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Jh=null;function NM(){}function kM(i,a,l){if(Jh===null)throw Error(r(475));var c=Jh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ou(l.href),g=i.querySelector(Yh(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=yp.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,Kt(g);return}g=i.ownerDocument||i,l=JA(l),(p=Gr.get(p))&&$v(l,p),g=g.createElement("link"),Kt(g);var T=g;T._p=new Promise(function(O,F){T.onload=O,T.onerror=F}),xn(g,"link",l),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=yp.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function MM(){if(Jh===null)throw Error(r(475));var i=Jh;return i.stylesheets&&i.count===0&&Kv(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Kv(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function yp(){if(this.count--,this.count===0){if(this.stylesheets)Kv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _p=null;function Kv(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_p=new Map,a.forEach(VM,i),_p=null,yp.call(i))}function VM(i,a){if(!(a.state.loading&4)){var l=_p.get(i);if(l)var c=l.get(null);else{l=new Map,_p.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,p),l.set(T,p),this.count++,c=yp.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var Zh={$$typeof:q,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function LM(i,a,l,c,p,g,T,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$l(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.hiddenUpdates=$l(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function rI(i,a,l,c,p,g,T,O,F,te,ce,fe){return i=new LM(i,a,l,T,O,F,te,fe),a=1,g===!0&&(a|=24),g=Er(3,null,null,a),i.current=g,g.stateNode=i,a=C_(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},x_(g),i}function iI(i){return i?(i=lu,i):lu}function sI(i,a,l,c,p,g){p=iI(p),c.context===null?c.context=p:c.pendingContext=p,c=fa(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=da(i,c,a),l!==null&&(Ar(l,i,a),Ph(l,i,a))}function aI(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Wv(i,a){aI(i,a),(i=i.alternate)&&aI(i,a)}function oI(i){if(i.tag===13){var a=ou(i,67108864);a!==null&&Ar(a,i,67108864),Wv(i,67108864)}}var vp=!0;function UM(i,a,l,c){var p=z.T;z.T=null;var g=J.p;try{J.p=2,Qv(i,a,l,c)}finally{J.p=g,z.T=p}}function BM(i,a,l,c){var p=z.T;z.T=null;var g=J.p;try{J.p=8,Qv(i,a,l,c)}finally{J.p=g,z.T=p}}function Qv(i,a,l,c){if(vp){var p=Yv(c);if(p===null)Vv(i,a,c,Ep,l),uI(i,c);else if(zM(p,i,a,l,c))c.stopPropagation();else if(uI(i,c),a&4&&-1<FM.indexOf(i)){for(;p!==null;){var g=Ti(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Zr(g.pendingLanes);if(T!==0){var O=g;for(O.pendingLanes|=2,O.entangledLanes|=2;T;){var F=1<<31-mn(T);O.entanglements[1]|=F,T&=~F}Ni(g),(rt&6)===0&&(rp=Un()+500,Gh(0))}}break;case 13:O=ou(g,2),O!==null&&Ar(O,g,2),sp(),Wv(g,2)}if(g=Yv(c),g===null&&Vv(i,a,c,Ep,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else Vv(i,a,c,null,l)}}function Yv(i){return i=ch(i),Xv(i)}var Ep=null;function Xv(i){if(Ep=null,i=bi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ep=i,null}function lI(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jl()){case jt:return 2;case Ht:return 8;case $e:case pt:return 32;case Cn:return 268435456;default:return 32}default:return 32}}var Jv=!1,Ia=null,Ra=null,Ca=null,ef=new Map,tf=new Map,Pa=[],FM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uI(i,a){switch(i){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":ef.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tf.delete(a.pointerId)}}function nf(i,a,l,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},a!==null&&(a=Ti(a),a!==null&&oI(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function zM(i,a,l,c,p){switch(a){case"focusin":return Ia=nf(Ia,i,a,l,c,p),!0;case"dragenter":return Ra=nf(Ra,i,a,l,c,p),!0;case"mouseover":return Ca=nf(Ca,i,a,l,c,p),!0;case"pointerover":var g=p.pointerId;return ef.set(g,nf(ef.get(g)||null,i,a,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,tf.set(g,nf(tf.get(g)||null,i,a,l,c,p)),!0}return!1}function cI(i){var a=bi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,s_(i.priority,function(){if(l.tag===13){var c=Sr();c=nh(c);var p=ou(l,c);p!==null&&Ar(p,l,c),Wv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wp(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Yv(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);uh=c,l.target.dispatchEvent(c),uh=null}else return a=Ti(l),a!==null&&oI(a),i.blockedOn=l,!1;a.shift()}return!0}function hI(i,a,l){wp(i)&&l.delete(a)}function qM(){Jv=!1,Ia!==null&&wp(Ia)&&(Ia=null),Ra!==null&&wp(Ra)&&(Ra=null),Ca!==null&&wp(Ca)&&(Ca=null),ef.forEach(hI),tf.forEach(hI)}function bp(i,a){i.blockedOn===a&&(i.blockedOn=null,Jv||(Jv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,qM)))}var Tp=null;function fI(i){Tp!==i&&(Tp=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tp===i&&(Tp=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(Xv(c||l)===null)continue;break}var g=Ti(l);g!==null&&(i.splice(a,3),a-=3,X_(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function rf(i){function a(F){return bp(F,i)}Ia!==null&&bp(Ia,i),Ra!==null&&bp(Ra,i),Ca!==null&&bp(Ca,i),ef.forEach(a),tf.forEach(a);for(var l=0;l<Pa.length;l++){var c=Pa[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Pa.length&&(l=Pa[0],l.blockedOn===null);)cI(l),l.blockedOn===null&&Pa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],T=p[Pn]||null;if(typeof g=="function")T||fI(l);else if(T){var O=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[Pn]||null)O=T.formAction;else if(Xv(p)!==null)continue}else O=T.action;typeof O=="function"?l[c+1]=O:(l.splice(c,3),c-=3),fI(l)}}}function Zv(i){this._internalRoot=i}Sp.prototype.render=Zv.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Sr();sI(l,c,i,a,null,null)},Sp.prototype.unmount=Zv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;sI(i.current,2,null,i,null,null),sp(),a[as]=null}};function Sp(i){this._internalRoot=i}Sp.prototype.unstable_scheduleHydration=function(i){if(i){var a=ss();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Pa.length&&a!==0&&a<Pa[l].priority;l++);Pa.splice(l,0,i),l===0&&cI(i)}};var dI=e.version;if(dI!=="19.1.1")throw Error(r(527,dI,"19.1.1"));J.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var jM={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{Qn=Ap.inject(jM),gt=Ap}catch{}}return sf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",p=PS,g=OS,T=DS,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks)),a=rI(i,1,!1,null,null,l,c,p,g,T,O,null),i[as]=a.current,Mv(i),new Zv(a)},sf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,p="",g=PS,T=OS,O=DS,F=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(F=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),a=rI(i,1,!0,a,l??null,c,p,g,T,O,F,te),a.context=iI(null),l=a.current,c=Sr(),c=nh(c),p=fa(c),p.callback=null,da(l,p,c),l=c,a.current.lanes=l,$t(a,l),Ni(a),i[as]=a.current,Mv(i),new Sp(a)},sf.version="19.1.1",sf}var wI;function JM(){if(wI)return tE.exports;wI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tE.exports=XM(),tE.exports}var ZM=JM();const eV=Yw(ZM);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bI="popstate";function tV(n={}){function e(r,s){let{pathname:o,search:u,hash:h}=r.location;return jE("",{pathname:o,search:u,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:nd(s)}return rV(e,t,null,n)}function Nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Xi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nV(){return Math.random().toString(36).substring(2,10)}function TI(n,e){return{usr:n.state,key:n.key,idx:e}}function jE(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Nc(e):e,state:t,key:e&&e.key||r||nV()}}function nd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Nc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function rV(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,h="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let x=y(),$=x==null?null:x-m;m=x,f&&f({action:h,location:P.location,delta:$})}function w(x,$){h="PUSH";let U=jE(P.location,x,$);m=y()+1;let q=TI(U,m),W=P.createHref(U);try{u.pushState(q,"",W)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(W)}o&&f&&f({action:h,location:P.location,delta:1})}function R(x,$){h="REPLACE";let U=jE(P.location,x,$);m=y();let q=TI(U,m),W=P.createHref(U);u.replaceState(q,"",W),o&&f&&f({action:h,location:P.location,delta:0})}function S(x){return iV(x)}let P={get action(){return h},get location(){return n(s,u)},listen(x){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(bI,_),f=x,()=>{s.removeEventListener(bI,_),f=null}},createHref(x){return e(s,x)},createURL:S,encodeLocation(x){let $=S(x);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:R,go(x){return u.go(x)}};return P}function iV(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Nt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:nd(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function oP(n,e,t="/"){return sV(n,e,t,!1)}function sV(n,e,t,r){let s=typeof e=="string"?Nc(e):e,o=ks(s.pathname||"/",t);if(o==null)return null;let u=lP(n);aV(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let m=yV(o);h=pV(u[f],m,r)}return h}function lP(n,e=[],t=[],r="",s=!1){let o=(u,h,f=s,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&f)return;Nt(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=xs([r,y.relativePath]),w=t.concat(y);u.children&&u.children.length>0&&(Nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),lP(u.children,e,w,_,f)),!(u.path==null&&!u.index)&&e.push({path:_,score:dV(_,u.index),routesMeta:w})};return n.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let f of uP(u.path))o(u,h,!0,f)}),e}function uP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=uP(r.join("/")),h=[];return h.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function aV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:mV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var oV=/^:[\w-]+$/,lV=3,uV=2,cV=1,hV=10,fV=-2,SI=n=>n==="*";function dV(n,e){let t=n.split("/"),r=t.length;return t.some(SI)&&(r+=fV),e&&(r+=uV),t.filter(s=>!SI(s)).reduce((s,o)=>s+(oV.test(o)?lV:o===""?cV:hV),r)}function mV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function pV(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],m=h===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),w=f.route;if(!_&&m&&t&&!r[r.length-1].route.index&&(_=mg({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:xs([o,_.pathname]),pathnameBase:wV(xs([o,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(o=xs([o,_.pathnameBase]))}return u}function mg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=gV(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:_},w)=>{if(y==="*"){let S=h[w]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const R=h[w];return _&&!R?m[y]=void 0:m[y]=(R||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function gV(n,e=!1,t=!0){Xi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function yV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ks(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function _V(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Nc(n):n;return{pathname:t?t.startsWith("/")?t:vV(t,e):e,search:bV(r),hash:TV(s)}}function vV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function sE(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cP(n){let e=EV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function hP(n,e,t,r=!1){let s;typeof n=="string"?s=Nc(n):(s={...n},Nt(!s.pathname||!s.pathname.includes("?"),sE("?","pathname","search",s)),Nt(!s.pathname||!s.pathname.includes("#"),sE("#","pathname","hash",s)),Nt(!s.search||!s.search.includes("#"),sE("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;s.pathname=w.join("/")}h=_>=0?e[_]:"/"}let f=_V(s,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var xs=n=>n.join("/").replace(/\/\/+/g,"/"),wV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,TV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function SV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var fP=["POST","PUT","PATCH","DELETE"];new Set(fP);var AV=["GET",...fP];new Set(AV);var kc=Q.createContext(null);kc.displayName="DataRouter";var Wg=Q.createContext(null);Wg.displayName="DataRouterState";Q.createContext(!1);var dP=Q.createContext({isTransitioning:!1});dP.displayName="ViewTransition";var IV=Q.createContext(new Map);IV.displayName="Fetchers";var RV=Q.createContext(null);RV.displayName="Await";var ns=Q.createContext(null);ns.displayName="Navigation";var Pd=Q.createContext(null);Pd.displayName="Location";var rs=Q.createContext({outlet:null,matches:[],isDataRoute:!1});rs.displayName="Route";var Xw=Q.createContext(null);Xw.displayName="RouteError";function CV(n,{relative:e}={}){Nt(Od(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Q.useContext(ns),{hash:s,pathname:o,search:u}=Dd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:xs([t,o])),r.createHref({pathname:h,search:u,hash:s})}function Od(){return Q.useContext(Pd)!=null}function lo(){return Nt(Od(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Pd).location}var mP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pP(n){Q.useContext(ns).static||Q.useLayoutEffect(n)}function Qg(){let{isDataRoute:n}=Q.useContext(rs);return n?zV():PV()}function PV(){Nt(Od(),"useNavigate() may be used only in the context of a <Router> component.");let n=Q.useContext(kc),{basename:e,navigator:t}=Q.useContext(ns),{matches:r}=Q.useContext(rs),{pathname:s}=lo(),o=JSON.stringify(cP(r)),u=Q.useRef(!1);return pP(()=>{u.current=!0}),Q.useCallback((f,m={})=>{if(Xi(u.current,mP),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=hP(f,JSON.parse(o),s,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:xs([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,s,n])}Q.createContext(null);function gP(){let{matches:n}=Q.useContext(rs),e=n[n.length-1];return e?e.params:{}}function Dd(n,{relative:e}={}){let{matches:t}=Q.useContext(rs),{pathname:r}=lo(),s=JSON.stringify(cP(t));return Q.useMemo(()=>hP(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function OV(n,e){return yP(n,e)}function yP(n,e,t,r,s){Nt(Od(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(ns),{matches:u}=Q.useContext(rs),h=u[u.length-1],f=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";_P(m,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let w=lo(),R;if(e){let U=typeof e=="string"?Nc(e):e;Nt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),R=U}else R=w;let S=R.pathname||"/",P=S;if(y!=="/"){let U=y.replace(/^\//,"").split("/");P="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let x=oP(n,{pathname:P});Xi(_||x!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Xi(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=MV(x&&x.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:xs([y,o.encodeLocation?o.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:xs([y,o.encodeLocation?o.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,r,s);return e&&$?Q.createElement(Pd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},$):$}function DV(){let n=FV(),e=SV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:s},t):null,u)}var xV=Q.createElement(DV,null),NV=class extends Q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Q.createElement(rs.Provider,{value:this.props.routeContext},Q.createElement(Xw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kV({routeContext:n,match:e,children:t}){let r=Q.useContext(kc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(rs.Provider,{value:n},t)}function MV(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let m=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Nt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,f=-1;if(t)for(let m=0;m<o.length;m++){let y=o[m];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=m),y.route.id){let{loaderData:_,errors:w}=t,R=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||R){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,y,_)=>{let w,R=!1,S=null,P=null;t&&(w=u&&y.route.id?u[y.route.id]:void 0,S=y.route.errorElement||xV,h&&(f<0&&_===0?(_P("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,P=null):f===_&&(R=!0,P=y.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,_+1)),$=()=>{let U;return w?U=S:R?U=P:y.route.Component?U=Q.createElement(y.route.Component,null):y.route.element?U=y.route.element:U=m,Q.createElement(kV,{match:y,routeContext:{outlet:m,matches:x,isDataRoute:t!=null},children:U})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?Q.createElement(NV,{location:t.location,revalidation:t.revalidation,component:S,error:w,children:$(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:r}):$()},null)}function Jw(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VV(n){let e=Q.useContext(kc);return Nt(e,Jw(n)),e}function LV(n){let e=Q.useContext(Wg);return Nt(e,Jw(n)),e}function UV(n){let e=Q.useContext(rs);return Nt(e,Jw(n)),e}function Zw(n){let e=UV(n),t=e.matches[e.matches.length-1];return Nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function BV(){return Zw("useRouteId")}function FV(){let n=Q.useContext(Xw),e=LV("useRouteError"),t=Zw("useRouteError");return n!==void 0?n:e.errors?.[t]}function zV(){let{router:n}=VV("useNavigate"),e=Zw("useNavigate"),t=Q.useRef(!1);return pP(()=>{t.current=!0}),Q.useCallback(async(s,o={})=>{Xi(t.current,mP),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var AI={};function _P(n,e,t){!e&&!AI[n]&&(AI[n]=!0,Xi(!1,t))}Q.memo(qV);function qV({routes:n,future:e,state:t,unstable_onError:r}){return yP(n,void 0,t,r,e)}function Va(n){Nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Nt(!Od(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=Q.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Nc(t));let{pathname:f="/",search:m="",hash:y="",state:_=null,key:w="default"}=t,R=Q.useMemo(()=>{let S=ks(f,u);return S==null?null:{location:{pathname:S,search:m,hash:y,state:_,key:w},navigationType:r}},[u,f,m,y,_,w,r]);return Xi(R!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Q.createElement(ns.Provider,{value:h},Q.createElement(Pd.Provider,{children:e,value:R}))}function HV({children:n,location:e}){return OV(HE(n),e)}function HE(n,e=[]){let t=[];return Q.Children.forEach(n,(r,s)=>{if(!Q.isValidElement(r))return;let o=[...e,s];if(r.type===Q.Fragment){t.push.apply(t,HE(r.props.children,o));return}Nt(r.type===Va,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=HE(r.props.children,o)),t.push(u)}),t}var jp="get",Hp="application/x-www-form-urlencoded";function Yg(n){return n!=null&&typeof n.tagName=="string"}function $V(n){return Yg(n)&&n.tagName.toLowerCase()==="button"}function GV(n){return Yg(n)&&n.tagName.toLowerCase()==="form"}function KV(n){return Yg(n)&&n.tagName.toLowerCase()==="input"}function WV(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function QV(n,e){return n.button===0&&(!e||e==="_self")&&!WV(n)}var Ip=null;function YV(){if(Ip===null)try{new FormData(document.createElement("form"),0),Ip=!1}catch{Ip=!0}return Ip}var XV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function aE(n){return n!=null&&!XV.has(n)?(Xi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hp}"`),null):n}function JV(n,e){let t,r,s,o,u;if(GV(n)){let h=n.getAttribute("action");r=h?ks(h,e):null,t=n.getAttribute("method")||jp,s=aE(n.getAttribute("enctype"))||Hp,o=new FormData(n)}else if($V(n)||KV(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?ks(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||jp,s=aE(n.getAttribute("formenctype"))||aE(h.getAttribute("enctype"))||Hp,o=new FormData(h,n),!YV()){let{name:m,type:y,value:_}=n;if(y==="image"){let w=m?`${m}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else m&&o.append(m,_)}}else{if(Yg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jp,r=null,s=Hp,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ZV(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ks(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function eL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nL(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await eL(o,t);return u.links?u.links():[]}return[]}));return aL(r.flat(1).filter(tL).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function II(n,e,t,r,s,o){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>t[m].pathname!==f.pathname||t[m].route.path?.endsWith("*")&&t[m].params["*"]!==f.params["*"];return o==="assets"?e.filter((f,m)=>u(f,m)||h(f,m)):o==="data"?e.filter((f,m)=>{let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function rL(n,e,{includeHydrateFallback:t}={}){return iL(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function iL(n){return[...new Set(n)]}function sL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function aL(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(sL(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function vP(){let n=Q.useContext(kc);return eb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oL(){let n=Q.useContext(Wg);return eb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tb=Q.createContext(void 0);tb.displayName="FrameworkContext";function EP(){let n=Q.useContext(tb);return eb(n,"You must render this element inside a <HydratedRouter> element"),n}function lL(n,e){let t=Q.useContext(tb),[r,s]=Q.useState(!1),[o,u]=Q.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,w=Q.useRef(null);Q.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=$=>{$.forEach(U=>{u(U.isIntersecting)})},x=new IntersectionObserver(P,{threshold:.5});return w.current&&x.observe(w.current),()=>{x.disconnect()}}},[n]),Q.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let R=()=>{s(!0)},S=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,w,{}]:[o,w,{onFocus:af(h,R),onBlur:af(f,S),onMouseEnter:af(m,R),onMouseLeave:af(y,S),onTouchStart:af(_,R)}]:[!1,w,{}]}function af(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function uL({page:n,...e}){let{router:t}=vP(),r=Q.useMemo(()=>oP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Q.createElement(hL,{page:n,matches:r,...e}):null}function cL(n){let{manifest:e,routeModules:t}=EP(),[r,s]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return nL(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function hL({page:n,matches:e,...t}){let r=lo(),{manifest:s,routeModules:o}=EP(),{basename:u}=vP(),{loaderData:h,matches:f}=oL(),m=Q.useMemo(()=>II(n,e,f,s,r,"data"),[n,e,f,s,r]),y=Q.useMemo(()=>II(n,e,f,s,r,"assets"),[n,e,f,s,r]),_=Q.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,P=!1;if(e.forEach($=>{let U=s.routes[$.route.id];!U||!U.hasLoader||(!m.some(q=>q.route.id===$.route.id)&&$.route.id in h&&o[$.route.id]?.shouldRevalidate||U.hasClientLoader?P=!0:S.add($.route.id))}),S.size===0)return[];let x=ZV(n,u,"data");return P&&S.size>0&&x.searchParams.set("_routes",e.filter($=>S.has($.route.id)).map($=>$.route.id).join(",")),[x.pathname+x.search]},[u,h,r,s,m,e,n,o]),w=Q.useMemo(()=>rL(y,s),[y,s]),R=cL(y);return Q.createElement(Q.Fragment,null,_.map(S=>Q.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),w.map(S=>Q.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),R.map(({key:S,link:P})=>Q.createElement("link",{key:S,nonce:t.nonce,...P})))}function fL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var wP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wP&&(window.__reactRouterVersion="7.9.1")}catch{}function dL({basename:n,children:e,window:t}){let r=Q.useRef();r.current==null&&(r.current=tV({window:t,v5Compat:!0}));let s=r.current,[o,u]=Q.useState({action:s.action,location:s.location}),h=Q.useCallback(f=>{Q.startTransition(()=>u(f))},[u]);return Q.useLayoutEffect(()=>s.listen(h),[s,h]),Q.createElement(jV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var bP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=Q.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:h,target:f,to:m,preventScrollReset:y,viewTransition:_,...w},R){let{basename:S}=Q.useContext(ns),P=typeof m=="string"&&bP.test(m),x,$=!1;if(typeof m=="string"&&P&&(x=m,wP))try{let C=new URL(window.location.href),L=m.startsWith("//")?new URL(C.protocol+m):new URL(m),D=ks(L.pathname,S);L.origin===C.origin&&D!=null?m=D+L.search+L.hash:$=!0}catch{Xi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=CV(m,{relative:s}),[q,W,j]=lL(r,w),H=yL(m,{replace:u,state:h,target:f,preventScrollReset:y,relative:s,viewTransition:_});function k(C){e&&e(C),C.defaultPrevented||H(C)}let I=Q.createElement("a",{...w,...j,href:x||U,onClick:$||o?e:k,ref:fL(R,W),target:f,"data-discover":!P&&t==="render"?"true":void 0});return q&&!P?Q.createElement(Q.Fragment,null,I,Q.createElement(uL,{page:U})):I});fi.displayName="Link";var mL=Q.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:h,children:f,...m},y){let _=Dd(u,{relative:m.relative}),w=lo(),R=Q.useContext(Wg),{navigator:S,basename:P}=Q.useContext(ns),x=R!=null&&bL(_)&&h===!0,$=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,U=w.pathname,q=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(U=U.toLowerCase(),q=q?q.toLowerCase():null,$=$.toLowerCase()),q&&P&&(q=ks(q,P)||q);const W=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let j=U===$||!s&&U.startsWith($)&&U.charAt(W)==="/",H=q!=null&&(q===$||!s&&q.startsWith($)&&q.charAt($.length)==="/"),k={isActive:j,isPending:H,isTransitioning:x},I=j?e:void 0,C;typeof r=="function"?C=r(k):C=[r,j?"active":null,H?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(k):o;return Q.createElement(fi,{...m,"aria-current":I,className:C,ref:y,style:L,to:u,viewTransition:h},typeof f=="function"?f(k):f)});mL.displayName="NavLink";var pL=Q.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=jp,action:h,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:_,...w},R)=>{let S=EL(),P=wL(h,{relative:m}),x=u.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&bP.test(h),U=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let W=q.nativeEvent.submitter,j=W?.getAttribute("formmethod")||u;S(W||q.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:s,state:o,relative:m,preventScrollReset:y,viewTransition:_})};return Q.createElement("form",{ref:R,method:x,action:P,onSubmit:r?f:U,...w,"data-discover":!$&&n==="render"?"true":void 0})});pL.displayName="Form";function gL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TP(n){let e=Q.useContext(kc);return Nt(e,gL(n)),e}function yL(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let h=Qg(),f=lo(),m=Dd(n,{relative:o});return Q.useCallback(y=>{if(QV(y,e)){y.preventDefault();let _=t!==void 0?t:nd(f)===nd(m);h(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,h,m,t,r,e,n,s,o,u])}var _L=0,vL=()=>`__${String(++_L)}__`;function EL(){let{router:n}=TP("useSubmit"),{basename:e}=Q.useContext(ns),t=BV();return Q.useCallback(async(r,s={})=>{let{action:o,method:u,encType:h,formData:f,body:m}=JV(r,e);if(s.navigate===!1){let y=s.fetcherKey||vL();await n.fetch(y,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function wL(n,{relative:e}={}){let{basename:t}=Q.useContext(ns),r=Q.useContext(rs);Nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Dd(n||".",{relative:e})},u=lo();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:xs([t,o.pathname])),nd(o)}function bL(n,{relative:e}={}){let t=Q.useContext(dP);Nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TP("useViewTransitionState"),s=Dd(n,{relative:e});if(!t.isTransitioning)return!1;let o=ks(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ks(t.nextLocation.pathname,r)||t.nextLocation.pathname;return mg(s.pathname,u)!=null||mg(s.pathname,o)!=null}const TL="_fixed_y2ozo_9",SL="_header_container_y2ozo_19",AL="_logo_container_y2ozo_35",IL="_delivery_y2ozo_59",RL="_search_y2ozo_85",CL="_order_container_y2ozo_179",PL="_language_y2ozo_217",OL="_cart_y2ozo_247",DL="_lower_container_y2ozo_281",Rs={fixed:TL,header_container:SL,logo_container:AL,delivery:IL,search:RL,order_container:CL,language:PL,cart:OL,lower_container:DL};var SP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},RI=M.createContext&&M.createContext(SP),xL=["attr","size","title"];function NL(n,e){if(n==null)return{};var t=kL(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function pg(){return pg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pg.apply(this,arguments)}function CI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function gg(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(t),!0).forEach(function(r){ML(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ML(n,e,t){return e=VL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VL(n){var e=LL(n,"string");return typeof e=="symbol"?e:e+""}function LL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function AP(n){return n&&n.map((e,t)=>M.createElement(e.tag,gg({key:t},e.attr),AP(e.child)))}function Vl(n){return e=>M.createElement(UL,pg({attr:gg({},n.attr)},e),AP(n.child))}function UL(n){var e=t=>{var{attr:r,size:s,title:o}=n,u=NL(n,xL),h=s||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),M.createElement("svg",pg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:f,style:gg(gg({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&M.createElement("title",null,o),n.children)};return RI!==void 0?M.createElement(RI.Consumer,null,t=>e(t)):e(SP)}function BL(n){return Vl({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(n)}function FL(n){return Vl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}function zL(n){return Vl({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M456.69 421.39 362.6 327.3a173.81 173.81 0 0 0 34.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 0 0 327.3 362.6l94.09 94.09a25 25 0 0 0 35.3-35.3zM97.92 222.72a124.8 124.8 0 1 1 124.8 124.8 124.95 124.95 0 0 1-124.8-124.8z"},child:[]}]})(n)}function qL(n){return Vl({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}function jL(){return M.createElement("div",{className:Rs.lower_container},M.createElement("ul",null,M.createElement("li",null,M.createElement(FL,null),M.createElement("p",null,"All")),M.createElement("li",null,"Today's Deals"),M.createElement("li",null,"Registry"),M.createElement("li",null,"Gift Cards"),M.createElement("li",null,"Sell")))}const HL=()=>{};var PI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},$L=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},RP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let w=(h&15)<<2|m>>6,R=m&63;f||(R=64,u||(w=64)),r.push(t[y],t[_],t[w],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(IP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$L(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||m==null||_==null)throw new GL;const w=o<<2|h>>4;if(r.push(w),m!==64){const R=h<<4&240|m>>2;if(r.push(R),_!==64){const S=m<<6&192|_;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KL=function(n){const e=IP(n);return RP.encodeByteArray(e,!0)},yg=function(n){return KL(n).replace(/\./g,"")},nb=function(n){try{return RP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _g(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!WL(t)||(n[t]=_g(n[t],e[t]));return n}function WL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=()=>rb().__FIREBASE_DEFAULTS__,YL=()=>{if(typeof process>"u"||typeof PI>"u")return;const n=PI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},XL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&nb(n[1]);return e&&JSON.parse(e)},Xg=()=>{try{return HL()||QL()||YL()||XL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JL=n=>Xg()?.emulatorHosts?.[n],ib=()=>Xg()?.config,CP=n=>Xg()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function PP(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[yg(JSON.stringify(t)),yg(JSON.stringify(u)),""].join(".")}const Bf={};function t4(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bf))Bf[e]?n.emulator.push(e):n.prod.push(e);return n}function n4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let OI=!1;function OP(n,e){if(typeof window>"u"||typeof document>"u"||!Mc(window.location.host)||Bf[n]===e||Bf[n]||OI)return;Bf[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=t4().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,R){w.setAttribute("width","24"),w.setAttribute("id",R),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{OI=!0,u()},w}function y(w,R){w.setAttribute("id",R),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function _(){const w=n4(r),R=t("text"),S=document.getElementById(R)||document.createElement("span"),P=t("learnmore"),x=document.getElementById(P)||document.createElement("a"),$=t("preprendIcon"),U=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const q=w.element;h(q),y(x,P);const W=m();f(U,$),q.append(U,S,x,W),document.body.appendChild(q)}o?(S.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function r4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function Jg(){const n=Xg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i4(){return typeof window<"u"||DP()}function DP(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function s4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NP(){const n=kt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kP(){return!Jg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MP(){return!Jg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function rd(){try{return typeof indexedDB=="object"}catch{return!1}}function a4(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="FirebaseError";class rr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=o4,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ll.prototype.create)}}class Ll{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?l4(o,r):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new rr(s,h,r)}}function l4(n,e){return n.replace(u4,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const u4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function c4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ms(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(xI(o)&&xI(u)){if(!Ms(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function xI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Of(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function VP(n,e){const t=new h4(n,e);return t.subscribe.bind(t)}class h4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");f4(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=oE),s.error===void 0&&(s.error=oE),s.complete===void 0&&(s.complete=oE);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f4(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function oE(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(n){return n&&n._delegate?n._delegate:n}class Ji{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ZL;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p4(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m4(n){return n===rl?void 0:n}function p4(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new d4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const UP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},g4=je.INFO,y4={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},_4=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=y4[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zg{constructor(e){this.name=e,this._logLevel=g4,this._logHandler=_4,this._userLogHandler=null,ab.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function v4(n){ab.forEach(e=>{e.setLogLevel(n)})}function E4(n,e){for(const t of ab){let r=null;e&&e.level&&(r=UP[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(s,o,...u)=>{const h=u.map(f=>{if(f==null)return null;if(typeof f=="string")return f;if(typeof f=="number"||typeof f=="boolean")return f.toString();if(f instanceof Error)return f.message;try{return JSON.stringify(f)}catch{return null}}).filter(f=>f).join(" ");o>=(r??s.logLevel)&&n({level:je[o].toLowerCase(),message:h,args:u,type:s.name})}}}const w4=(n,e)=>e.some(t=>n instanceof t);let NI,kI;function b4(){return NI||(NI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return kI||(kI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BP=new WeakMap,$E=new WeakMap,FP=new WeakMap,lE=new WeakMap,ob=new WeakMap;function S4(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(za(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&BP.set(t,n)}).catch(()=>{}),ob.set(e,n),e}function A4(n){if($E.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});$E.set(n,e)}let GE={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $E.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return za(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function I4(n){GE=n(GE)}function R4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(uE(this),e,...t);return FP.set(r,e.sort?e.sort():[e]),za(r)}:T4().includes(n)?function(...e){return n.apply(uE(this),e),za(BP.get(this))}:function(...e){return za(n.apply(uE(this),e))}}function C4(n){return typeof n=="function"?R4(n):(n instanceof IDBTransaction&&A4(n),w4(n,b4())?new Proxy(n,GE):n)}function za(n){if(n instanceof IDBRequest)return S4(n);if(lE.has(n))return lE.get(n);const e=C4(n);return e!==n&&(lE.set(n,e),ob.set(e,n)),e}const uE=n=>ob.get(n);function P4(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=za(u);return r&&u.addEventListener("upgradeneeded",f=>{r(za(u.result),f.oldVersion,f.newVersion,za(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const O4=["get","getKey","getAll","getAllKeys","count"],D4=["put","add","delete","clear"],cE=new Map;function MI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cE.get(e))return cE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=D4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||O4.includes(t)))return;const o=async function(u,...h){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),s&&f.done]))[0]};return cE.set(e,o),o}I4(n=>({...n,get:(e,t,r)=>MI(e,t)||n.get(e,t,r),has:(e,t)=>!!MI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(N4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function N4(n){return n.getComponent()?.type==="VERSION"}const vg="@firebase/app",KE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Zg("@firebase/app"),k4="@firebase/app-compat",M4="@firebase/analytics-compat",V4="@firebase/analytics",L4="@firebase/app-check-compat",U4="@firebase/app-check",B4="@firebase/auth",F4="@firebase/auth-compat",z4="@firebase/database",q4="@firebase/data-connect",j4="@firebase/database-compat",H4="@firebase/functions",$4="@firebase/functions-compat",G4="@firebase/installations",K4="@firebase/installations-compat",W4="@firebase/messaging",Q4="@firebase/messaging-compat",Y4="@firebase/performance",X4="@firebase/performance-compat",J4="@firebase/remote-config",Z4="@firebase/remote-config-compat",e3="@firebase/storage",t3="@firebase/storage-compat",n3="@firebase/firestore",r3="@firebase/ai",i3="@firebase/firestore-compat",s3="firebase",a3="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]",o3={[vg]:"fire-core",[k4]:"fire-core-compat",[V4]:"fire-analytics",[M4]:"fire-analytics-compat",[U4]:"fire-app-check",[L4]:"fire-app-check-compat",[B4]:"fire-auth",[F4]:"fire-auth-compat",[z4]:"fire-rtdb",[q4]:"fire-data-connect",[j4]:"fire-rtdb-compat",[H4]:"fire-fn",[$4]:"fire-fn-compat",[G4]:"fire-iid",[K4]:"fire-iid-compat",[W4]:"fire-fcm",[Q4]:"fire-fcm-compat",[Y4]:"fire-perf",[X4]:"fire-perf-compat",[J4]:"fire-rc",[Z4]:"fire-rc-compat",[e3]:"fire-gcs",[t3]:"fire-gcs-compat",[n3]:"fire-fst",[i3]:"fire-fst-compat",[r3]:"fire-vertex","fire-js":"fire-js",[s3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=new Map,sc=new Map,ac=new Map;function id(n,e){try{n.container.addComponent(e)}catch(t){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function zP(n,e){n.container.addOrOverwriteComponent(e)}function Qa(n){const e=n.name;if(ac.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;ac.set(e,n);for(const t of Wa.values())id(t,n);for(const t of sc.values())id(t,n);return!0}function ey(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function l3(n,e,t=Ka){ey(n,e).clearInstance(t)}function lb(n){return n.options!==void 0}function qP(n){return lb(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Rt(n){return n==null?!1:n.settings!==void 0}function u3(){ac.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Ll("app","Firebase",c3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jP=class{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n,e){const t=nb(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,o=new Date().getTime();s-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class h3 extends jP{constructor(e,t,r,s){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,s);else{const h=e;super(h.options,u,s)}this._serverConfig={automaticDataCollectionEnabled:o,...t},this._serverConfig.authIdToken&&VI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&VI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,mi(vg,KE,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){cb(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Dr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=a3;function ub(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Ka,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Dr.create("bad-app-name",{appName:String(s)});if(t||(t=ib()),!t)throw Dr.create("no-options");const o=Wa.get(s);if(o){if(Ms(t,o.options)&&Ms(r,o.config))return o;throw Dr.create("duplicate-app",{appName:s})}const u=new LP(s);for(const f of ac.values())u.addComponent(f);const h=new jP(t,r,u);return Wa.set(s,h),h}function f3(n,e={}){if(i4()&&!DP())throw Dr.create("invalid-server-app-environment");let t,r=e||{};if(n&&(lb(n)?t=n.options:qP(n)?r=n:t=n),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),t||(t=ib()),!t)throw Dr.create("no-options");const s={...r,...t};s.releaseOnDeref!==void 0&&delete s.releaseOnDeref;const o=y=>[...y].reduce((_,w)=>Math.imul(31,_)+w.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Dr.create("finalization-registry-not-supported",{});const u=""+o(JSON.stringify(s)),h=sc.get(u);if(h)return h.incRefCount(r.releaseOnDeref),h;const f=new LP(u);for(const y of ac.values())f.addComponent(y);const m=new h3(t,r,u,f);return sc.set(u,m),m}function HP(n=Ka){const e=Wa.get(n);if(!e&&n===Ka&&ib())return ub();if(!e)throw Dr.create("no-app",{appName:n});return e}function d3(){return Array.from(Wa.values())}async function cb(n){let e=!1;const t=n.name;Wa.has(t)?(e=!0,Wa.delete(t)):sc.has(t)&&n.decRefCount()<=0&&(sc.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function mi(n,e,t){let r=o3[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(u.join(" "));return}Qa(new Ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function $P(n,e){if(n!==null&&typeof n!="function")throw Dr.create("invalid-log-argument");E4(n,e)}function GP(n){v4(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="firebase-heartbeat-database",p3=1,sd="firebase-heartbeat-store";let hE=null;function KP(){return hE||(hE=P4(m3,p3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(sd)}catch(t){console.warn(t)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),hE}async function g3(n){try{const t=(await KP()).transaction(sd),r=await t.objectStore(sd).get(WP(n));return await t.done,r}catch(e){if(e instanceof rr)Vs.warn(e.message);else{const t=Dr.create("idb-get",{originalErrorMessage:e?.message});Vs.warn(t.message)}}}async function LI(n,e){try{const r=(await KP()).transaction(sd,"readwrite");await r.objectStore(sd).put(e,WP(n)),await r.done}catch(t){if(t instanceof rr)Vs.warn(t.message);else{const r=Dr.create("idb-set",{originalErrorMessage:t?.message});Vs.warn(r.message)}}}function WP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=1024,_3=30;class v3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new w3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=UI();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>_3){const s=b3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=UI(),{heartbeatsToSend:t,unsentEntries:r}=E3(this._heartbeatsCache.heartbeats),s=yg(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Vs.warn(e),""}}}function UI(){return new Date().toISOString().substring(0,10)}function E3(n,e=y3){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),BI(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),BI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class w3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rd()?a4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await g3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function BI(n){return yg(JSON.stringify({version:2,heartbeats:n})).length}function b3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T3(n){Qa(new Ji("platform-logger",e=>new x4(e),"PRIVATE")),Qa(new Ji("heartbeat",e=>new v3(e),"PRIVATE")),mi(vg,KE,n),mi(vg,KE,"esm2020"),mi("fire-js","")}T3("");const S3=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:rr,SDK_VERSION:uo,_DEFAULT_ENTRY_NAME:Ka,_addComponent:id,_addOrOverwriteComponent:zP,_apps:Wa,_clearComponents:u3,_components:ac,_getProvider:ey,_isFirebaseApp:lb,_isFirebaseServerApp:Rt,_isFirebaseServerAppSettings:qP,_registerComponent:Qa,_removeServiceInstance:l3,_serverApps:sc,deleteApp:cb,getApp:HP,getApps:d3,initializeApp:ub,initializeServerApp:f3,onLog:$P,registerVersion:mi,setLogLevel:GP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t){this._delegate=e,this.firebase=t,id(e,new Ji("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),cb(this._delegate)))}_getService(e,t=Ka){this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&r.getComponent()?.instantiationMode==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ka){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){id(this._delegate,e)}_addOrOverwriteComponent(e){zP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},FI=new Ll("app-compat","Firebase",I3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(n){const e={},t={__esModule:!0,initializeApp:o,app:s,registerVersion:mi,setLogLevel:GP,onLog:$P,apps:null,SDK_VERSION:uo,INTERNAL:{registerComponent:h,removeApp:r,useAsService:f,modularAPIs:S3}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(m){delete e[m]}function s(m){if(m=m||Ka,!DI(e,m))throw FI.create("no-app",{appName:m});return e[m]}s.App=n;function o(m,y={}){const _=ub(m,y);if(DI(e,_.name))return e[_.name];const w=new n(_,t);return e[_.name]=w,w}function u(){return Object.keys(e).map(m=>e[m])}function h(m){const y=m.name,_=y.replace("-compat","");if(Qa(m)&&m.type==="PUBLIC"){const w=(R=s())=>{if(typeof R[_]!="function")throw FI.create("invalid-app-argument",{appName:y});return R[_]()};m.serviceProps!==void 0&&_g(w,m.serviceProps),t[_]=w,n.prototype[_]=function(...R){return this._getService.bind(this,y).apply(this,m.multipleInstances?R:[])}}return m.type==="PUBLIC"?t[_]:null}function f(m,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(){const n=R3(A3);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:QP,extendNamespace:e,createSubscribe:VP,ErrorFactory:Ll,deepExtend:_g};function e(t){_g(n,t)}return n}const C3=QP();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Zg("@firebase/app-compat"),P3="@firebase/app-compat",O3="0.5.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n){mi(P3,O3,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=rb();if(n.firebase!==void 0){zI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&zI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Lc=C3;D3();var x3="firebase",N3="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lc.registerVersion(x3,N3,"app-compat");const of={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},xu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function YP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M3=k3,V3=YP,XP=new Ll("auth","Firebase",YP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=new Zg("@firebase/auth");function L3(n,...e){Eg.logLevel<=je.WARN&&Eg.warn(`Auth (${uo}): ${n}`,...e)}function $p(n,...e){Eg.logLevel<=je.ERROR&&Eg.error(`Auth (${uo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(n,...e){throw fb(n,...e)}function _n(n,...e){return fb(n,...e)}function hb(n,e,t){const r={...V3(),[e]:t};return new Ll("auth","Firebase",r).create(e,{appName:n.name})}function In(n){return hb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Uc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Rn(n,"argument-error"),hb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XP.create(n,...e)}function ge(n,e,...t){if(!n)throw fb(e,...t)}function Hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw $p(e),new Error(e)}function yi(n,e){n||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(){return typeof self<"u"&&self.location?.href||""}function db(){return qI()==="http:"||qI()==="https:"}function qI(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(db()||xP()||"connection"in navigator)?navigator.onLine:!0}function B3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=r4()||sb()}get(){return U3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],q3=new xd(3e4,6e4);function zt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function qt(n,e,t,r,s={}){return ZP(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Vc({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:f,...o};return s4()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Mc(n.emulatorConfig.host)&&(m.credentials="include"),JP.fetch()(await eO(n,n.config.apiHost,t,h),m)})}async function ZP(n,e,t){n._canInitEmulator=!1;const r={...F3,...e};try{const s=new H3(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Df(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Df(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Df(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Df(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw hb(n,y,m);Rn(n,y)}}catch(s){if(s instanceof rr)throw s;Rn(n,"network-request-failed",{message:String(s)})}}async function zs(n,e,t,r,s={}){const o=await qt(n,e,t,r,s);return"mfaPendingCredential"in o&&Rn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function eO(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?mb(n.config,s):`${n.config.apiScheme}://${s}`;return z3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function j3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class H3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),q3.get())})}}function Df(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=_n(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n){return n!==void 0&&n.getResponse!==void 0}function HI(n){return n!==void 0&&n.enterprise!==void 0}class tO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return j3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(n){return(await qt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function nO(n,e){return qt(n,"GET","/v2/recaptchaConfig",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G3(n,e){return qt(n,"POST","/v1/accounts:delete",e)}async function K3(n,e){return qt(n,"POST","/v1/accounts:update",e)}async function wg(n,e){return qt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W3(n,e=!1){const t=Pe(n),r=await t.getIdToken(e),s=ty(r);ge(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:Ff(fE(s.auth_time)),issuedAtTime:Ff(fE(s.iat)),expirationTime:Ff(fE(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function fE(n){return Number(n)*1e3}function ty(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return $p("JWT malformed, contained fewer than 3 sections"),null;try{const s=nb(t);return s?JSON.parse(s):($p("Failed to decode base64 JWT payload"),null)}catch(s){return $p("Caught error parsing JWT payload as JSON",s?.toString()),null}}function $I(n){const e=ty(n);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rr&&Q3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Q3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ff(this.lastLoginAt),this.creationTime=Ff(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function od(n){const e=n.auth,t=await n.getIdToken(),r=await Ls(n,wg(e,{idToken:t}));ge(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?rO(s.providerUserInfo):[],u=J3(n.providerData,o),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!u?.length,m=h?f:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new WE(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function X3(n){const e=Pe(n);await od(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J3(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rO(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z3(n,e){const t=await ZP(n,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await eO(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:r};return n.emulatorConfig&&Mc(n.emulatorConfig.host)&&(f.credentials="include"),JP.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function eU(n,e){return qt(n,"POST","/v2/accounts:revokeToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$I(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const t=$I(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await Z3(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Xu;return r&&(ge(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(ge(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(ge(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(n,e){ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new Y3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new WE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Ls(this,this.stsTokenManager.getToken(this.auth,e));return ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return W3(this,e)}reload(){return X3(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await od(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rt(this.auth.app))return Promise.reject(In(this.auth));const e=await this.getIdToken();return await Ls(this,G3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,f=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:w,isAnonymous:R,providerData:S,stsTokenManager:P}=t;ge(_&&P,e,"internal-error");const x=Xu.fromJSON(this.name,P);ge(typeof _=="string",e,"internal-error"),Da(r,e.name),Da(s,e.name),ge(typeof w=="boolean",e,"internal-error"),ge(typeof R=="boolean",e,"internal-error"),Da(o,e.name),Da(u,e.name),Da(h,e.name),Da(f,e.name),Da(m,e.name),Da(y,e.name);const $=new di({uid:_,auth:e,email:s,emailVerified:w,displayName:r,isAnonymous:R,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:x,createdAt:m,lastLoginAt:y});return S&&Array.isArray(S)&&($.providerData=S.map(U=>({...U}))),f&&($._redirectEventId=f),$}static async _fromIdTokenResponse(e,t,r=!1){const s=new Xu;s.updateFromServerResponse(t);const o=new di({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await od(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];ge(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?rO(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,h=new Xu;h.updateFromIdToken(r);const f=new di({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new WE(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map;function Or(n){yi(n instanceof Function,"Expected a class definition");let e=GI.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,GI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iO.type="NONE";const oc=iO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(n,e,t){return`firebase:${n}:${e}:${t}`}class Ju{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=_l(this.userKey,s.apiKey,o),this.fullPersistenceKey=_l("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await wg(this.auth,{idToken:e}).catch(()=>{});return t?di._fromGetAccountInfoResponse(this.auth,t,e):null}return di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ju(Or(oc),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||Or(oc);const u=_l(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let _;if(typeof y=="string"){const w=await wg(e,{idToken:y}).catch(()=>{});if(!w)break;_=await di._fromGetAccountInfoResponse(e,w,y)}else _=di._fromJSON(e,y);m!==o&&(h=_),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Ju(o,e,r):(o=f[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uO(e))return"Blackberry";if(cO(e))return"Webos";if(aO(e))return"Safari";if((e.includes("chrome/")||oO(e))&&!e.includes("edge/"))return"Chrome";if(Nd(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function sO(n=kt()){return/firefox\//i.test(n)}function aO(n=kt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oO(n=kt()){return/crios\//i.test(n)}function lO(n=kt()){return/iemobile/i.test(n)}function Nd(n=kt()){return/android/i.test(n)}function uO(n=kt()){return/blackberry/i.test(n)}function cO(n=kt()){return/webos/i.test(n)}function kd(n=kt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function tU(n=kt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function nU(n=kt()){return kd(n)&&!!window.navigator?.standalone}function rU(){return NP()&&document.documentMode===10}function hO(n=kt()){return kd(n)||Nd(n)||cO(n)||uO(n)||/windows phone/i.test(n)||lO(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(n,e=[]){let t;switch(n){case"Browser":t=KI(kt());break;case"Worker":t=`${KI(kt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const f=e(o);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sU(n,e={}){return qt(n,"GET","/v2/passwordPolicy",zt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=6;class oU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??aU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WI(this),this.idTokenSubscription=new WI(this),this.beforeStateQueue=new iU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ju.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await wg(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rt(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===u)&&h?.user&&(r=h.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await od(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rt(this.app))return Promise.reject(In(this));const t=e?Pe(e):null;return t&&ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rt(this.app)?Promise.reject(In(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rt(this.app)?Promise.reject(In(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sU(this),t=new oU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ll("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await eU(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;ge(t,this,"argument-error"),this.redirectPersistenceManager=await Ju.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Rt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&L3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Mt(n){return Pe(n)}class WI{constructor(e){this.auth=e,this.observer=null,this.addObserver=VP(t=>this.observer=t)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Md={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uU(n){Md=n}function pb(n){return Md.loadJS(n)}function cU(){return Md.recaptchaV2Script}function hU(){return Md.recaptchaEnterpriseScript}function fU(){return Md.gapiScript}function dO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=500,mU=6e4,Rp=1e12;class pU{constructor(e){this.auth=e,this.counter=Rp,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new _U(e,this.auth.name,t||{})),this.counter++,r}reset(e){const t=e||Rp;this._widgets.get(t)?.delete(),this._widgets.delete(t)}getResponse(e){const t=e||Rp;return this._widgets.get(t)?.getResponse()||""}async execute(e){const t=e||Rp;return this._widgets.get(t)?.execute(),""}}class gU{constructor(){this.enterprise=new yU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class yU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _U{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ge(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=vU(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},mU)},dU))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function vU(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const EU="recaptcha-enterprise",zf="NO_RECAPTCHA";class mO{constructor(e){this.type=EU,this.auth=Mt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{nO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new tO(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{h(f)})})}function s(o,u,h){const f=window.grecaptcha;HI(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(zf)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gU().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&HI(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=hU();f.length!==0&&(f+=h),pb(f).then(()=>{s(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function lf(n,e,t,r=!1,s=!1){const o=new mO(n);let u;if(s)u=zf;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function qa(n,e,t,r,s){if(s==="EMAIL_PASSWORD_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await lf(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await lf(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)});else if(s==="PHONE_PROVIDER")if(n._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const o=await lf(n,e,t);return r(n,o).catch(async u=>{if(n._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const h=await lf(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)})}else{const o=await lf(n,e,t,!1,!0);return r(n,o)}else return Promise.reject(s+" provider is not supported.")}async function wU(n){const e=Mt(n),t=await nO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new tO(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new mO(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(n,e){const t=ey(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Ms(o,e??{}))return s;Rn(s,"already-initialized")}return t.initialize({options:e})}function TU(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Or);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function pO(n,e,t){const r=Mt(n);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!t?.disableWarnings,o=gO(e),{host:u,port:h}=SU(e),f=h===null?"":`:${h}`,m={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Ms(m,r.config.emulator)&&Ms(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Mc(u)?(PP(`${o}//${u}${f}`),OP("Auth",!0)):s||AU()}function gO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SU(n){const e=gO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:QI(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:QI(u)}}}function QI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function AU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,t){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,e){return qt(n,"POST","/v1/accounts:resetPassword",zt(n,e))}async function IU(n,e){return qt(n,"POST","/v1/accounts:update",e)}async function RU(n,e){return qt(n,"POST","/v1/accounts:signUp",e)}async function CU(n,e){return qt(n,"POST","/v1/accounts:update",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PU(n,e){return zs(n,"POST","/v1/accounts:signInWithPassword",zt(n,e))}async function ny(n,e){return qt(n,"POST","/v1/accounts:sendOobCode",zt(n,e))}async function OU(n,e){return ny(n,e)}async function DU(n,e){return ny(n,e)}async function xU(n,e){return ny(n,e)}async function NU(n,e){return ny(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(n,e){return zs(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}async function MU(n,e){return zs(n,"POST","/v1/accounts:signInWithEmailLink",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld extends Bc{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ld(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ld(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qa(e,t,"signInWithPassword",PU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kU(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qa(e,r,"signUpPassword",RU,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return MU(e,{idToken:t,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ns(n,e){return zs(n,"POST","/v1/accounts:signInWithIdp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU="http://localhost";class Zi extends Bc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Zi(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}buildRequest(){const e={requestUri:VU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e){return qt(n,"POST","/v1/accounts:sendVerificationCode",zt(n,e))}async function LU(n,e){return zs(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e))}async function UU(n,e){const t=await zs(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,e));if(t.temporaryProof)throw Df(n,"account-exists-with-different-credential",t);return t}const BU={USER_NOT_FOUND:"user-not-found"};async function FU(n,e){const t={...e,operation:"REAUTH"};return zs(n,"POST","/v1/accounts:signInWithPhoneNumber",zt(n,t),BU)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends Bc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return LU(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return UU(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return FU(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o}=e;return!r&&!t&&!s&&!o?null:new vl({verificationId:t,verificationCode:r,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qU(n){const e=Qu(Of(n)).link,t=e?Qu(Of(e)).deep_link_id:null,r=Qu(Of(n)).deep_link_id;return(r?Qu(Of(r)).link:null)||r||t||e||n}class ry{constructor(e){const t=Qu(Of(e)),r=t.apiKey??null,s=t.oobCode??null,o=zU(t.mode??null);ge(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=qU(e);try{return new ry(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,t){return ld._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=ry.parseLink(t);return ge(r,"argument-error"),ld._fromEmailAndCode(e,r.code,r.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends qs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zu extends Fc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ge("providerId"in t&&"signInMethod"in t,"argument-error"),Zi._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ge(e.idToken||e.accessToken,"argument-error"),Zi._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Zu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Zu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!s&&!t&&!o||!h)return null;try{return new Zu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Fc{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zi._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return zi.credential(t,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Fc{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU="http://localhost";class lc extends Bc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Ns(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ns(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ns(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,pendingToken:o}=t;return!r||!s||!o||r!==s?null:new lc(r,o)}static _create(e,t){return new lc(e,t)}buildRequest(){return{requestUri:jU,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU="saml.";class bg extends qs{constructor(e){ge(e.startsWith(HU),"argument-error"),super(e)}static credentialFromResult(e){return bg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return bg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=lc.fromJSON(e);return ge(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return lc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Fc{constructor(){super("twitter.com")}static credential(e,t){return Zi._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ji.credential(t,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(n,e){return zs(n,"POST","/v1/accounts:signUp",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await di._fromIdTokenResponse(e,r,s),u=XI(r);return new Xr({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=XI(r);return new Xr({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function XI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(n){if(Rt(n.app))return Promise.reject(In(n));const e=Mt(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Xr({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await _O(e,{returnSecureToken:!0}),r=await Xr._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends rr{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Tg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Tg(e,t,r,s)}}function vO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tg._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GU(n,e){const t=Pe(n);await iy(!0,t,e);const{providerUserInfo:r}=await K3(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=EO(r||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function gb(n,e,t=!1){const r=await Ls(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Xr._forOperation(n,"link",r)}async function iy(n,e,t){await od(e);const r=EO(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ge(r.has(t)===n,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(n,e,t=!1){const{auth:r}=n;if(Rt(r.app))return Promise.reject(In(r));const s="reauthenticate";try{const o=await Ls(n,vO(r,s,e,n),t);ge(o.idToken,r,"internal-error");const u=ty(o.idToken);ge(u,r,"internal-error");const{sub:h}=u;return ge(n.uid===h,r,"user-mismatch"),Xr._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&Rn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r="signIn",s=await vO(n,r,e),o=await Xr._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function sy(n,e){return bO(Mt(n),e)}async function TO(n,e){const t=Pe(n);return await iy(!1,t,e.providerId),gb(t,e)}async function SO(n,e){return wO(Pe(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(n,e){return zs(n,"POST","/v1/accounts:signInWithCustomToken",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WU(n,e){if(Rt(n.app))return Promise.reject(In(n));const t=Mt(n),r=await KU(t,{token:e,returnSecureToken:!0}),s=await Xr._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?yb._fromServerResponse(e,t):"totpInfo"in t?_b._fromServerResponse(e,t):Rn(e,"internal-error")}}class yb extends Vd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new yb(t)}}class _b extends Vd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new _b(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(n,e,t){ge(t.url?.length>0,n,"invalid-continue-uri"),ge(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ge(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ge(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ge(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(n){const e=Mt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function QU(n,e,t){const r=Mt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&ay(r,s,t),await qa(r,s,"getOobCode",DU,"EMAIL_PASSWORD_PROVIDER")}async function YU(n,e,t){await yO(Pe(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vb(n),r})}async function XU(n,e){await CU(Pe(n),{oobCode:e})}async function AO(n,e){const t=Pe(n),r=await yO(t,{oobCode:e}),s=r.requestType;switch(ge(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ge(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ge(r.mfaInfo,t,"internal-error");default:ge(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=Vd._fromServerResponse(Mt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function JU(n,e){const{data:t}=await AO(Pe(n),e);return t.email}async function IO(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Mt(n),u=await qa(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_O,"EMAIL_PASSWORD_PROVIDER").catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&vb(n),f}),h=await Xr._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function RO(n,e,t){return Rt(n.app)?Promise.reject(In(n)):sy(Pe(n),co.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(n,e,t){const r=Mt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ge(h.handleCodeInApp,r,"argument-error"),h&&ay(r,u,h)}o(s,t),await qa(r,s,"getOobCode",xU,"EMAIL_PASSWORD_PROVIDER")}function e5(n,e){return ry.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function t5(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Pe(n),s=co.credentialWithLink(e,t||ad());return ge(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),sy(r,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n5(n,e){return qt(n,"POST","/v1/accounts:createAuthUri",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r5(n,e){const t=db()?ad():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:s}=await n5(Pe(n),r);return s||[]}async function i5(n,e){const t=Pe(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&ay(t.auth,s,e);const{email:o}=await OU(t.auth,s);o!==n.email&&await n.reload()}async function s5(n,e,t){const r=Pe(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&ay(r.auth,o,t);const{email:u}=await NU(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(n,e){return qt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Pe(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ls(r,a5(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function l5(n,e){const t=Pe(n);return Rt(t.auth.app)?Promise.reject(In(t.auth)):CO(t,e,null)}function u5(n,e){return CO(Pe(n),null,e)}async function CO(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await Ls(n,IU(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(n){if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},r=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&n?.idToken){const s=ty(n.idToken)?.firebase?.sign_in_provider;if(s){const o=s!=="anonymous"&&s!=="custom"?s:null;return new ec(r,o)}}if(!e)return null;switch(e){case"facebook.com":return new h5(r,t);case"github.com":return new f5(r,t);case"google.com":return new d5(r,t);case"twitter.com":return new m5(r,t,n.screenName||null);case"custom":case"anonymous":return new ec(r,null);default:return new ec(r,e,t)}}class ec{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class PO extends ec{constructor(e,t,r,s){super(e,t,r),this.username=s}}class h5 extends ec{constructor(e,t){super(e,"facebook.com",t)}}class f5 extends PO{constructor(e,t){super(e,"github.com",t,typeof t?.login=="string"?t?.login:null)}}class d5 extends ec{constructor(e,t){super(e,"google.com",t)}}class m5 extends PO{constructor(e,t,r){super(e,"twitter.com",t,r)}}function p5(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:c5(t)}function g5(n,e,t,r){return Pe(n).onIdTokenChanged(e,t,r)}function y5(n,e,t){return Pe(n).beforeAuthStateChanged(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new fl("enroll",e,t)}static _fromMfaPendingCredential(e){return new fl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return fl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return fl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Mt(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(h=>Vd._fromServerResponse(r,h));ge(s.mfaPendingCredential,r,"internal-error");const u=fl._fromMfaPendingCredential(s.mfaPendingCredential);return new Eb(u,o,async h=>{const f=await h._process(r,u);delete s.mfaInfo,delete s.mfaPendingCredential;const m={...s,idToken:f.idToken,refreshToken:f.refreshToken};switch(t.operationType){case"signIn":const y=await Xr._fromIdTokenResponse(r,t.operationType,m);return await r._updateCurrentUser(y.user),y;case"reauthenticate":return ge(t.user,r,"internal-error"),Xr._forOperation(t.user,t.operationType,m);default:Rn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function _5(n,e){const t=Pe(n),r=e;return ge(e.customData.operationType,t,"argument-error"),ge(r.customData._serverResponse?.mfaPendingCredential,t,"argument-error"),Eb._fromError(t,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(n,e){return qt(n,"POST","/v2/accounts/mfaEnrollment:start",zt(n,e))}function v5(n,e){return qt(n,"POST","/v2/accounts/mfaEnrollment:finalize",zt(n,e))}function E5(n,e){return qt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(n,e))}class wb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>Vd._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new wb(e)}async getSession(){return fl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,s=await this.getSession(),o=await Ls(this.user,r._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const s=await Ls(this.user,E5(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const dE=new WeakMap;function w5(n){const e=Pe(n);return dE.has(e)||dE.set(e,wb._fromUser(e)),dE.get(e)}const Sg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=1e3,T5=10;class DO extends OO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);rU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,T5):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},b5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}DO.type="LOCAL";const oy=DO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO extends OO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xO.type="SESSION";const Ya=xO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new ly(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const h=Array.from(u).map(async m=>m(t.origin,o)),f=await S5(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ly.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,f)=>{const m=Ld("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const w=_;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(w.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function I5(n){ln().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function R5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C5(){return navigator?.serviceWorker?.controller||null}function P5(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="firebaseLocalStorageDb",O5=1,Ag="firebaseLocalStorage",kO="fbase_key";class Ud{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function uy(n,e){return n.transaction([Ag],e?"readwrite":"readonly").objectStore(Ag)}function D5(){const n=indexedDB.deleteDatabase(NO);return new Ud(n).toPromise()}function QE(){const n=indexedDB.open(NO,O5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ag,{keyPath:kO})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ag)?e(r):(r.close(),await D5(),e(await QE()))})})}async function ZI(n,e,t){const r=uy(n,!0).put({[kO]:e,value:t});return new Ud(r).toPromise()}async function x5(n,e){const t=uy(n,!1).get(e),r=await new Ud(t).toPromise();return r===void 0?null:r.value}function eR(n,e){const t=uy(n,!0).delete(e);return new Ud(t).toPromise()}const N5=800,k5=3;class MO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>k5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ly._getInstance(P5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await R5(),!this.activeServiceWorker)return;this.sender=new A5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QE();return await ZI(e,Sg,"1"),await eR(e,Sg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZI(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>x5(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eR(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=uy(s,!1).getAll();return new Ud(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MO.type="LOCAL";const uc=MO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n,e){return qt(n,"POST","/v2/accounts/mfaSignIn:start",zt(n,e))}function M5(n,e){return qt(n,"POST","/v2/accounts/mfaSignIn:finalize",zt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=dO("rcb"),V5=new xd(3e4,6e4);class L5{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ln().grecaptcha?.render}load(e,t=""){return ge(U5(t),e,"argument-error"),this.shouldResolveImmediately(t)&&jI(ln().grecaptcha)?Promise.resolve(ln().grecaptcha):new Promise((r,s)=>{const o=ln().setTimeout(()=>{s(_n(e,"network-request-failed"))},V5.get());ln()[mE]=()=>{ln().clearTimeout(o),delete ln()[mE];const h=ln().grecaptcha;if(!h||!jI(h)){s(_n(e,"internal-error"));return}const f=h.render;h.render=(m,y)=>{const _=f(m,y);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${cU()}?${Vc({onload:mE,render:"explicit",hl:t})}`;pb(u).catch(()=>{clearTimeout(o),s(_n(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!ln().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function U5(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class B5{async load(e){return new pU(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="recaptcha",F5={theme:"light",type:"image"};let z5=class{constructor(e,t,r={...F5}){this.parameters=r,this.type=qf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(e),this.isInvisible=this.parameters.size==="invisible",ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ge(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new B5:new L5,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ge(!this.parameters.sitekey,this.auth,"argument-error"),ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=ln()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){ge(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ge(db()&&!bb(),this.auth,"internal-error"),await q5(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await $3(this.auth);ge(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function q5(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=vl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function j5(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Mt(n),s=await cy(r,e,Pe(t));return new Tb(s,o=>sy(r,o))}async function H5(n,e,t){const r=Pe(n);await iy(!1,r,"phone");const s=await cy(r.auth,e,Pe(t));return new Tb(s,o=>TO(r,o))}async function $5(n,e,t){const r=Pe(n);if(Rt(r.auth.app))return Promise.reject(In(r.auth));const s=await cy(r.auth,e,Pe(t));return new Tb(s,o=>SO(r,o))}async function cy(n,e,t){if(!n._getRecaptchaConfig())try{await wU(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const s=r.session;if("phoneNumber"in r){ge(s.type==="enroll",n,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await qa(n,o,"mfaSmsEnrollment",async(m,y)=>{if(y.phoneEnrollmentInfo.captchaResponse===zf){ge(t?.type===qf,m,"argument-error");const _=await pE(m,y,t);return JI(m,_)}return JI(m,y)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneSessionInfo.sessionInfo}else{ge(s.type==="signin",n,"internal-error");const o=r.multiFactorHint?.uid||r.multiFactorUid;ge(o,n,"missing-multi-factor-info");const u={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await qa(n,u,"mfaSmsSignIn",async(y,_)=>{if(_.phoneSignInInfo.captchaResponse===zf){ge(t?.type===qf,y,"argument-error");const w=await pE(y,_,t);return tR(y,w)}return tR(y,_)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await qa(n,s,"sendVerificationCode",async(f,m)=>{if(m.captchaResponse===zf){ge(t?.type===qf,f,"argument-error");const y=await pE(f,m,t);return YI(f,y)}return YI(f,m)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t?._reset()}}async function G5(n,e){const t=Pe(n);if(Rt(t.auth.app))return Promise.reject(In(t.auth));await gb(t,e)}async function pE(n,e,t){ge(t.type===qf,n,"argument-error");const r=await t.verify();ge(typeof r=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,h=s.phoneEnrollmentInfo.clientType,f=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:f}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,h=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl=class Gp{constructor(e){this.providerId=Gp.PROVIDER_ID,this.auth=Mt(e)}verifyPhoneNumber(e,t){return cy(this.auth,e,Pe(t))}static credential(e,t){return vl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gp.credentialFromTaggedObject(t)}static credentialFromError(e){return Gp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?vl._fromTokenResponse(t,r):null}};Tl.PROVIDER_ID="phone";Tl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n,e){return e?Or(e):(ge(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Bc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K5(n){return bO(n.auth,new Sb(n),n.bypassAuthState)}function W5(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),wO(t,new Sb(n),n.bypassAuthState)}async function Q5(n){const{auth:e,user:t}=n;return ge(t,e,"internal-error"),gb(t,new Sb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K5;case"linkViaPopup":case"linkViaRedirect":return Q5;case"reauthViaPopup":case"reauthViaRedirect":return W5;default:Rn(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=new xd(2e3,1e4);async function X5(n,e,t){if(Rt(n.app))return Promise.reject(_n(n,"operation-not-supported-in-this-environment"));const r=Mt(n);Uc(n,e,qs);const s=Ul(r,t);return new Ps(r,"signInViaPopup",e,s).executeNotNull()}async function J5(n,e,t){const r=Pe(n);if(Rt(r.auth.app))return Promise.reject(_n(r.auth,"operation-not-supported-in-this-environment"));Uc(r.auth,e,qs);const s=Ul(r.auth,t);return new Ps(r.auth,"reauthViaPopup",e,s,r).executeNotNull()}async function Z5(n,e,t){const r=Pe(n);Uc(r.auth,e,qs);const s=Ul(r.auth,t);return new Ps(r.auth,"linkViaPopup",e,s,r).executeNotNull()}class Ps extends VO{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Ps.currentPopupAction&&Ps.currentPopupAction.cancel(),Ps.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=Ld();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ps.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y5.get())};e()}}Ps.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="pendingRedirect",jf=new Map;class t6 extends VO{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jf.get(this.auth._key());if(!e){try{const r=await n6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jf.set(this.auth._key(),e)}return this.bypassAuthState||jf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n6(n,e){const t=UO(e),r=LO(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}async function Ab(n,e){return LO(n)._set(UO(e),"true")}function r6(){jf.clear()}function Ib(n,e){jf.set(n._key(),e)}function LO(n){return Or(n._redirectPersistence)}function UO(n){return _l(e6,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(n,e,t){return s6(n,e,t)}async function s6(n,e,t){if(Rt(n.app))return Promise.reject(In(n));const r=Mt(n);Uc(n,e,qs),await r._initializationPromise;const s=Ul(r,t);return await Ab(s,r),s._openRedirect(r,e,"signInViaRedirect")}function a6(n,e,t){return o6(n,e,t)}async function o6(n,e,t){const r=Pe(n);if(Uc(r.auth,e,qs),Rt(r.auth.app))return Promise.reject(In(r.auth));await r.auth._initializationPromise;const s=Ul(r.auth,t);await Ab(s,r.auth);const o=await BO(r);return s._openRedirect(r.auth,e,"reauthViaRedirect",o)}function l6(n,e,t){return u6(n,e,t)}async function u6(n,e,t){const r=Pe(n);Uc(r.auth,e,qs),await r.auth._initializationPromise;const s=Ul(r.auth,t);await iy(!1,r,e.providerId),await Ab(s,r.auth);const o=await BO(r);return s._openRedirect(r.auth,e,"linkViaRedirect",o)}async function c6(n,e){return await Mt(n)._initializationPromise,hy(n,e,!1)}async function hy(n,e,t=!1){if(Rt(n.app))return Promise.reject(In(n));const r=Mt(n),s=Ul(r,e),u=await new t6(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function BO(n){const e=Ld(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=600*1e3;class FO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!zO(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_n(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h6&&this.cachedEventUids.clear(),this.cachedEventUids.has(nR(e))}saveEventToCache(e){this.cachedEventUids.add(nR(e)),this.lastProcessedEventTime=Date.now()}}function nR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function f6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zO(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO(n,e={}){return qt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m6=/^https?/;async function p6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await qO(n);for(const t of e)try{if(g6(t))return}catch{}Rn(n,"unauthorized-domain")}function g6(n){const e=ad(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!m6.test(t))return!1;if(d6.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=new xd(3e4,6e4);function rR(){const n=ln().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function _6(n){return new Promise((e,t)=>{function r(){rR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rR(),t(_n(n,"network-request-failed"))},timeout:y6.get()})}if(ln().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ln().gapi?.load)r();else{const s=dO("iframefcb");return ln()[s]=()=>{gapi.load?r():t(_n(n,"network-request-failed"))},pb(`${fU()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw Kp=null,e})}let Kp=null;function v6(n){return Kp=Kp||_6(n),Kp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new xd(5e3,15e3),w6="__/auth/iframe",b6="emulator/auth/iframe",T6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A6(n){const e=n.config;ge(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?mb(e,b6):`https://${n.config.authDomain}/${w6}`,r={apiKey:e.apiKey,appName:n.name,v:uo},s=S6.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Vc(r).slice(1)}`}async function I6(n){const e=await v6(n),t=ln().gapi;return ge(t,n,"internal-error"),e.open({where:document.body,url:A6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:T6,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=_n(n,"network-request-failed"),h=ln().setTimeout(()=>{o(u)},E6.get());function f(){ln().clearTimeout(h),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C6=500,P6=600,O6="_blank",D6="http://localhost";class iR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x6(n,e,t,r=C6,s=P6){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f={...R6,width:r.toString(),height:s.toString(),top:o,left:u},m=kt().toLowerCase();t&&(h=oO(m)?O6:t),sO(m)&&(e=e||D6,f.scrollbars="yes");const y=Object.entries(f).reduce((w,[R,S])=>`${w}${R}=${S},`,"");if(nU(m)&&h!=="_self")return N6(e||"",h),new iR(null);const _=window.open(e||"",h,y);ge(_,n,"popup-blocked");try{_.focus()}catch{}return new iR(_)}function N6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="__/auth/handler",M6="emulator/auth/handler",V6=encodeURIComponent("fac");async function YE(n,e,t,r,s,o){ge(n.config.authDomain,n,"auth-domain-config-required"),ge(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uo,eventId:s};if(e instanceof qs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",c4(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries(o||{}))u[y]=_}if(e instanceof Fc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${V6}=${encodeURIComponent(f)}`:"";return`${L6(n)}?${Vc(h).slice(1)}${m}`}function L6({config:n}){return n.emulator?mb(n,M6):`https://${n.authDomain}/${k6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="webStorageSupport";class U6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ya,this._completeRedirectFn=hy,this._overrideRedirectResult=Ib}async _openPopup(e,t,r,s){yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await YE(e,t,r,ad(),s);return x6(e,o,Ld())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await YE(e,t,r,ad(),s);return I5(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(yi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await I6(e),r=new FO(e);return t.register("authEvent",s=>(ge(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gE,{type:gE},s=>{const o=s?.[0]?.[gE];o!==void 0&&t(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=p6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hO()||aO()||kd()}}const jO=U6;class B6{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Hi("unexpected MultiFactorSessionType")}}}class Rb extends B6{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Rb(e)}_finalizeEnroll(e,t,r){return v5(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return M5(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class HO{constructor(){}static assertion(e){return Rb._fromCredential(e)}}HO.FACTOR_ID="phone";var sR="@firebase/auth",aR="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function q6(n){Qa(new Ji("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;ge(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fO(n)},m=new lU(r,s,o,f);return TU(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Qa(new Ji("auth-internal",e=>{const t=Mt(e.getProvider("auth").getImmediate());return(r=>new F6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(sR,aR,z6(n)),mi(sR,aR,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=300,H6=CP("authIdTokenMaxAge")||j6;let oR=null;const $6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>H6)return;const s=t?.token;oR!==s&&(oR=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function G6(n=HP()){const e=ey(n,"auth");if(e.isInitialized())return e.getImmediate();const t=bU(n,{popupRedirectResolver:jO,persistence:[uc,oy,Ya]}),r=CP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=$6(o.toString());y5(t,u,()=>u(t.currentUser)),g5(t,h=>u(h))}}const s=JL("auth");return s&&pO(t,`http://${s}`),t}function K6(){return document.getElementsByTagName("head")?.[0]??document}uU({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=_n("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",K6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});q6("Browser");var lR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ja,$O;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function C(){}C.prototype=I.prototype,k.F=I.prototype,k.prototype=new C,k.prototype.constructor=k,k.D=function(L,D,E){for(var A=Array(arguments.length-2),G=2;G<arguments.length;G++)A[G-2]=arguments[G];return I.prototype[D].apply(L,A)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,I,C){C||(C=0);const L=Array(16);if(typeof I=="string")for(var D=0;D<16;++D)L[D]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(D=0;D<16;++D)L[D]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=k.g[0],C=k.g[1],D=k.g[2];let E=k.g[3],A;A=I+(E^C&(D^E))+L[0]+3614090360&4294967295,I=C+(A<<7&4294967295|A>>>25),A=E+(D^I&(C^D))+L[1]+3905402710&4294967295,E=I+(A<<12&4294967295|A>>>20),A=D+(C^E&(I^C))+L[2]+606105819&4294967295,D=E+(A<<17&4294967295|A>>>15),A=C+(I^D&(E^I))+L[3]+3250441966&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(E^C&(D^E))+L[4]+4118548399&4294967295,I=C+(A<<7&4294967295|A>>>25),A=E+(D^I&(C^D))+L[5]+1200080426&4294967295,E=I+(A<<12&4294967295|A>>>20),A=D+(C^E&(I^C))+L[6]+2821735955&4294967295,D=E+(A<<17&4294967295|A>>>15),A=C+(I^D&(E^I))+L[7]+4249261313&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(E^C&(D^E))+L[8]+1770035416&4294967295,I=C+(A<<7&4294967295|A>>>25),A=E+(D^I&(C^D))+L[9]+2336552879&4294967295,E=I+(A<<12&4294967295|A>>>20),A=D+(C^E&(I^C))+L[10]+4294925233&4294967295,D=E+(A<<17&4294967295|A>>>15),A=C+(I^D&(E^I))+L[11]+2304563134&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(E^C&(D^E))+L[12]+1804603682&4294967295,I=C+(A<<7&4294967295|A>>>25),A=E+(D^I&(C^D))+L[13]+4254626195&4294967295,E=I+(A<<12&4294967295|A>>>20),A=D+(C^E&(I^C))+L[14]+2792965006&4294967295,D=E+(A<<17&4294967295|A>>>15),A=C+(I^D&(E^I))+L[15]+1236535329&4294967295,C=D+(A<<22&4294967295|A>>>10),A=I+(D^E&(C^D))+L[1]+4129170786&4294967295,I=C+(A<<5&4294967295|A>>>27),A=E+(C^D&(I^C))+L[6]+3225465664&4294967295,E=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(E^I))+L[11]+643717713&4294967295,D=E+(A<<14&4294967295|A>>>18),A=C+(E^I&(D^E))+L[0]+3921069994&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(D^E&(C^D))+L[5]+3593408605&4294967295,I=C+(A<<5&4294967295|A>>>27),A=E+(C^D&(I^C))+L[10]+38016083&4294967295,E=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(E^I))+L[15]+3634488961&4294967295,D=E+(A<<14&4294967295|A>>>18),A=C+(E^I&(D^E))+L[4]+3889429448&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(D^E&(C^D))+L[9]+568446438&4294967295,I=C+(A<<5&4294967295|A>>>27),A=E+(C^D&(I^C))+L[14]+3275163606&4294967295,E=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(E^I))+L[3]+4107603335&4294967295,D=E+(A<<14&4294967295|A>>>18),A=C+(E^I&(D^E))+L[8]+1163531501&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(D^E&(C^D))+L[13]+2850285829&4294967295,I=C+(A<<5&4294967295|A>>>27),A=E+(C^D&(I^C))+L[2]+4243563512&4294967295,E=I+(A<<9&4294967295|A>>>23),A=D+(I^C&(E^I))+L[7]+1735328473&4294967295,D=E+(A<<14&4294967295|A>>>18),A=C+(E^I&(D^E))+L[12]+2368359562&4294967295,C=D+(A<<20&4294967295|A>>>12),A=I+(C^D^E)+L[5]+4294588738&4294967295,I=C+(A<<4&4294967295|A>>>28),A=E+(I^C^D)+L[8]+2272392833&4294967295,E=I+(A<<11&4294967295|A>>>21),A=D+(E^I^C)+L[11]+1839030562&4294967295,D=E+(A<<16&4294967295|A>>>16),A=C+(D^E^I)+L[14]+4259657740&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(C^D^E)+L[1]+2763975236&4294967295,I=C+(A<<4&4294967295|A>>>28),A=E+(I^C^D)+L[4]+1272893353&4294967295,E=I+(A<<11&4294967295|A>>>21),A=D+(E^I^C)+L[7]+4139469664&4294967295,D=E+(A<<16&4294967295|A>>>16),A=C+(D^E^I)+L[10]+3200236656&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(C^D^E)+L[13]+681279174&4294967295,I=C+(A<<4&4294967295|A>>>28),A=E+(I^C^D)+L[0]+3936430074&4294967295,E=I+(A<<11&4294967295|A>>>21),A=D+(E^I^C)+L[3]+3572445317&4294967295,D=E+(A<<16&4294967295|A>>>16),A=C+(D^E^I)+L[6]+76029189&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(C^D^E)+L[9]+3654602809&4294967295,I=C+(A<<4&4294967295|A>>>28),A=E+(I^C^D)+L[12]+3873151461&4294967295,E=I+(A<<11&4294967295|A>>>21),A=D+(E^I^C)+L[15]+530742520&4294967295,D=E+(A<<16&4294967295|A>>>16),A=C+(D^E^I)+L[2]+3299628645&4294967295,C=D+(A<<23&4294967295|A>>>9),A=I+(D^(C|~E))+L[0]+4096336452&4294967295,I=C+(A<<6&4294967295|A>>>26),A=E+(C^(I|~D))+L[7]+1126891415&4294967295,E=I+(A<<10&4294967295|A>>>22),A=D+(I^(E|~C))+L[14]+2878612391&4294967295,D=E+(A<<15&4294967295|A>>>17),A=C+(E^(D|~I))+L[5]+4237533241&4294967295,C=D+(A<<21&4294967295|A>>>11),A=I+(D^(C|~E))+L[12]+1700485571&4294967295,I=C+(A<<6&4294967295|A>>>26),A=E+(C^(I|~D))+L[3]+2399980690&4294967295,E=I+(A<<10&4294967295|A>>>22),A=D+(I^(E|~C))+L[10]+4293915773&4294967295,D=E+(A<<15&4294967295|A>>>17),A=C+(E^(D|~I))+L[1]+2240044497&4294967295,C=D+(A<<21&4294967295|A>>>11),A=I+(D^(C|~E))+L[8]+1873313359&4294967295,I=C+(A<<6&4294967295|A>>>26),A=E+(C^(I|~D))+L[15]+4264355552&4294967295,E=I+(A<<10&4294967295|A>>>22),A=D+(I^(E|~C))+L[6]+2734768916&4294967295,D=E+(A<<15&4294967295|A>>>17),A=C+(E^(D|~I))+L[13]+1309151649&4294967295,C=D+(A<<21&4294967295|A>>>11),A=I+(D^(C|~E))+L[4]+4149444226&4294967295,I=C+(A<<6&4294967295|A>>>26),A=E+(C^(I|~D))+L[11]+3174756917&4294967295,E=I+(A<<10&4294967295|A>>>22),A=D+(I^(E|~C))+L[2]+718787259&4294967295,D=E+(A<<15&4294967295|A>>>17),A=C+(E^(D|~I))+L[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+E&4294967295}r.prototype.v=function(k,I){I===void 0&&(I=k.length);const C=I-this.blockSize,L=this.C;let D=this.h,E=0;for(;E<I;){if(D==0)for(;E<=C;)s(this,k,E),E+=this.blockSize;if(typeof k=="string"){for(;E<I;)if(L[D++]=k.charCodeAt(E++),D==this.blockSize){s(this,L),D=0;break}}else for(;E<I;)if(L[D++]=k[E++],D==this.blockSize){s(this,L),D=0;break}}this.h=D,this.o+=I},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;I=this.o*8;for(var C=k.length-8;C<k.length;++C)k[C]=I&255,I/=256;for(this.v(k),k=Array(16),I=0,C=0;C<4;++C)for(let L=0;L<32;L+=8)k[I++]=this.g[C]>>>L&255;return k};function o(k,I){var C=h;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=I(k)}function u(k,I){this.h=I;const C=[];let L=!0;for(let D=k.length-1;D>=0;D--){const E=k[D]|0;L&&E==I||(C[D]=E,L=!1)}this.g=C}var h={};function f(k){return-128<=k&&k<128?o(k,function(I){return new u([I|0],I<0?-1:0)}):new u([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return _;if(k<0)return x(m(-k));const I=[];let C=1;for(let L=0;k>=C;L++)I[L]=k/C|0,C*=4294967296;return new u(I,0)}function y(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return x(y(k.substring(1),I));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(I,8));let L=_;for(let E=0;E<k.length;E+=8){var D=Math.min(8,k.length-E);const A=parseInt(k.substring(E,E+D),I);D<8?(D=m(Math.pow(I,D)),L=L.j(D).add(m(A))):(L=L.j(C),L=L.add(m(A)))}return L}var _=f(0),w=f(1),R=f(16777216);n=u.prototype,n.m=function(){if(P(this))return-x(this).m();let k=0,I=1;for(let C=0;C<this.g.length;C++){const L=this.i(C);k+=(L>=0?L:4294967296+L)*I,I*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(P(this))return"-"+x(this).toString(k);const I=m(Math.pow(k,6));var C=this;let L="";for(;;){const D=W(C,I).g;C=$(C,D.j(I));let E=((C.g.length>0?C.g[0]:C.h)>>>0).toString(k);if(C=D,S(C))return E+L;for(;E.length<6;)E="0"+E;L=E+L}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(let I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function P(k){return k.h==-1}n.l=function(k){return k=$(this,k),P(k)?-1:S(k)?0:1};function x(k){const I=k.g.length,C=[];for(let L=0;L<I;L++)C[L]=~k.g[L];return new u(C,~k.h).add(w)}n.abs=function(){return P(this)?x(this):this},n.add=function(k){const I=Math.max(this.g.length,k.g.length),C=[];let L=0;for(let D=0;D<=I;D++){let E=L+(this.i(D)&65535)+(k.i(D)&65535),A=(E>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);L=A>>>16,E&=65535,A&=65535,C[D]=A<<16|E}return new u(C,C[C.length-1]&-2147483648?-1:0)};function $(k,I){return k.add(x(I))}n.j=function(k){if(S(this)||S(k))return _;if(P(this))return P(k)?x(this).j(x(k)):x(x(this).j(k));if(P(k))return x(this.j(x(k)));if(this.l(R)<0&&k.l(R)<0)return m(this.m()*k.m());const I=this.g.length+k.g.length,C=[];for(var L=0;L<2*I;L++)C[L]=0;for(L=0;L<this.g.length;L++)for(let D=0;D<k.g.length;D++){const E=this.i(L)>>>16,A=this.i(L)&65535,G=k.i(D)>>>16,V=k.i(D)&65535;C[2*L+2*D]+=A*V,U(C,2*L+2*D),C[2*L+2*D+1]+=E*V,U(C,2*L+2*D+1),C[2*L+2*D+1]+=A*G,U(C,2*L+2*D+1),C[2*L+2*D+2]+=E*G,U(C,2*L+2*D+2)}for(k=0;k<I;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=I;k<2*I;k++)C[k]=0;return new u(C,0)};function U(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function q(k,I){this.g=k,this.h=I}function W(k,I){if(S(I))throw Error("division by zero");if(S(k))return new q(_,_);if(P(k))return I=W(x(k),I),new q(x(I.g),x(I.h));if(P(I))return I=W(k,x(I)),new q(x(I.g),I.h);if(k.g.length>30){if(P(k)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,L=I;L.l(k)<=0;)C=j(C),L=j(L);var D=H(C,1),E=H(L,1);for(L=H(L,2),C=H(C,2);!S(L);){var A=E.add(L);A.l(k)<=0&&(D=D.add(C),E=A),L=H(L,1),C=H(C,1)}return I=$(k,D.j(I)),new q(D,I)}for(D=_;k.l(I)>=0;){for(C=Math.max(1,Math.floor(k.m()/I.m())),L=Math.ceil(Math.log(C)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),E=m(C),A=E.j(I);P(A)||A.l(k)>0;)C-=L,E=m(C),A=E.j(I);S(E)&&(E=w),D=D.add(E),k=$(k,A)}return new q(D,k)}n.B=function(k){return W(this,k).h},n.and=function(k){const I=Math.max(this.g.length,k.g.length),C=[];for(let L=0;L<I;L++)C[L]=this.i(L)&k.i(L);return new u(C,this.h&k.h)},n.or=function(k){const I=Math.max(this.g.length,k.g.length),C=[];for(let L=0;L<I;L++)C[L]=this.i(L)|k.i(L);return new u(C,this.h|k.h)},n.xor=function(k){const I=Math.max(this.g.length,k.g.length),C=[];for(let L=0;L<I;L++)C[L]=this.i(L)^k.i(L);return new u(C,this.h^k.h)};function j(k){const I=k.g.length+1,C=[];for(let L=0;L<I;L++)C[L]=k.i(L)<<1|k.i(L-1)>>>31;return new u(C,k.h)}function H(k,I){const C=I>>5;I%=32;const L=k.g.length-C,D=[];for(let E=0;E<L;E++)D[E]=I>0?k.i(E+C)>>>I|k.i(E+C+1)<<32-I:k.i(E+C);return new u(D,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$O=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,ja=u}).apply(typeof lR<"u"?lR:typeof self<"u"?self:typeof window<"u"?window:{});var Cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GO,xf,KO,Wp,XE,WO,QO,YO;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cp=="object"&&Cp];for(var v=0;v<d.length;++v){var b=d[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function s(d,v){if(v)e:{var b=r;d=d.split(".");for(var N=0;N<d.length-1;N++){var ee=d[N];if(!(ee in b))break e;b=b[ee]}d=d[d.length-1],N=b[d],v=v(N),v!=N&&v!=null&&e(b,d,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(v){var b=[],N;for(N in v)Object.prototype.hasOwnProperty.call(v,N)&&b.push([N,v[N]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function f(d,v,b){return d.call.apply(d.bind,arguments)}function m(d,v,b){return m=f,m.apply(null,arguments)}function y(d,v){var b=Array.prototype.slice.call(arguments,1);return function(){var N=b.slice();return N.push.apply(N,arguments),d.apply(this,N)}}function _(d,v){function b(){}b.prototype=v.prototype,d.Z=v.prototype,d.prototype=new b,d.prototype.constructor=d,d.Ob=function(N,ee,ae){for(var ve=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ve[Me-2]=arguments[Me];return v.prototype[ee].apply(N,ve)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function R(d){const v=d.length;if(v>0){const b=Array(v);for(let N=0;N<v;N++)b[N]=d[N];return b}return[]}function S(d,v){for(let N=1;N<arguments.length;N++){const ee=arguments[N];var b=typeof ee;if(b=b!="object"?b:ee?Array.isArray(ee)?"array":b:"null",b=="array"||b=="object"&&typeof ee.length=="number"){b=d.length||0;const ae=ee.length||0;d.length=b+ae;for(let ve=0;ve<ae;ve++)d[b+ve]=ee[ve]}else d.push(ee)}}class P{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function x(d){u.setTimeout(()=>{throw d},0)}function $(){var d=k;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class U{constructor(){this.h=this.g=null}add(v,b){const N=q.get();N.set(v,b),this.h?this.h.next=N:this.g=N,this.h=N}}var q=new P(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let j,H=!1,k=new U,I=()=>{const d=Promise.resolve(void 0);j=()=>{d.then(C)}};function C(){for(var d;d=$();){try{d.h.call(d.g)}catch(b){x(b)}var v=q;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}H=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var E=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};u.addEventListener("test",b,v),u.removeEventListener("test",b,v)}catch{}return d})();function A(d){return/^[\s\xa0]*$/.test(d)}function G(d,v){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}_(G,D),G.prototype.init=function(d,v){const b=this.type=d.type,N=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(b=="mouseover"?v=d.fromElement:b=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var V="closure_listenable_"+(Math.random()*1e6|0),z=0;function J(d,v,b,N,ee){this.listener=d,this.proxy=null,this.src=v,this.type=b,this.capture=!!N,this.ha=ee,this.key=++z,this.da=this.fa=!1}function ne(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function be(d,v,b){for(const N in d)v.call(b,d[N],N,d)}function B(d,v){for(const b in d)v.call(void 0,d[b],b,d)}function le(d){const v={};for(const b in d)v[b]=d[b];return v}const pe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(d,v){let b,N;for(let ee=1;ee<arguments.length;ee++){N=arguments[ee];for(b in N)d[b]=N[b];for(let ae=0;ae<pe.length;ae++)b=pe[ae],Object.prototype.hasOwnProperty.call(N,b)&&(d[b]=N[b])}}function ye(d){this.src=d,this.g={},this.h=0}ye.prototype.add=function(d,v,b,N,ee){const ae=d.toString();d=this.g[ae],d||(d=this.g[ae]=[],this.h++);const ve=Ce(d,v,N,ee);return ve>-1?(v=d[ve],b||(v.fa=!1)):(v=new J(v,this.src,ae,!!N,ee),v.fa=b,d.push(v)),v};function xe(d,v){const b=v.type;if(b in d.g){var N=d.g[b],ee=Array.prototype.indexOf.call(N,v,void 0),ae;(ae=ee>=0)&&Array.prototype.splice.call(N,ee,1),ae&&(ne(v),d.g[b].length==0&&(delete d.g[b],d.h--))}}function Ce(d,v,b,N){for(let ee=0;ee<d.length;++ee){const ae=d[ee];if(!ae.da&&ae.listener==v&&ae.capture==!!b&&ae.ha==N)return ee}return-1}var tn="closure_lm_"+(Math.random()*1e6|0),Qe={};function yr(d,v,b,N,ee){if(Array.isArray(v)){for(let ae=0;ae<v.length;ae++)yr(d,v[ae],b,N,ee);return null}return b=jl(b),d&&d[V]?d.J(v,b,h(N)?!!N.capture:!1,ee):yo(d,v,b,!1,N,ee)}function yo(d,v,b,N,ee,ae){if(!v)throw Error("Invalid event type");const ve=h(ee)?!!ee.capture:!!ee;let Me=_o(d);if(Me||(d[tn]=Me=new ye(d)),b=Me.add(v,b,N,ve,ae),b.proxy)return b;if(N=is(),b.proxy=N,N.src=d,N.listener=b,d.addEventListener)E||(ee=ve),ee===void 0&&(ee=!1),d.addEventListener(v.toString(),N,ee);else if(d.attachEvent)d.attachEvent(vi(v.toString()),N);else if(d.addListener&&d.removeListener)d.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return b}function is(){function d(b){return v.call(d.src,d.listener,b)}const v=eh;return d}function Mr(d,v,b,N,ee){if(Array.isArray(v))for(var ae=0;ae<v.length;ae++)Mr(d,v[ae],b,N,ee);else N=h(N)?!!N.capture:!!N,b=jl(b),d&&d[V]?(d=d.i,ae=String(v).toString(),ae in d.g&&(v=d.g[ae],b=Ce(v,b,N,ee),b>-1&&(ne(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete d.g[ae],d.h--)))):d&&(d=_o(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Ce(v,b,N,ee)),(b=d>-1?v[d]:null)&&Ln(b))}function Ln(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[V])xe(v.i,d);else{var b=d.type,N=d.proxy;v.removeEventListener?v.removeEventListener(b,N,d.capture):v.detachEvent?v.detachEvent(vi(b),N):v.addListener&&v.removeListener&&v.removeListener(N),(b=_o(v))?(xe(b,d),b.h==0&&(b.src=null,v[tn]=null)):ne(d)}}}function vi(d){return d in Qe?Qe[d]:Qe[d]="on"+d}function eh(d,v){if(d.da)d=!0;else{v=new G(v,this);const b=d.listener,N=d.ha||d.src;d.fa&&Ln(d),d=b.call(N,v)}return d}function _o(d){return d=d[tn],d instanceof ye?d:null}var Un="__closure_events_fn_"+(Math.random()*1e9>>>0);function jl(d){return typeof d=="function"?d:(d[Un]||(d[Un]=function(v){return d.handleEvent(v)}),d[Un])}function jt(){L.call(this),this.i=new ye(this),this.M=this,this.G=null}_(jt,L),jt.prototype[V]=!0,jt.prototype.removeEventListener=function(d,v,b,N){Mr(this,d,v,b,N)};function Ht(d,v){var b,N=d.G;if(N)for(b=[];N;N=N.G)b.push(N);if(d=d.M,N=v.type||v,typeof v=="string")v=new D(v,d);else if(v instanceof D)v.target=v.target||d;else{var ee=v;v=new D(N,d),_e(v,ee)}ee=!0;let ae,ve;if(b)for(ve=b.length-1;ve>=0;ve--)ae=v.g=b[ve],ee=$e(ae,N,!0,v)&&ee;if(ae=v.g=d,ee=$e(ae,N,!0,v)&&ee,ee=$e(ae,N,!1,v)&&ee,b)for(ve=0;ve<b.length;ve++)ae=v.g=b[ve],ee=$e(ae,N,!1,v)&&ee}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const b=d.g[v];for(let N=0;N<b.length;N++)ne(b[N]);delete d.g[v],d.h--}}this.G=null},jt.prototype.J=function(d,v,b,N){return this.i.add(String(d),v,!1,b,N)},jt.prototype.K=function(d,v,b,N){return this.i.add(String(d),v,!0,b,N)};function $e(d,v,b,N){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let ee=!0;for(let ae=0;ae<v.length;++ae){const ve=v[ae];if(ve&&!ve.da&&ve.capture==b){const Me=ve.listener,wt=ve.ha||ve.src;ve.fa&&xe(d.i,ve),ee=Me.call(wt,N)!==!1&&ee}}return ee&&!N.defaultPrevented}function pt(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Cn(d){d.g=pt(()=>{d.g=null,d.i&&(d.i=!1,Cn(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Ws extends L{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Cn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(d){L.call(this),this.h=d,this.g={}}_(ar,L);var Qn=[];function gt(d){be(d.g,function(v,b){this.g.hasOwnProperty(b)&&Ln(v)},d),d.g={}}ar.prototype.N=function(){ar.Z.N.call(this),gt(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nn=u.JSON.stringify,mn=u.JSON.parse,i_=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function lm(){}function um(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qs(){D.call(this,"d")}_(Qs,D);function Zr(){D.call(this,"c")}_(Zr,D);var Vr={},Ys=null;function Hl(){return Ys=Ys||new jt}Vr.Ia="serverreachability";function th(d){D.call(this,Vr.Ia,d)}_(th,D);function Xs(d){const v=Hl();Ht(v,new th(v))}Vr.STAT_EVENT="statevent";function $l(d,v){D.call(this,Vr.STAT_EVENT,d),this.stat=v}_($l,D);function $t(d){const v=Hl();Ht(v,new $l(v,d))}Vr.Ja="timingevent";function cm(d,v){D.call(this,Vr.Ja,d),this.size=v}_(cm,D);function Js(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function Zs(){this.g=!0}Zs.prototype.ua=function(){this.g=!1};function nh(d,v,b,N,ee,ae){d.info(function(){if(d.g)if(ae){var ve="",Me=ae.split("&");for(let nt=0;nt<Me.length;nt++){var wt=Me[nt].split("=");if(wt.length>1){const Wt=wt[0];wt=wt[1];const _r=Wt.split("_");ve=_r.length>=2&&_r[1]=="type"?ve+(Wt+"="+wt+"&"):ve+(Wt+"=redacted&")}}}else ve=null;else ve=ae;return"XMLHTTP REQ ("+N+") [attempt "+ee+"]: "+v+`
`+b+`
`+ve})}function rh(d,v,b,N,ee,ae,ve){d.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+ee+"]: "+v+`
`+b+`
`+ae+" "+ve})}function ss(d,v,b,N){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+wi(d,b)+(N?" "+N:"")})}function s_(d,v){d.info(function(){return"TIMEOUT: "+v})}Zs.prototype.info=function(){};function wi(d,v){if(!d.g)return v;if(!v)return null;try{const ae=JSON.parse(v);if(ae){for(d=0;d<ae.length;d++)if(Array.isArray(ae[d])){var b=ae[d];if(!(b.length<2)){var N=b[1];if(Array.isArray(N)&&!(N.length<1)){var ee=N[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(let ve=1;ve<N.length;ve++)N[ve]=""}}}}return nn(ae)}catch{return v}}var Gt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},as;function vo(){}_(vo,lm),vo.prototype.g=function(){return new XMLHttpRequest},as=new vo;function Eo(d){return encodeURIComponent(String(d))}function a_(d){var v=1;d=d.split(":");const b=[];for(;v>0&&d.length;)b.push(d.shift()),v--;return d.length&&b.push(d.join(":")),b}function ei(d,v,b,N){this.j=d,this.i=v,this.l=b,this.S=N||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ea}function ea(){this.i=null,this.g="",this.h=!1}var Gl={},bi={};function Ti(d,v,b){d.M=1,d.A=ls(Dt(v)),d.u=b,d.R=!0,ta(d,null)}function ta(d,v){d.F=Date.now(),wo(d),d.B=Dt(d.A);var b=d.B,N=d.S;Array.isArray(N)||(N=[String(N)]),mm(b.i,"t",N),d.C=0,b=d.j.L,d.h=new ea,d.g=nu(d.j,b?v:null,!d.u),d.P>0&&(d.O=new Ws(m(d.Y,d,d.g),d.P)),v=d.V,b=d.g,N=d.ba;var ee="readystatechange";Array.isArray(ee)||(ee&&(Qn[0]=ee.toString()),ee=Qn);for(let ae=0;ae<ee.length;ae++){const ve=yr(b,ee[ae],N||v.handleEvent,!1,v.h||v);if(!ve)break;v.g[ve.key]=ve}v=d.J?le(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Xs(),nh(d.i,d.v,d.B,d.l,d.S,d.u)}ei.prototype.ba=function(d){d=d.target;const v=this.O;v&&Bn(d)==3?v.j():this.Y(d)},ei.prototype.Y=function(d){try{if(d==this.g)e:{const Me=Bn(this.g),wt=this.g.ya(),nt=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||xo(this.g)))){this.K||Me!=4||wt==7||(wt==8||nt<=0?Xs(3):Xs(2)),Ai(this);var v=this.g.ca();this.X=v;var b=na(this);if(this.o=v==200,rh(this.i,this.v,this.B,this.l,this.S,Me,v),this.o){if(this.U&&!this.L){t:{if(this.g){var N,ee=this.g;if((N=ee.g?ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(N)){var ae=N;break t}}ae=null}if(d=ae)ss(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Kl(this,d);else{this.o=!1,this.m=3,$t(12),Ii(this),bo(this);break e}}if(this.R){d=!0;let Wt;for(;!this.K&&this.C<b.length;)if(Wt=hm(this,b),Wt==bi){Me==4&&(this.m=4,$t(14),d=!1),ss(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==Gl){this.m=4,$t(15),ss(this.i,this.l,b,"[Invalid Chunk]"),d=!1;break}else ss(this.i,this.l,Wt,null),Kl(this,Wt);if(Kt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||b.length!=0||this.h.h||(this.m=1,$t(16),d=!1),this.o=this.o&&d,!d)ss(this.i,this.l,b,"[Invalid Chunked Response]"),Ii(this),bo(this);else if(b.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),dh(ve),ve.P=!0,$t(11))}}else ss(this.i,this.l,b,null),Kl(this,b);Me==4&&Ii(this),this.o&&!this.K&&(Me==4?mh(this.j,this):(this.o=!1,wo(this)))}else No(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,$t(12)):(this.m=0,$t(13)),Ii(this),bo(this)}}}catch{}finally{}};function na(d){if(!Kt(d))return d.g.la();const v=xo(d.g);if(v==="")return"";let b="";const N=v.length,ee=Bn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ii(d),bo(d),"";d.h.i=new u.TextDecoder}for(let ae=0;ae<N;ae++)d.h.h=!0,b+=d.h.i.decode(v[ae],{stream:!(ee&&ae==N-1)});return v.length=0,d.h.g+=b,d.C=0,d.h.g}function Kt(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function hm(d,v){var b=d.C,N=v.indexOf(`
`,b);return N==-1?bi:(b=Number(v.substring(b,N)),isNaN(b)?Gl:(N+=1,N+b>v.length?bi:(v=v.slice(N,N+b),d.C=N+b,v)))}ei.prototype.cancel=function(){this.K=!0,Ii(this)};function wo(d){d.T=Date.now()+d.H,Si(d,d.H)}function Si(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Js(m(d.aa,d),v)}function Ai(d){d.D&&(u.clearTimeout(d.D),d.D=null)}ei.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(s_(this.i,this.B),this.M!=2&&(Xs(),$t(17)),Ii(this),this.m=2,bo(this)):Si(this,this.T-d)};function bo(d){d.j.I==0||d.K||mh(d.j,d)}function Ii(d){Ai(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,gt(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Kl(d,v){try{var b=d.j;if(b.I!=0&&(b.g==d||Ao(b.h,d))){if(!d.L&&Ao(b.h,d)&&b.I==3){try{var N=b.Ba.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var ee=N;if(ee[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<d.F)tu(b),Ri(b);else break e;fh(b),$t(18)}}else b.xa=ee[1],0<b.xa-b.K&&ee[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Js(m(b.Va,b),6e3));Lr(b.h)<=1&&b.ta&&(b.ta=void 0)}else hs(b,11)}else if((d.L||b.g==d)&&tu(b),!A(v))for(ee=b.Ba.g.parse(v),v=0;v<ee.length;v++){let nt=ee[v];const Wt=nt[0];if(!(Wt<=b.K))if(b.K=Wt,nt=nt[1],b.I==2)if(nt[0]=="c"){b.M=nt[1],b.ba=nt[2];const _r=nt[3];_r!=null&&(b.ka=_r,b.j.info("VER="+b.ka));const Ci=nt[4];Ci!=null&&(b.za=Ci,b.j.info("SVER="+b.za));const ri=nt[5];ri!=null&&typeof ri=="number"&&ri>0&&(N=1.5*ri,b.O=N,b.j.info("backChannelRequestTimeoutMs_="+N)),N=b;const ii=d.g;if(ii){const si=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var ae=N.h;ae.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(ae.j=ae.l,ae.g=new Set,ae.h&&(Wl(ae,ae.h),ae.h=null))}if(N.G){const gh=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;gh&&(N.wa=gh,ut(N.J,N.G,gh))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-d.F,b.j.info("Handshake RTT: "+b.T+"ms")),N=b;var ve=d;if(N.na=Tm(N,N.L?N.ba:null,N.W),ve.L){os(N.h,ve);var Me=ve,wt=N.O;wt&&(Me.H=wt),Me.D&&(Ai(Me),wo(Me)),N.g=ve}else vm(N);b.i.length>0&&Lo(b)}else nt[0]!="stop"&&nt[0]!="close"||hs(b,7);else b.I==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?hs(b,7):Mo(b):nt[0]!="noop"&&b.l&&b.l.qa(nt),b.A=0)}}Xs(4)}catch{}}var o_=class{constructor(d,v){this.g=d,this.map=v}};function To(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Lr(d){return d.h?1:d.g?d.g.size:0}function Ao(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function Wl(d,v){d.g?d.g.add(v):d.h=v}function os(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}To.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Ql(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const b of d.g.values())v=v.concat(b.G);return v}return R(d.i)}var Yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function l_(d,v){if(d){d=d.split("&");for(let b=0;b<d.length;b++){const N=d[b].indexOf("=");let ee,ae=null;N>=0?(ee=d[b].substring(0,N),ae=d[b].substring(N+1)):ee=d[b],v(ee,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function ti(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof ti?(this.l=d.l,ra(this,d.j),this.o=d.o,this.g=d.g,Io(this,d.u),this.h=d.h,ia(this,pm(d.i)),this.m=d.m):d&&(v=String(d).match(Yl))?(this.l=!1,ra(this,v[1]||"",!0),this.o=Ro(v[2]||""),this.g=Ro(v[3]||"",!0),Io(this,v[4]),this.h=Ro(v[5]||"",!0),ia(this,v[6]||"",!0),this.m=Ro(v[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}ti.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(En(v,sh,!0),":");var b=this.g;return(b||v=="file")&&(d.push("//"),(v=this.o)&&d.push(En(v,sh,!0),"@"),d.push(Eo(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&d.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(En(b,b.charAt(0)=="/"?sa:ah,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",En(b,dm)),d.join("")},ti.prototype.resolve=function(d){const v=Dt(this);let b=!!d.j;b?ra(v,d.j):b=!!d.o,b?v.o=d.o:b=!!d.g,b?v.g=d.g:b=d.u!=null;var N=d.h;if(b)Io(v,d.u);else if(b=!!d.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var ee=v.h.lastIndexOf("/");ee!=-1&&(N=v.h.slice(0,ee+1)+N)}if(ee=N,ee==".."||ee==".")N="";else if(ee.indexOf("./")!=-1||ee.indexOf("/.")!=-1){N=ee.lastIndexOf("/",0)==0,ee=ee.split("/");const ae=[];for(let ve=0;ve<ee.length;){const Me=ee[ve++];Me=="."?N&&ve==ee.length&&ae.push(""):Me==".."?((ae.length>1||ae.length==1&&ae[0]!="")&&ae.pop(),N&&ve==ee.length&&ae.push("")):(ae.push(Me),N=!0)}N=ae.join("/")}else N=ee}return b?v.h=N:b=d.i.toString()!=="",b?ia(v,pm(d.i)):b=!!d.m,b&&(v.m=d.m),v};function Dt(d){return new ti(d)}function ra(d,v,b){d.j=b?Ro(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Io(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function ia(d,v,b){v instanceof Ur?(d.i=v,uh(d.i,d.l)):(b||(v=En(v,fm)),d.i=new Ur(v,d.l))}function ut(d,v,b){d.i.set(v,b)}function ls(d){return ut(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Ro(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function En(d,v,b){return typeof d=="string"?(d=encodeURI(d).replace(v,ih),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function ih(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var sh=/[#\/\?@]/g,ah=/[#\?:]/g,sa=/[#\?]/g,fm=/[#\?@]/g,dm=/#/g;function Ur(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function us(d){d.g||(d.g=new Map,d.h=0,d.i&&l_(d.i,function(v,b){d.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Ur.prototype,n.add=function(d,v){us(this),this.i=null,d=ni(this,d);let b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(v),this.h+=1,this};function oh(d,v){us(d),v=ni(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function lh(d,v){return us(d),v=ni(d,v),d.g.has(v)}n.forEach=function(d,v){us(this),this.g.forEach(function(b,N){b.forEach(function(ee){d.call(v,ee,N,this)},this)},this)};function Xl(d,v){us(d);let b=[];if(typeof v=="string")lh(d,v)&&(b=b.concat(d.g.get(ni(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)b=b.concat(d[v]);return b}n.set=function(d,v){return us(this),this.i=null,d=ni(this,d),lh(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=Xl(this,d),d.length>0?String(d[0]):v):v};function mm(d,v,b){oh(d,v),b.length>0&&(d.i=null,d.g.set(ni(d,v),R(b)),d.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let N=0;N<v.length;N++){var b=v[N];const ee=Eo(b);b=Xl(this,b);for(let ae=0;ae<b.length;ae++){let ve=ee;b[ae]!==""&&(ve+="="+Eo(b[ae])),d.push(ve)}}return this.i=d.join("&")};function pm(d){const v=new Ur;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function ni(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function uh(d,v){v&&!d.j&&(us(d),d.i=null,d.g.forEach(function(b,N){const ee=N.toLowerCase();N!=ee&&(oh(this,N),mm(this,ee,b))},d)),d.j=v}function ch(d,v){const b=new Zs;if(u.Image){const N=new Image;N.onload=y(Yn,b,"TestLoadImage: loaded",!0,v,N),N.onerror=y(Yn,b,"TestLoadImage: error",!1,v,N),N.onabort=y(Yn,b,"TestLoadImage: abort",!1,v,N),N.ontimeout=y(Yn,b,"TestLoadImage: timeout",!1,v,N),u.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=d}else v(!1)}function aa(d,v){const b=new Zs,N=new AbortController,ee=setTimeout(()=>{N.abort(),Yn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:N.signal}).then(ae=>{clearTimeout(ee),ae.ok?Yn(b,"TestPingServer: ok",!0,v):Yn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(ee),Yn(b,"TestPingServer: error",!1,v)})}function Yn(d,v,b,N,ee){try{ee&&(ee.onload=null,ee.onerror=null,ee.onabort=null,ee.ontimeout=null),N(b)}catch{}}function gm(){this.g=new i_}function Co(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Co,lm),Co.prototype.g=function(){return new Po(this.i,this.h)};function Po(d,v){jt.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Po,jt),n=Po.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,cs(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?Xn(this):cs(this),this.readyState==3&&oa(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Xn(this))},n.Na=function(d){this.g&&(this.response=d,Xn(this))},n.ga=function(){this.g&&Xn(this)};function Xn(d){d.readyState=4,d.l=null,d.j=null,d.B=null,cs(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=v.next();return d.join(`\r
`)};function cs(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function la(d){let v="";return be(d,function(b,N){v+=N,v+=":",v+=b,v+=`\r
`}),v}function Br(d,v,b){e:{for(N in b){var N=!1;break e}N=!0}N||(b=la(b),typeof d=="string"?b!=null&&Eo(b):ut(d,v,b))}function yt(d){jt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(yt,jt);var Jl=/^https?$/i,ym=["POST","PUT"];n=yt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,b,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():as.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(ae){Oo(this,ae);return}if(d=b||"",b=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var ee in N)b.set(ee,N[ee]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ae of N.keys())b.set(ae,N.get(ae));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(b.keys()).find(ae=>ae.toLowerCase()=="content-type"),ee=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(ym,v,void 0)>=0)||N||ee||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ae,ve]of b)this.g.setRequestHeader(ae,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ae){Oo(this,ae)}};function Oo(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,Do(d),pn(d)}function Do(d){d.A||(d.A=!0,Ht(d,"complete"),Ht(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,Ht(this,"complete"),Ht(this,"abort"),pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pn(this,!0)),yt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?hh(this):this.Xa())},n.Xa=function(){hh(this)};function hh(d){if(d.h&&typeof o<"u"){if(d.v&&Bn(d)==4)setTimeout(d.Ca.bind(d),0);else if(Ht(d,"readystatechange"),Bn(d)==4){d.h=!1;try{const ae=d.ca();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var N;if(N=ae===0){let ve=String(d.D).match(Yl)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),N=!Jl.test(ve?ve.toLowerCase():"")}b=N}if(b)Ht(d,"complete"),Ht(d,"success");else{d.o=6;try{var ee=Bn(d)>2?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.ca()+"]",Do(d)}}finally{pn(d)}}}}function pn(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const b=d.g;d.g=null,v||Ht(d,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Bn(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Bn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),mn(v)}};function xo(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function No(d){const v={};d=(d.g&&Bn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<d.length;N++){if(A(d[N]))continue;var b=a_(d[N]);const ee=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const ae=v[ee]||[];v[ee]=ae,ae.push(b)}B(v,function(N){return N.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(d,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||v}function Zl(d){this.za=0,this.i=[],this.j=new Zs,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ko("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ko("baseRetryDelayMs",5e3,d),this.Za=ko("retryDelaySeedMs",1e4,d),this.Ta=ko("forwardChannelMaxRetries",2,d),this.va=ko("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new To(d&&d.concurrentRequestLimit),this.Ba=new gm,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Zl.prototype,n.ka=8,n.I=1,n.connect=function(d,v,b,N){$t(0),this.W=d,this.H=v||{},b&&N!==void 0&&(this.H.OSID=b,this.H.OAID=N),this.F=this.X,this.J=Tm(this,null,this.W),Lo(this)};function Mo(d){if(Vo(d),d.I==3){var v=d.V++,b=Dt(d.J);if(ut(b,"SID",d.M),ut(b,"RID",v),ut(b,"TYPE","terminate"),Uo(d,b),v=new ei(d,d.j,v),v.M=2,v.A=ls(Dt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=v.A,b=!0),b||(v.g=nu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),wo(v)}bm(d)}function Ri(d){d.g&&(dh(d),d.g.cancel(),d.g=null)}function Vo(d){Ri(d),d.v&&(u.clearTimeout(d.v),d.v=null),tu(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Lo(d){if(!So(d.h)&&!d.m){d.m=!0;var v=d.Ea;j||I(),H||(j(),H=!0),k.add(v,d),d.D=0}}function u_(d,v){return Lr(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Js(m(d.Ea,d,v),wm(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const ee=new ei(this,this.j,d);let ae=this.o;if(this.U&&(ae?(ae=le(ae),_e(ae,this.U)):ae=this.U),this.u!==null||this.R||(ee.J=ae,ae=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var N=this.i[b];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=eu(this,ee,v),b=Dt(this.J),ut(b,"RID",d),ut(b,"CVER",22),this.G&&ut(b,"X-HTTP-Session-Id",this.G),Uo(this,b),ae&&(this.R?v="headers="+Eo(la(ae))+"&"+v:this.u&&Br(b,this.u,ae)),Wl(this.h,ee),this.Ra&&ut(b,"TYPE","init"),this.S?(ut(b,"$req",v),ut(b,"SID","null"),ee.U=!0,Ti(ee,b,null)):Ti(ee,b,v),this.I=2}}else this.I==3&&(d?_m(this,d):this.i.length==0||So(this.h)||_m(this))};function _m(d,v){var b;v?b=v.l:b=d.V++;const N=Dt(d.J);ut(N,"SID",d.M),ut(N,"RID",b),ut(N,"AID",d.K),Uo(d,N),d.u&&d.o&&Br(N,d.u,d.o),b=new ei(d,d.j,b,d.D+1),d.u===null&&(b.J=d.o),v&&(d.i=v.G.concat(d.i)),v=eu(d,b,1e3),b.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Wl(d.h,b),Ti(b,N,v)}function Uo(d,v){d.H&&be(d.H,function(b,N){ut(v,N,b)}),d.l&&be({},function(b,N){ut(v,N,b)})}function eu(d,v,b){b=Math.min(d.i.length,b);const N=d.l?m(d.l.Ka,d.l,d):null;e:{var ee=d.i;let Me=-1;for(;;){const wt=["count="+b];Me==-1?b>0?(Me=ee[0].g,wt.push("ofs="+Me)):Me=0:wt.push("ofs="+Me);let nt=!0;for(let Wt=0;Wt<b;Wt++){var ae=ee[Wt].g;const _r=ee[Wt].map;if(ae-=Me,ae<0)Me=Math.max(0,ee[Wt].g-100),nt=!1;else try{ae="req"+ae+"_"||"";try{var ve=_r instanceof Map?_r:Object.entries(_r);for(const[Ci,ri]of ve){let ii=ri;h(ri)&&(ii=nn(ri)),wt.push(ae+Ci+"="+encodeURIComponent(ii))}}catch(Ci){throw wt.push(ae+"type="+encodeURIComponent("_badmap")),Ci}}catch{N&&N(_r)}}if(nt){ve=wt.join("&");break e}}ve=void 0}return d=d.i.splice(0,b),v.G=d,ve}function vm(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;j||I(),H||(j(),H=!0),k.add(v,d),d.A=0}}function fh(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Js(m(d.Da,d),wm(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Em(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Js(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,$t(10),Ri(this),Em(this))};function dh(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function Em(d){d.g=new ei(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Dt(d.na);ut(v,"RID","rpc"),ut(v,"SID",d.M),ut(v,"AID",d.K),ut(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&ut(v,"TO",d.ia),ut(v,"TYPE","xmlhttp"),Uo(d,v),d.u&&d.o&&Br(v,d.u,d.o),d.O&&(d.g.H=d.O);var b=d.g;d=d.ba,b.M=1,b.A=ls(Dt(v)),b.u=null,b.R=!0,ta(b,d)}n.Va=function(){this.C!=null&&(this.C=null,Ri(this),fh(this),$t(19))};function tu(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function mh(d,v){var b=null;if(d.g==v){tu(d),dh(d),d.g=null;var N=2}else if(Ao(d.h,v))b=v.G,os(d.h,v),N=1;else return;if(d.I!=0){if(v.o)if(N==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var ee=d.D;N=Hl(),Ht(N,new cm(N,b)),Lo(d)}else vm(d);else if(ee=v.m,ee==3||ee==0&&v.X>0||!(N==1&&u_(d,v)||N==2&&fh(d)))switch(b&&b.length>0&&(v=d.h,v.i=v.i.concat(b)),ee){case 1:hs(d,5);break;case 4:hs(d,10);break;case 3:hs(d,6);break;default:hs(d,2)}}}function wm(d,v){let b=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(b*=2),b*v}function hs(d,v){if(d.j.info("Error code "+v),v==2){var b=m(d.bb,d),N=d.Ua;const ee=!N;N=new ti(N||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ra(N,"https"),ls(N),ee?ch(N.toString(),b):aa(N.toString(),b)}else $t(2);d.I=0,d.l&&d.l.pa(v),bm(d),Vo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function bm(d){if(d.I=0,d.ja=[],d.l){const v=Ql(d.h);(v.length!=0||d.i.length!=0)&&(S(d.ja,v),S(d.ja,d.i),d.h.i.length=0,R(d.i),d.i.length=0),d.l.oa()}}function Tm(d,v,b){var N=b instanceof ti?Dt(b):new ti(b);if(N.g!="")v&&(N.g=v+"."+N.g),Io(N,N.u);else{var ee=u.location;N=ee.protocol,v=v?v+"."+ee.hostname:ee.hostname,ee=+ee.port;const ae=new ti(null);N&&ra(ae,N),v&&(ae.g=v),ee&&Io(ae,ee),b&&(ae.h=b),N=ae}return b=d.G,v=d.wa,b&&v&&ut(N,b,v),ut(N,"VER",d.ka),Uo(d,N),N}function nu(d,v,b){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new yt(new Co({ab:b})):new yt(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sm(){}n=Sm.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ru(){}ru.prototype.g=function(d,v){return new Jn(d,v)};function Jn(d,v){jt.call(this),this.g=new Zl(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!A(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!A(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new ua(this)}_(Jn,jt),Jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){Mo(this.g)},Jn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.v&&(b={},b.__data__=nn(d),d=b);v.i.push(new o_(v.Ya++,d)),v.I==3&&Lo(v)},Jn.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,Jn.Z.N.call(this)};function ph(d){Qs.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const b in v){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}_(ph,Qs);function Am(){Zr.call(this),this.status=1}_(Am,Zr);function ua(d){this.g=d}_(ua,Sm),ua.prototype.ra=function(){Ht(this.g,"a")},ua.prototype.qa=function(d){Ht(this.g,new ph(d))},ua.prototype.pa=function(d){Ht(this.g,new Am)},ua.prototype.oa=function(){Ht(this.g,"b")},ru.prototype.createWebChannel=ru.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,YO=function(){return new ru},QO=function(){return Hl()},WO=Vr,XE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gt.NO_ERROR=0,Gt.TIMEOUT=8,Gt.HTTP_ERROR=6,Wp=Gt,Pn.COMPLETE="complete",KO=Pn,um.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",jt.prototype.listen=jt.prototype.J,xf=um,yt.prototype.listenOnce=yt.prototype.K,yt.prototype.getLastError=yt.prototype.Ha,yt.prototype.getLastErrorCode=yt.prototype.ya,yt.prototype.getStatus=yt.prototype.ca,yt.prototype.getResponseJson=yt.prototype.La,yt.prototype.getResponseText=yt.prototype.la,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Fa,GO=yt}).apply(typeof Cp<"u"?Cp:typeof self<"u"?self:typeof window<"u"?window:{});const uR="@firebase/firestore",cR="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let An=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};An.UNAUTHENTICATED=new An(null),An.GOOGLE_CREDENTIALS=new An("google-credentials-uid"),An.FIRST_PARTY=new An("first-party-uid"),An.MOCK_USER=new An("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Zg("@firebase/firestore");function Hu(){return Xa.logLevel}function W6(n){Xa.setLogLevel(n)}function me(n,...e){if(Xa.logLevel<=je.DEBUG){const t=e.map(Cb);Xa.debug(`Firestore (${zc}): ${n}`,...t)}}function Xt(n,...e){if(Xa.logLevel<=je.ERROR){const t=e.map(Cb);Xa.error(`Firestore (${zc}): ${n}`,...t)}}function es(n,...e){if(Xa.logLevel<=je.WARN){const t=e.map(Cb);Xa.warn(`Firestore (${zc}): ${n}`,...t)}}function Cb(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,XO(n,r,t)}function XO(n,e,t){let r=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Xt(r),new Error(r)}function Ae(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||XO(e,s,r)}function Q6(n,e){n||Te(57014,e)}function we(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(An.UNAUTHENTICATED)))}shutdown(){}}class X6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class J6{constructor(e){this.t=e,this.currentUser=An.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},h=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string",31837,{l:r}),new JO(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string",2055,{h:e}),new An(e)}}class Z6{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=An.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e9{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Z6(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(An.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t9{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0,3512);const r=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ae(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hR(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=n9(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function JE(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return yE(s)===yE(o)?ke(s,o):yE(s)?1:-1}return ke(n.length,e.length)}const r9=55296,i9=57343;function yE(n){const e=n.charCodeAt(0);return e>=r9&&e<=i9}function cc(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}function ZO(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="__name__";class Vi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Te(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Vi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return ke(e.length,t.length)}static compareSegments(e,t){const r=Vi.isNumericId(e),s=Vi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Vi.extractNumericId(e).compare(Vi.extractNumericId(t)):JE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ja.fromString(e.substring(4,e.length-2))}}class He extends Vi{construct(e,t,r){return new He(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new He(t)}static emptyPath(){return new He([])}}const s9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Vi{construct(e,t,r){return new Ct(e,t,r)}static isValidIdentifier(e){return s9.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fR}static keyField(){return new Ct([fR])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new de(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(r+=h,s++):(o(),s++)}if(o(),u)throw new de(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(t)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(He.fromString(e))}static fromName(e){return new Ee(He.fromString(e).popFirst(5))}static empty(){return new Ee(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return He.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(n,e,t){if(!t)throw new de(se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eD(n,e,t,r){if(e===!0&&r===!0)throw new de(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function dR(n){if(!Ee.isDocumentKey(n))throw new de(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function mR(n){if(Ee.isDocumentKey(n))throw new de(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function fy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function Xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fy(n);throw new de(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nD(n,e){if(e<=0)throw new de(se.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Bd(n,e){if(!tD(n))throw new de(se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new de(se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=-62135596800,gR=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gR);return new tt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<pR)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gR}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bd(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:hn("string",tt._jsonSchemaVersion),seconds:hn("number"),nanoseconds:hn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new tt(0,0))}static max(){return new Ie(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;class Ig{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function ZE(n){return n.fields.find((e=>e.kind===2))}function il(n){return n.fields.filter((e=>e.kind!==2))}Ig.UNKNOWN_ID=-1;class Qp{constructor(e,t){this.fieldPath=e,this.kind=t}}class ud{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ud(0,kr.min())}}function rD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ie.fromTimestamp(r===1e9?new tt(t+1,0):new tt(t,r));return new kr(s,Ee.empty(),e)}function iD(n){return new kr(n.readTime,n.key,hc)}class kr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new kr(Ie.min(),Ee.empty(),hc)}static max(){return new kr(Ie.max(),Ee.empty(),hc)}}function Db(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(n){if(n.code!==se.FAILED_PRECONDITION||n.message!==sD)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,r)=>{t(e)}))}static reject(e){return new X(((t,r)=>{r(e)}))}static waitFor(e){return new X(((t,r)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next((s=>s?X.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new X(((r,s)=>{const o=e.length,u=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;t(e[m]).next((y=>{u[m]=y,++h,h===o&&r(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new X(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="SimpleDb";class dy{static open(e,t,r,s){try{return new dy(t,e.transaction(s,r))}catch(o){throw new Hf(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Vn,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Hf(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const s=xb(r.target.error);this.S.reject(new Hf(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(me(Rr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new o9(t)}}class Ki{static delete(e){return me(Rr,"Removing database:",e),ol(rb().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!rd())return!1;if(Ki.F())return!0;const e=kt(),t=Ki.M(e),r=0<t&&t<10,s=oD(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Ki.M(kt())===12.2&&Xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(me(Rr,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{r(new Hf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Hf(e,u))},s.onupgradeneeded=o=>{me(Rr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{me(Rr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=dy.open(this.db,e,o?"readonly":"readwrite",r),f=s(h).next((m=>(h.C(),m))).catch((m=>(h.abort(m),X.reject(m)))).toPromise();return f.catch((()=>{})),await h.D,f}catch(h){const f=h,m=f.name!=="FirebaseError"&&u<3;if(me(Rr,"Transaction failed with error:",f.message,"Retrying:",m),this.close(),!m)return Promise.reject(f)}}}close(){this.db&&this.db.close(),this.db=void 0}}function oD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class a9{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return ol(this.U.delete())}}class Hf extends de{constructor(e,t){super(se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fo(n){return n.name==="IndexedDbTransactionError"}class o9{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(me(Rr,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(me(Rr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ol(r)}add(e){return me(Rr,"ADD",this.store.name,e,e),ol(this.store.add(e))}get(e){return ol(this.store.get(e)).next((t=>(t===void 0&&(t=null),me(Rr,"GET",this.store.name,e,t),t)))}delete(e){return me(Rr,"DELETE",this.store.name,e),ol(this.store.delete(e))}count(){return me(Rr,"COUNT",this.store.name),ol(this.store.count())}J(e,t){const r=this.options(e,t),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(r.range);return new X(((u,h)=>{o.onerror=f=>{h(f.target.error)},o.onsuccess=f=>{u(f.target.result)}}))}{const o=this.cursor(r),u=[];return this.H(o,((h,f)=>{u.push(f)})).next((()=>u))}}Y(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X(((s,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{s(u.target.result)}}))}Z(e,t){me(Rr,"DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const s=this.cursor(r);return this.H(s,((o,u,h)=>h.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.H(s,t)}te(e){const t=this.cursor({});return new X(((r,s)=>{t.onerror=o=>{const u=xb(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():r()})):r()}}))}H(e,t){const r=[];return new X(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const f=new a9(h),m=t(h.primaryKey,h.value,f);if(m instanceof X){const y=m.catch((_=>(f.done(),X.reject(_))));r.push(y)}f.isDone?s():f.G===null?h.continue():h.continue(f.G)}})).next((()=>X.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ol(n){return new X(((e,t)=>{n.onsuccess=r=>{const s=r.target.result;e(s)},n.onerror=r=>{const s=xb(r.target.error);t(s)}}))}let yR=!1;function xb(n){const e=Ki.M(kt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yR||(yR=!0,setTimeout((()=>{throw r}),0)),r}}return n}const $f="IndexBackfiller";class l9{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){me($f,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();me($f,`Documents written: ${t}`)}catch(t){fo(t)?me($f,"Ignoring IndexedDB error during index backfill: ",t):await ho(t)}await this.re(6e4)}))}}class u9{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let s=t,o=!0;return X.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!r.has(u))return me($f,`Processing collection: ${u}`),this.oe(e,u,s).next((h=>{s-=h,r.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((h=>(me($f,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((s,o)=>{const u=iD(o);Db(u,r)>0&&(r=u)})),new kr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha=-1;function Fd(n){return n==null}function cd(n){return n===0&&1/n==-1/0}function lD(n){return typeof n=="number"&&Number.isInteger(n)&&!cd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="";function Kn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_R(e)),e=c9(n.get(t),e);return _R(e)}function c9(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Rg:t+="";break;default:t+=o}}return t}function _R(n){return n+Rg+""}function $i(n){const e=n.length;if(Ae(e>=2,64408,{path:n}),e===2)return Ae(n.charAt(0)===Rg&&n.charAt(1)==="",56145,{path:n}),He.emptyPath();const t=e-2,r=[];let s="";for(let o=0;o<e;){const u=n.indexOf(Rg,o);switch((u<0||u>t)&&Te(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let f;s.length===0?f=h:(s+=h,f=s,s=""),r.push(f);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:Te(61167,{path:n})}o=u+2}return new He(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl="remoteDocuments",zd="owner",Nu="owner",hd="mutationQueues",h9="userId",hi="mutations",vR="batchId",dl="userMutationsIndex",ER=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(n,e){return[n,Kn(e)]}function uD(n,e,t){return[n,Kn(e),t]}const f9={},fc="documentMutations",Cg="remoteDocumentsV14",d9=["prefixPath","collectionGroup","readTime","documentId"],Xp="documentKeyIndex",m9=["prefixPath","collectionGroup","documentId"],cD="collectionGroupIndex",p9=["collectionGroup","readTime","prefixPath","documentId"],fd="remoteDocumentGlobal",ew="remoteDocumentGlobalKey",dc="targets",hD="queryTargetsIndex",g9=["canonicalId","targetId"],mc="targetDocuments",y9=["targetId","path"],Nb="documentTargetsIndex",_9=["path","targetId"],Pg="targetGlobalKey",El="targetGlobal",dd="collectionParents",v9=["collectionId","parent"],pc="clientMetadata",E9="clientId",my="bundles",w9="bundleId",py="namedQueries",b9="name",kb="indexConfiguration",T9="indexId",tw="collectionGroupIndex",S9="collectionGroup",Gf="indexState",A9=["indexId","uid"],fD="sequenceNumberIndex",I9=["uid","sequenceNumber"],Kf="indexEntries",R9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dD="documentKeyIndex",C9=["indexId","uid","orderedDocumentKey"],gy="documentOverlays",P9=["userId","collectionPath","documentId"],nw="collectionPathOverlayIndex",O9=["userId","collectionPath","largestBatchId"],mD="collectionGroupOverlayIndex",D9=["userId","collectionGroup","largestBatchId"],Mb="globals",x9="name",pD=[hd,hi,fc,sl,dc,zd,El,mc,pc,fd,dd,my,py],N9=[...pD,gy],gD=[hd,hi,fc,Cg,dc,zd,El,mc,pc,fd,dd,my,py,gy],yD=gD,Vb=[...yD,kb,Gf,Kf],k9=Vb,_D=[...Vb,Mb],M9=_D;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends aD{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function vn(n,e){const t=we(n);return Ki.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function vD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,t){this.comparator=e,this.root=t||Nn.EMPTY}insert(e,t){return new Et(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pp(this.root,e,this.comparator,!0)}}class Pp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Nn.RED,this.left=s??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Nn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Nn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new bR(this.data.getIterator())}getIteratorFrom(e){return new bR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class bR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ku(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new fr([])}unionWith(e){let t=new lt(Ct.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V9(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new ED("Invalid base64 string: "+o):o}})(e);return new Ft(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const L9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(n){if(Ae(!!n,39018),typeof n=="string"){let e=0;const t=L9.exec(n);if(Ae(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(n.seconds),nanos:It(n.nanos)}}function It(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="server_timestamp",bD="__type__",TD="__previous_value__",SD="__local_write_time__";function yy(n){return(n?.mapValue?.fields||{})[bD]?.stringValue===wD}function _y(n){const e=n.mapValue.fields[TD];return yy(e)?_y(e):e}function md(n){const e=Us(n.mapValue.fields[SD].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(e,t,r,s,o,u,h,f,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const iw="(default)";class Ja{constructor(e,t){this.projectId=e,this.database=t||iw}static empty(){return new Ja("","")}get isDefaultDatabase(){return this.database===iw}isEqual(e){return e instanceof Ja&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="__type__",AD="__max__",Ua={mapValue:{fields:{__type__:{stringValue:AD}}}},Ub="__vector__",gc="value",Jp={nullValue:"NULL_VALUE"};function Za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:ID(n)?9007199254740991:vy(n)?10:11:Te(28295,{value:n})}function ts(n,e){if(n===e)return!0;const t=Za(n);if(t!==Za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return md(n).isEqual(md(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Us(s.timestampValue),h=Us(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Bs(s.bytesValue).isEqual(Bs(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return It(s.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(s.geoPointValue.longitude)===It(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return It(s.integerValue)===It(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=It(s.doubleValue),h=It(o.doubleValue);return u===h?cd(u)===cd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return cc(n.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(wR(u)!==wR(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!ts(u[f],h[f])))return!1;return!0})(n,e);default:return Te(52216,{left:n})}}function pd(n,e){return(n.values||[]).find((t=>ts(t,e)))!==void 0}function eo(n,e){if(n===e)return 0;const t=Za(n),r=Za(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=It(o.integerValue||o.doubleValue),f=It(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,e);case 3:return TR(n.timestampValue,e.timestampValue);case 4:return TR(md(n),md(e));case 5:return JE(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Bs(o),f=Bs(u);return h.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),f=u.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=ke(h[m],f[m]);if(y!==0)return y}return ke(h.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=ke(It(o.latitude),It(u.latitude));return h!==0?h:ke(It(o.longitude),It(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return SR(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const h=o.fields||{},f=u.fields||{},m=h[gc]?.arrayValue,y=f[gc]?.arrayValue,_=ke(m?.values?.length||0,y?.values?.length||0);return _!==0?_:SR(m,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===Ua.mapValue&&u===Ua.mapValue)return 0;if(o===Ua.mapValue)return 1;if(u===Ua.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const w=JE(f[_],y[_]);if(w!==0)return w;const R=eo(h[f[_]],m[y[_]]);if(R!==0)return R}return ke(f.length,y.length)})(n.mapValue,e.mapValue);default:throw Te(23264,{he:t})}}function TR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Us(n),r=Us(e),s=ke(t.seconds,r.seconds);return s!==0?s:ke(t.nanos,r.nanos)}function SR(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=eo(t[s],r[s]);if(o)return o}return ke(t.length,r.length)}function yc(n){return sw(n)}function sw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Us(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Bs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=sw(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${sw(t.fields[u])}`;return s+"}"})(n.mapValue):Te(61005,{value:n})}function Zp(n){switch(Za(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_y(n);return e?16+Zp(e):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+Zp(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return mo(r.fields,((o,u)=>{s+=o.length+Zp(u)})),s})(n.mapValue);default:throw Te(13486,{value:n})}}function Sl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function aw(n){return!!n&&"integerValue"in n}function gd(n){return!!n&&"arrayValue"in n}function AR(n){return!!n&&"nullValue"in n}function IR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function eg(n){return!!n&&"mapValue"in n}function vy(n){return(n?.mapValue?.fields||{})[Lb]?.stringValue===Ub}function Wf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return mo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Wf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wf(n.arrayValue.values[t]);return e}return{...n}}function ID(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AD}const RD={mapValue:{fields:{[Lb]:{stringValue:Ub},[gc]:{arrayValue:{}}}}};function B9(n){return"nullValue"in n?Jp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sl(Ja.empty(),Ee.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?vy(n)?RD:{mapValue:{}}:Te(35942,{value:n})}function F9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sl(Ja.empty(),Ee.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?RD:"mapValue"in n?vy(n)?{mapValue:{}}:Ua:Te(61959,{value:n})}function RR(n,e){const t=eo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function CR(n,e){const t=eo(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!eg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wf(t)}setAll(e){let t=Ct.emptyPath(),r={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=h.popLast()}u?r[h.lastSegment()]=Wf(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());eg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];eg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){mo(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Mn(Wf(this.value))}}function CD(n){const e=[];return mo(n.fields,((t,r)=>{const s=new Ct([t]);if(eg(r)){const o=CD(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t,r,s,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Tt(e,0,Ie.min(),Ie.min(),Ie.min(),Mn.empty(),0)}static newFoundDocument(e,t,r,s){return new Tt(e,1,t,Ie.min(),r,s,0)}static newNoDocument(e,t){return new Tt(e,2,t,Ie.min(),Ie.min(),Mn.empty(),0)}static newUnknownDocument(e,t){return new Tt(e,3,t,Ie.min(),Ie.min(),Mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t){this.position=e,this.inclusive=t}}function PR(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Ee.comparator(Ee.fromName(u.referenceValue),t.key):r=eo(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function OR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ts(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t="asc"){this.field=e,this.dir=t}}function z9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{}class Ge extends PD{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new q9(e,t,r):t==="array-contains"?new $9(e,r):t==="in"?new MD(e,r):t==="not-in"?new G9(e,r):t==="array-contains-any"?new K9(e,r):new Ge(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new j9(e,r):new H9(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(eo(t,this.value)):t!==null&&Za(this.value)===Za(t)&&this.matchesComparison(eo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends PD{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ot(e,t)}matches(e){return _c(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _c(n){return n.op==="and"}function ow(n){return n.op==="or"}function Bb(n){return OD(n)&&_c(n)}function OD(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function lw(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+yc(n.value);if(Bb(n))return n.filters.map((e=>lw(e))).join(",");{const e=n.filters.map((t=>lw(t))).join(",");return`${n.op}(${e})`}}function DD(n,e){return n instanceof Ge?(function(r,s){return s instanceof Ge&&r.op===s.op&&r.field.isEqual(s.field)&&ts(r.value,s.value)})(n,e):n instanceof ot?(function(r,s){return s instanceof ot&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,h)=>o&&DD(u,s.filters[h])),!0):!1})(n,e):void Te(19439)}function xD(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function ND(n){return n instanceof Ge?(function(t){return`${t.field.canonicalString()} ${t.op} ${yc(t.value)}`})(n):n instanceof ot?(function(t){return t.op.toString()+" {"+t.getFilters().map(ND).join(" ,")+"}"})(n):"Filter"}class q9 extends Ge{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class j9 extends Ge{constructor(e,t){super(e,"in",t),this.keys=kD("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class H9 extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=kD("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kD(n,e){return(e.arrayValue?.values||[]).map((t=>Ee.fromName(t.referenceValue)))}class $9 extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gd(t)&&pd(t.arrayValue,this.value)}}class MD extends Ge{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pd(this.value.arrayValue,t)}}class G9 extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!pd(this.value.arrayValue,t)}}class K9 extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>pd(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e,t=null,r=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function uw(n,e=null,t=[],r=[],s=null,o=null,u=null){return new W9(n,e,t,r,s,o,u)}function Al(n){const e=we(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>lw(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>yc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>yc(r))).join(",")),e.Te=t}return e.Te}function qd(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!z9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!OR(n.startAt,e.startAt)&&OR(n.endAt,e.endAt)}function Og(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Dg(n,e){return n.filters.filter((t=>t instanceof Ge&&t.field.isEqual(e)))}function DR(n,e,t){let r=Jp,s=!0;for(const o of Dg(n,e)){let u=Jp,h=!0;switch(o.op){case"<":case"<=":u=B9(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=Jp}RR({value:r,inclusive:s},{value:u,inclusive:h})<0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];RR({value:r,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}function xR(n,e,t){let r=Ua,s=!0;for(const o of Dg(n,e)){let u=Ua,h=!0;switch(o.op){case">=":case">":u=F9(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ua}CR({value:r,inclusive:s},{value:u,inclusive:h})>0&&(r=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];CR({value:r,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(r=u,s=t.inclusive);break}}return{value:r,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t=null,r=[],s=[],o=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VD(n,e,t,r,s,o,u,h){return new js(n,e,t,r,s,o,u,h)}function qc(n){return new js(n)}function NR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Fb(n){return n.collectionGroup!==null}function tc(n){const e=we(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(Ct.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new yd(o,r))})),t.has(Ct.keyField().canonicalString())||e.Ie.push(new yd(Ct.keyField(),r))}return e.Ie}function ir(n){const e=we(n);return e.Ee||(e.Ee=Q9(e,tc(n))),e.Ee}function Q9(n,e){if(n.limitType==="F")return uw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new yd(s.field,o)}));const t=n.endAt?new to(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new to(n.startAt.position,n.startAt.inclusive):null;return uw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cw(n,e){const t=n.filters.concat([e]);return new js(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xg(n,e,t){return new js(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jd(n,e){return qd(ir(n),ir(e))&&n.limitType===e.limitType}function LD(n){return`${Al(ir(n))}|lt:${n.limitType}`}function $u(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>ND(s))).join(", ")}]`),Fd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>yc(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>yc(s))).join(",")),`Target(${r})`})(ir(n))}; limitType=${n.limitType})`}function Hd(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of tc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,h,f){const m=PR(u,h,f);return u.inclusive?m<=0:m<0})(r.startAt,tc(r),s)||r.endAt&&!(function(u,h,f){const m=PR(u,h,f);return u.inclusive?m>=0:m>0})(r.endAt,tc(r),s))})(n,e)}function UD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BD(n){return(e,t)=>{let r=!1;for(const s of tc(n)){const o=Y9(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Y9(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(o,u,h){const f=u.data.field(o),m=h.data.field(o);return f!==null&&m!==null?eo(f,m):Te(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return vD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Et(Ee.comparator);function dr(){return X9}const FD=new Et(Ee.comparator);function Nf(...n){let e=FD;for(const t of n)e=e.insert(t.key,t);return e}function zD(n){let e=FD;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Gi(){return Qf()}function qD(){return Qf()}function Qf(){return new Hs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const J9=new Et(Ee.comparator),Z9=new lt(Ee.comparator);function Le(...n){let e=Z9;for(const t of n)e=e.add(t);return e}const eB=new lt(ke);function zb(){return eB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cd(e)?"-0":e}}function jD(n){return{integerValue:""+n}}function HD(n,e){return lD(e)?jD(e):qb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this._=void 0}}function tB(n,e,t){return n instanceof vc?(function(s,o){const u={fields:{[bD]:{stringValue:wD},[SD]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&yy(o)&&(o=_y(o)),o&&(u.fields[TD]=o),{mapValue:u}})(t,e):n instanceof Il?GD(n,e):n instanceof Rl?KD(n,e):(function(s,o){const u=$D(s,o),h=kR(u)+kR(s.Ae);return aw(u)&&aw(s.Ae)?jD(h):qb(s.serializer,h)})(n,e)}function nB(n,e,t){return n instanceof Il?GD(n,e):n instanceof Rl?KD(n,e):t}function $D(n,e){return n instanceof Ec?(function(r){return aw(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class vc extends Ey{}class Il extends Ey{constructor(e){super(),this.elements=e}}function GD(n,e){const t=WD(e);for(const r of n.elements)t.some((s=>ts(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Rl extends Ey{constructor(e){super(),this.elements=e}}function KD(n,e){let t=WD(e);for(const r of n.elements)t=t.filter((s=>!ts(s,r)));return{arrayValue:{values:t}}}class Ec extends Ey{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function kR(n){return It(n.integerValue||n.doubleValue)}function WD(n){return gd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t){this.field=e,this.transform=t}}function rB(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Il&&s instanceof Il||r instanceof Rl&&s instanceof Rl?cc(r.elements,s.elements,ts):r instanceof Ec&&s instanceof Ec?ts(r.Ae,s.Ae):r instanceof vc&&s instanceof vc})(n.transform,e.transform)}class iB{constructor(e,t){this.version=e,this.transformResults=t}}class Pt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pt}static exists(e){return new Pt(void 0,e)}static updateTime(e){return new Pt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tg(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class wy{}function QD(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hc(n.key,Pt.none()):new jc(n.key,n.data,Pt.none());{const t=n.data,r=Mn.empty();let s=new lt(Ct.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new $s(n.key,r,new fr(s.toArray()),Pt.none())}}function sB(n,e,t){n instanceof jc?(function(s,o,u){const h=s.value.clone(),f=VR(s.fieldTransforms,o,u.transformResults);h.setAll(f),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof $s?(function(s,o,u){if(!tg(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=VR(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(YD(s)),f.setAll(h),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Yf(n,e,t,r){return n instanceof jc?(function(o,u,h,f){if(!tg(o.precondition,u))return h;const m=o.value.clone(),y=LR(o.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,r):n instanceof $s?(function(o,u,h,f){if(!tg(o.precondition,u))return h;const m=LR(o.fieldTransforms,f,u),y=u.data;return y.setAll(YD(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(o,u,h){return tg(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function aB(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=$D(r.transform,s||null);o!=null&&(t===null&&(t=Mn.empty()),t.set(r.field,o))}return t||null}function MR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&cc(r,s,((o,u)=>rB(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jc extends wy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $s extends wy{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function YD(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function VR(n,e,t){const r=new Map;Ae(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);r.set(o.field,nB(u,h,t[s]))}return r}function LR(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,tB(o,u,e))}return r}class Hc extends wy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jb extends wy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&sB(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qD();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const f=QD(u,h);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Le())}isEqual(e){return this.batchId===e.batchId&&cc(this.mutations,e.mutations,((t,r)=>MR(t,r)))&&cc(this.baseMutations,e.baseMutations,((t,r)=>MR(t,r)))}}class $b{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ae(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return J9})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new $b(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,We;function XD(n){switch(n){case se.OK:return Te(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function JD(n){if(n===void 0)return Xt("GRPC error has no .code"),se.UNKNOWN;switch(n){case on.OK:return se.OK;case on.CANCELLED:return se.CANCELLED;case on.UNKNOWN:return se.UNKNOWN;case on.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case on.INTERNAL:return se.INTERNAL;case on.UNAVAILABLE:return se.UNAVAILABLE;case on.UNAUTHENTICATED:return se.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case on.NOT_FOUND:return se.NOT_FOUND;case on.ALREADY_EXISTS:return se.ALREADY_EXISTS;case on.PERMISSION_DENIED:return se.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case on.ABORTED:return se.ABORTED;case on.OUT_OF_RANGE:return se.OUT_OF_RANGE;case on.UNIMPLEMENTED:return se.UNIMPLEMENTED;case on.DATA_LOSS:return se.DATA_LOSS;default:return Te(39323,{code:n})}}(We=on||(on={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=new ja([4294967295,4294967295],0);function UR(n){const e=ZD().encode(n),t=new $O;return t.update(e),new Uint8Array(t.digest())}function BR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ja([t,r],0),new ja([s,o],0)]}class Kb{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kf(`Invalid padding: ${t}`);if(r<0)throw new kf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kf(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new kf(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ja.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ja.fromNumber(r)));return s.compare(lB)===1&&(s=new ja([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=UR(e),[r,s]=BR(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Kb(o,s,t);return r.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=UR(e),[r,s]=BR(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Kd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gd(Ie.min(),s,new Et(ke),dr(),Le())}}class Kd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kd(r,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class ex{constructor(e,t){this.targetId=e,this.Ce=t}}class tx{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class FR{constructor(){this.ve=0,this.Fe=zR(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),r=Le();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Te(38017,{changeType:o})}})),new Kd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=zR()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uB{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=Op(),this.He=Op(),this.Ye=new Et(ke)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Og(o))if(r===0){const u=new Ee(o.path);this.et(t,u,Tt.newNoDocument(u,Ie.min()))}else Ae(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=Bs(r).toUint8Array()}catch(f){if(f instanceof ED)return es("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Kb(u,s,o)}catch(f){return es(f instanceof kf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Og(h.target)){const f=new Ee(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Tt.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=Le();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new Gd(e,t,this.Ye,this.je,r);return this.je=dr(),this.Je=Op(),this.He=Op(),this.Ye=new Et(ke),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new FR,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new lt(ke),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new lt(ke),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new FR),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Op(){return new Et(Ee.comparator)}function zR(){return new Et(Ee.comparator)}const cB={asc:"ASCENDING",desc:"DESCENDING"},hB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fB={and:"AND",or:"OR"};class dB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hw(n,e){return n.useProto3Json||Fd(e)?e:{value:e}}function wc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mB(n,e){return wc(n,e.toTimestamp())}function Jt(n){return Ae(!!n,49232),Ie.fromTimestamp((function(t){const r=Us(t);return new tt(r.seconds,r.nanos)})(n))}function Wb(n,e){return fw(n,e).canonicalString()}function fw(n,e){const t=(function(s){return new He(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function rx(n){const e=He.fromString(n);return Ae(dx(e),10190,{key:e.toString()}),e}function _d(n,e){return Wb(n.databaseId,e.path)}function Wi(n,e){const t=rx(e);if(t.get(1)!==n.databaseId.projectId)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(ax(t))}function ix(n,e){return Wb(n.databaseId,e)}function sx(n){const e=rx(n);return e.length===4?He.emptyPath():ax(e)}function dw(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ax(n){return Ae(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function qR(n,e,t){return{name:_d(n,e),fields:t.value.mapValue.fields}}function ox(n,e,t){const r=Wi(n,e.name),s=Jt(e.updateTime),o=e.createTime?Jt(e.createTime):Ie.min(),u=new Mn({mapValue:{fields:e.fields}}),h=Tt.newFoundDocument(r,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function pB(n,e){return"found"in e?(function(r,s){Ae(!!s.found,43571),s.found.name,s.found.updateTime;const o=Wi(r,s.found.name),u=Jt(s.found.updateTime),h=s.found.createTime?Jt(s.found.createTime):Ie.min(),f=new Mn({mapValue:{fields:s.found.fields}});return Tt.newFoundDocument(o,u,h,f)})(n,e):"missing"in e?(function(r,s){Ae(!!s.missing,3894),Ae(!!s.readTime,22933);const o=Wi(r,s.missing),u=Jt(s.readTime);return Tt.newNoDocument(o,u)})(n,e):Te(7234,{result:e})}function gB(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Ae(y===void 0||typeof y=="string",58123),Ft.fromBase64String(y||"")):(Ae(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ft.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?se.UNKNOWN:JD(m.code);return new de(y,m.message||"")})(u);t=new tx(r,s,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wi(n,r.document.name),o=Jt(r.document.updateTime),u=r.document.createTime?Jt(r.document.createTime):Ie.min(),h=new Mn({mapValue:{fields:r.document.fields}}),f=Tt.newFoundDocument(s,o,u,h),m=r.targetIds||[],y=r.removedTargetIds||[];t=new ng(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wi(n,r.document),o=r.readTime?Jt(r.readTime):Ie.min(),u=Tt.newNoDocument(s,o),h=r.removedTargetIds||[];t=new ng([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wi(n,r.document),o=r.removedTargetIds||[];t=new ng([],o,s,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new oB(s,o),h=r.targetId;t=new ex(h,u)}}return t}function vd(n,e){let t;if(e instanceof jc)t={update:qR(n,e.key,e.value)};else if(e instanceof Hc)t={delete:_d(n,e.key)};else if(e instanceof $s)t={update:qR(n,e.key,e.data),updateMask:bB(e.fieldMask)};else{if(!(e instanceof jb))return Te(16599,{Vt:e.type});t={verify:_d(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const h=u.transform;if(h instanceof vc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Rl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ec)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Te(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:mB(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te(27497)})(n,e.precondition)),t}function mw(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?Pt.updateTime(Jt(o.updateTime)):o.exists!==void 0?Pt.exists(o.exists):Pt.none()})(e.currentDocument):Pt.none(),r=e.updateTransforms?e.updateTransforms.map((s=>(function(u,h){let f=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),f=new vc;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];f=new Il(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];f=new Rl(y)}else"increment"in h?f=new Ec(u,h.increment):Te(16584,{proto:h});const m=Ct.fromServerFormat(h.fieldPath);return new $d(m,f)})(n,s))):[];if(e.update){e.update.name;const s=Wi(n,e.update.name),o=new Mn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(f){const m=f.fieldPaths||[];return new fr(m.map((y=>Ct.fromServerFormat(y))))})(e.updateMask);return new $s(s,o,u,t,r)}return new jc(s,o,t,r)}if(e.delete){const s=Wi(n,e.delete);return new Hc(s,t)}if(e.verify){const s=Wi(n,e.verify);return new jb(s,t)}return Te(1463,{proto:e})}function yB(n,e){return n&&n.length>0?(Ae(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Jt(s.updateTime):Jt(o);return u.isEqual(Ie.min())&&(u=Jt(o)),new iB(u,s.transformResults||[])})(t,e)))):[]}function lx(n,e){return{documents:[ix(n,e.path)]}}function ux(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ix(n,s);const o=(function(m){if(m.length!==0)return fx(ot.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((y=>(function(w){return{field:Gu(w.field),direction:vB(w.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=hw(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function cx(n){let e=sx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ae(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(_){const w=hx(_);return w instanceof ot&&Bb(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((w=>(function(S){return new yd(Ku(S.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(w)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let w;return w=typeof _=="object"?_.value:_,Fd(w)?null:w})(t.limit));let f=null;t.startAt&&(f=(function(_){const w=!!_.before,R=_.values||[];return new to(R,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const w=!_.before,R=_.values||[];return new to(R,w)})(t.endAt)),VD(e,s,u,o,h,"F",f,m)}function _B(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hx(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ku(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ku(t.unaryFilter.field);return Ge.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ku(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ku(t.unaryFilter.field);return Ge.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Ge.create(Ku(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ot.create(t.compositeFilter.filters.map((r=>hx(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(t.compositeFilter.op))})(n):Te(30097,{filter:n})}function vB(n){return cB[n]}function EB(n){return hB[n]}function wB(n){return fB[n]}function Gu(n){return{fieldPath:n.canonicalString()}}function Ku(n){return Ct.fromServerFormat(n.fieldPath)}function fx(n){return n instanceof Ge?(function(t){if(t.op==="=="){if(IR(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NAN"}};if(AR(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(IR(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NOT_NAN"}};if(AR(t.value))return{unaryFilter:{field:Gu(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(t.field),op:EB(t.op),value:t.value}}})(n):n instanceof ot?(function(t){const r=t.getFilters().map((s=>fx(s)));return r.length===1?r[0]:{compositeFilter:{op:wB(t.op),filters:r}}})(n):Te(54877,{filter:n})}function bB(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function dx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,t,r,s,o=Ie.min(),u=Ie.min(),h=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.yt=e}}function TB(n,e){let t;if(e.document)t=ox(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ee.fromSegments(e.noDocument.path),s=Pl(e.noDocument.readTime);t=Tt.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Te(56709);{const r=Ee.fromSegments(e.unknownDocument.path),s=Pl(e.unknownDocument.version);t=Tt.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime((function(s){const o=new tt(s[0],s[1]);return Ie.fromTimestamp(o)})(e.readTime)),t}function jR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ng(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,u){return{name:_d(o,u.key),fields:u.data.value.mapValue.fields,updateTime:wc(o,u.version.toTimestamp()),createTime:wc(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cl(e.version)};else{if(!e.isUnknownDocument())return Te(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:Cl(e.version)}}return r}function Ng(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(n){const e=new tt(n.seconds,n.nanoseconds);return Ie.fromTimestamp(e)}function ll(n,e){const t=(e.baseMutations||[]).map((o=>mw(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>mw(n.yt,o))),s=tt.fromMillis(e.localWriteTimeMs);return new Hb(e.batchId,s,t,r)}function Mf(n){const e=Pl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Pl(n.lastLimboFreeSnapshotVersion):Ie.min();let r;return r=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return Ae(u===1,1966,{count:u}),ir(qc(sx(o.documents[0])))})(n.query):(function(o){return ir(cx(o))})(n.query),new Os(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ft.fromBase64String(n.resumeToken))}function px(n,e){const t=Cl(e.snapshotVersion),r=Cl(e.lastLimboFreeSnapshotVersion);let s;s=Og(e.target)?lx(n.yt,e.target):ux(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Al(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function Qb(n){const e=cx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xg(e,e.limit,"L"):e}function _E(n,e){return new Gb(e.largestBatchId,mw(n.yt,e.overlayMutation))}function HR(n,e){const t=e.path.lastSegment();return[n,Kn(e.path.popLast()),t]}function $R(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:Cl(r.readTime),documentKey:Kn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{getBundleMetadata(e,t){return GR(e).get(t).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:Pl(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,t){return GR(e).put((function(s){return{bundleId:s.id,createTime:Cl(Jt(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return KR(e).get(t).next((r=>{if(r)return(function(o){return{name:o.name,query:Qb(o.bundledQuery),readTime:Pl(o.readTime)}})(r)}))}saveNamedQuery(e,t){return KR(e).put((function(s){return{name:s.name,readTime:Cl(Jt(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function GR(n){return vn(n,my)}function KR(n){return vn(n,py)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new by(e,r)}getOverlay(e,t){return uf(e).get(HR(this.userId,t)).next((r=>r?_E(this.serializer,r):null))}getOverlays(e,t){const r=Gi();return X.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){const s=[];return r.forEach(((o,u)=>{const h=new Gb(t,u);s.push(this.St(e,h))})),X.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach((u=>s.add(Kn(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(uf(e).Z(nw,h))})),X.waitFor(o)}getOverlaysForCollection(e,t,r){const s=Gi(),o=Kn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return uf(e).J(nw,u).next((h=>{for(const f of h){const m=_E(this.serializer,f);s.set(m.getKey(),m)}return s}))}getOverlaysForCollectionGroup(e,t,r,s){const o=Gi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return uf(e).ee({index:mD,range:h},((f,m,y)=>{const _=_E(this.serializer,m);o.size()<s||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):y.done()})).next((()=>o))}St(e,t){return uf(e).put((function(s,o,u){const[h,f,m]=HR(o,u.mutation.key);return{userId:o,collectionPath:f,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:vd(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function uf(n){return vn(n,gy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{bt(e){return vn(e,Mb)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const r=t?.value;return r?Ft.fromUint8Array(r):Ft.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(It(e.integerValue));else if("doubleValue"in e){const r=It(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),cd(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Us(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Bs(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?ID(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):vy(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Te(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const r=e.fields||{};this.Ft(t,55);for(const s of Object.keys(r))this.Ot(s,t),this.Ct(r[s],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const s=gc,o=r[s].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(It(o)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const r=e.values||[];this.Ft(t,50);for(const s of r)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),Ee.fromName(e).path.forEach((r=>{this.Ft(t,60),this.Ut(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ul.Kt=new ul;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=255;function IB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function WR(n){const e=64-(function(r){let s=0;for(let o=0;o<8;++o){const u=IB(255&r[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class RB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Jt(r.value),r=t.next();this.Ht()}Yt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),r=WR(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),r=WR(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(Mu),this.sn(255)}_n(){this.an(Mu),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Mu?(this.sn(Mu),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Mu?(this.an(Mu),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class CB{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class PB{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class cf{constructor(){this.cn=new RB,this.ln=new CB(this.cn),this.hn=new PB(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,t,r,s){this.Tn=e,this.In=t,this.En=r,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.dn,0),t!==e?r.set([0],this.dn.length):++r[r.length-1],new cl(this.Tn,this.In,this.En,r)}Rn(e,t,r){return{indexId:this.Tn,uid:e,arrayValue:rg(this.En),directionalValue:rg(this.dn),orderedDocumentKey:rg(t),documentKey:r.path.toArray()}}Vn(e,t,r){const s=this.Rn(e,t,r);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function xa(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=QR(n.En,e.En),t!==0?t:(t=QR(n.dn,e.dn),t!==0?t:Ee.comparator(n.In,e.In)))}function QR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}function rg(n){return MP()?(function(t){let r="";for(let s=0;s<t.length;s++)r+=String.fromCharCode(t[s]);return r})(n):n}function YR(n){return typeof n!="string"?n:(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(n)}class XR{constructor(e){this.mn=new lt(((t,r)=>Ct.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const r=t;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Ae(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=ZE(e);if(t!==void 0&&!this.wn(t))return!1;const r=il(e);let s=new Set,o=0,u=0;for(;o<r.length&&this.wn(r[o]);++o)s=s.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const f=r[o];if(!this.Sn(h,f)||!this.bn(this.fn[u++],f))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new lt(Ct.comparator);const t=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Qp(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Qp(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Qp(r.field,r.dir==="asc"?0:1)));return new Ig(Ig.UNKNOWN_ID,this.collectionId,t,ud.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n){if(Ae(n instanceof Ge||n instanceof ot,20012),n instanceof Ge){if(n instanceof MD){const t=n.value.arrayValue?.values?.map((r=>Ge.create(n.field,"==",r)))||[];return ot.create(t,"or")}return n}const e=n.filters.map((t=>gx(t)));return ot.create(e,n.op)}function OB(n){if(n.getFilters().length===0)return[];const e=yw(gx(n));return Ae(yx(e),7391),pw(e)||gw(e)?[e]:e.getFilters()}function pw(n){return n instanceof Ge}function gw(n){return n instanceof ot&&Bb(n)}function yx(n){return pw(n)||gw(n)||(function(t){if(t instanceof ot&&ow(t)){for(const r of t.getFilters())if(!pw(r)&&!gw(r))return!1;return!0}return!1})(n)}function yw(n){if(Ae(n instanceof Ge||n instanceof ot,34018),n instanceof Ge)return n;if(n.filters.length===1)return yw(n.filters[0]);const e=n.filters.map((r=>yw(r)));let t=ot.create(e,n.op);return t=kg(t),yx(t)?t:(Ae(t instanceof ot,64498),Ae(_c(t),40251),Ae(t.filters.length>1,57927),t.filters.reduce(((r,s)=>Yb(r,s))))}function Yb(n,e){let t;return Ae(n instanceof Ge||n instanceof ot,38388),Ae(e instanceof Ge||e instanceof ot,25473),t=n instanceof Ge?e instanceof Ge?(function(s,o){return ot.create([s,o],"and")})(n,e):JR(n,e):e instanceof Ge?JR(e,n):(function(s,o){if(Ae(s.filters.length>0&&o.filters.length>0,48005),_c(s)&&_c(o))return xD(s,o.getFilters());const u=ow(s)?s:o,h=ow(s)?o:s,f=u.filters.map((m=>Yb(m,h)));return ot.create(f,"or")})(n,e),kg(t)}function JR(n,e){if(_c(e))return xD(e,n.getFilters());{const t=e.filters.map((r=>Yb(n,r)));return ot.create(t,"or")}}function kg(n){if(Ae(n instanceof Ge||n instanceof ot,11850),n instanceof Ge)return n;const e=n.getFilters();if(e.length===1)return kg(e[0]);if(OD(n))return n;const t=e.map((s=>kg(s))),r=[];return t.forEach((s=>{s instanceof Ge?r.push(s):s instanceof ot&&(s.op===n.op?r.push(...s.filters):r.push(s))})),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(){this.Cn=new Xb}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(kr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Xb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new lt(He.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new lt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="IndexedDbIndexManager",Dp=new Uint8Array(0);class xB{constructor(e,t){this.databaseId=t,this.vn=new Xb,this.Fn=new Hs((r=>Al(r)),((r,s)=>qd(r,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:r,parent:Kn(s)};return e1(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[ZO(t),""],!1,!0);return e1(e).J(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;r.push($i(u.parent))}return r}))}addFieldIndex(e,t){const r=hf(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((f=>[f.fieldPath.canonicalString(),f.kind]))}})(t);delete s.indexId;const o=r.add(s);if(t.indexState){const u=Lu(e);return o.next((h=>{u.put($R(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const r=hf(e),s=Lu(e),o=Vu(e);return r.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=hf(e),r=Vu(e),s=Lu(e);return t.Z().next((()=>r.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return X.forEach(this.Mn(t),(r=>this.getIndexType(e,r).next((s=>{if(s===0||s===1){const o=new XR(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const r=Vu(e);let s=!0;const o=new Map;return X.forEach(this.Mn(t),(u=>this.xn(e,u).next((h=>{s&&(s=!!h),o.set(u,h)})))).next((()=>{if(s){let u=Le();const h=[];return X.forEach(o,((f,m)=>{me(ZR,`Using index ${(function(q){return`id=${q.indexId}|cg=${q.collectionGroup}|f=${q.fields.map((W=>`${W.fieldPath}:${W.kind}`)).join(",")}`})(f)} to execute ${Al(t)}`);const y=(function(q,W){const j=ZE(W);if(j===void 0)return null;for(const H of Dg(q,j.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null})(m,f),_=(function(q,W){const j=new Map;for(const H of il(W))for(const k of Dg(q,H.fieldPath))switch(k.op){case"==":case"in":j.set(H.fieldPath.canonicalString(),k.value);break;case"not-in":case"!=":return j.set(H.fieldPath.canonicalString(),k.value),Array.from(j.values())}return null})(m,f),w=(function(q,W){const j=[];let H=!0;for(const k of il(W)){const I=k.kind===0?DR(q,k.fieldPath,q.startAt):xR(q,k.fieldPath,q.startAt);j.push(I.value),H&&(H=I.inclusive)}return new to(j,H)})(m,f),R=(function(q,W){const j=[];let H=!0;for(const k of il(W)){const I=k.kind===0?xR(q,k.fieldPath,q.endAt):DR(q,k.fieldPath,q.endAt);j.push(I.value),H&&(H=I.inclusive)}return new to(j,H)})(m,f),S=this.On(f,m,w),P=this.On(f,m,R),x=this.Nn(f,m,_),$=this.Bn(f.indexId,y,S,w.inclusive,P,R.inclusive,x);return X.forEach($,(U=>r.Y(U,t.limit).next((q=>{q.forEach((W=>{const j=Ee.fromSegments(W.documentKey);u.has(j)||(u=u.add(j),h.push(j))}))}))))})).next((()=>h))}return X.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=OB(ot.create(e.filters,"and")).map((r=>uw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,r,s,o,u,h){const f=(t!=null?t.length:1)*Math.max(r.length,o.length),m=f/(t!=null?t.length:1),y=[];for(let _=0;_<f;++_){const w=t?this.Ln(t[_/m]):Dp,R=this.kn(e,w,r[_%m],s),S=this.qn(e,w,o[_%m],u),P=h.map((x=>this.kn(e,w,x,!0)));y.push(...this.createRange(R,S,P))}return y}kn(e,t,r,s){const o=new cl(e,Ee.empty(),t,r);return s?o:o.An()}qn(e,t,r,s){const o=new cl(e,Ee.empty(),t,r);return s?o.An():o}xn(e,t){const r=new XR(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const h of o)r.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let r=2;const s=this.Mn(t);return X.forEach(s,(o=>this.xn(e,o).next((u=>{u?r!==0&&u.fields.length<(function(f){let m=new lt(Ct.comparator),y=!1;for(const _ of f.filters)for(const w of _.getFlattenedFilters())w.field.isKeyField()||(w.op==="array-contains"||w.op==="array-contains-any"?y=!0:m=m.add(w.field));for(const _ of f.orderBy)_.field.isKeyField()||(m=m.add(_.field));return m.size+(y?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&r===2?1:r))}Qn(e,t){const r=new cf;for(const s of il(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=r.Pn(s.kind);ul.Kt.Dt(o,u)}return r.un()}Ln(e){const t=new cf;return ul.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const r=new cf;return ul.Kt.Dt(Sl(this.databaseId,t),r.Pn((function(o){const u=il(o);return u.length===0?0:u[u.length-1].kind})(e))),r.un()}Nn(e,t,r){if(r===null)return[];let s=[];s.push(new cf);let o=0;for(const u of il(e)){const h=r[o++];for(const f of s)if(this.Un(t,u.fieldPath)&&gd(h))s=this.Kn(s,u,h);else{const m=f.Pn(u.kind);ul.Kt.Dt(h,m)}}return this.Wn(s)}On(e,t,r){return this.Nn(e,t,r.position)}Wn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Kn(e,t,r){const s=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of s){const f=new cf;f.seed(h.un()),ul.Kt.Dt(u,f.Pn(t.kind)),o.push(f)}return o}Un(e,t){return!!e.filters.find((r=>r instanceof Ge&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=hf(e),s=Lu(e);return(t?r.J(tw,IDBKeyRange.bound(t,t)):r.J()).next((o=>{const u=[];return X.forEach(o,(h=>s.get([h.indexId,this.uid]).next((f=>{u.push((function(y,_){const w=_?new ud(_.sequenceNumber,new kr(Pl(_.readTime),new Ee($i(_.documentKey)),_.largestBatchId)):ud.empty(),R=y.fields.map((([S,P])=>new Qp(Ct.fromServerFormat(S),P)));return new Ig(y.indexId,y.collectionGroup,R,w)})(h,f))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,s)=>{const o=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const s=hf(e),o=Lu(e);return this.Gn(e).next((u=>s.J(tw,IDBKeyRange.bound(t,t)).next((h=>X.forEach(h,(f=>o.put($R(f.indexId,this.uid,u,r))))))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,((s,o)=>{const u=r.get(s.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(r.set(s.collectionGroup,h),X.forEach(h,(f=>this.zn(e,s,f).next((m=>{const y=this.jn(o,f);return m.isEqual(y)?X.resolve():this.Jn(e,o,f,m,y)})))))))}))}Hn(e,t,r,s){return Vu(e).put(s.Rn(this.uid,this.$n(r,t.key),t.key))}Yn(e,t,r,s){return Vu(e).delete(s.Vn(this.uid,this.$n(r,t.key),t.key))}zn(e,t,r){const s=Vu(e);let o=new lt(xa);return s.ee({index:dD,range:IDBKeyRange.only([r.indexId,this.uid,rg(this.$n(r,t))])},((u,h)=>{o=o.add(new cl(r.indexId,t,YR(h.arrayValue),YR(h.directionalValue)))})).next((()=>o))}jn(e,t){let r=new lt(xa);const s=this.Qn(t,e);if(s==null)return r;const o=ZE(t);if(o!=null){const u=e.data.field(o.fieldPath);if(gd(u))for(const h of u.arrayValue.values||[])r=r.add(new cl(t.indexId,e.key,this.Ln(h),s))}else r=r.add(new cl(t.indexId,e.key,Dp,s));return r}Jn(e,t,r,s,o){me(ZR,"Updating index entries for document '%s'",t.key);const u=[];return(function(f,m,y,_,w){const R=f.getIterator(),S=m.getIterator();let P=ku(R),x=ku(S);for(;P||x;){let $=!1,U=!1;if(P&&x){const q=y(P,x);q<0?U=!0:q>0&&($=!0)}else P!=null?U=!0:$=!0;$?(_(x),x=ku(S)):U?(w(P),P=ku(R)):(P=ku(R),x=ku(S))}})(s,o,xa,(h=>{u.push(this.Hn(e,t,r,h))}),(h=>{u.push(this.Yn(e,t,r,h))})),X.waitFor(u)}Gn(e){let t=1;return Lu(e).ee({index:fD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((u,h)=>xa(u,h))).filter(((u,h,f)=>!h||xa(u,f[h-1])!==0));const s=[];s.push(e);for(const u of r){const h=xa(u,e),f=xa(u,t);if(h===0)s[0]=e.An();else if(h>0&&f<0)s.push(u),s.push(u.An());else if(f>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Zn(s[u],s[u+1]))return[];const h=s[u].Vn(this.uid,Dp,Ee.empty()),f=s[u+1].Vn(this.uid,Dp,Ee.empty());o.push(IDBKeyRange.bound(h,f))}return o}Zn(e,t){return xa(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(t1)}getMinOffset(e,t){return X.mapArray(this.Mn(t),(r=>this.xn(e,r).next((s=>s||Te(44426))))).next(t1)}}function e1(n){return vn(n,dd)}function Vu(n){return vn(n,Kf)}function hf(n){return vn(n,kb)}function Lu(n){return vn(n,Gf)}function t1(n){Ae(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;Db(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new kr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_x=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(n,e,t){const r=n.store(hi),s=n.store(fc),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const f=r.ee({range:u},((y,_,w)=>(h++,w.delete())));o.push(f.next((()=>{Ae(h===1,47070,{batchId:t.batchId})})));const m=[];for(const y of t.mutations){const _=uD(e,y.key.path,t.batchId);o.push(s.delete(_)),m.push(y.key)}return X.waitFor(o).next((()=>m))}function Mg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Te(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(_x,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class Ty{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Xn={}}static wt(e,t,r,s){Ae(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Ty(o,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).ee({index:dl,range:r},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,r,s){const o=Wu(e),u=Na(e);return u.add({}).next((h=>{Ae(typeof h=="number",49019);const f=new Hb(h,t,r,s),m=(function(R,S,P){const x=P.baseMutations.map((U=>vd(R.yt,U))),$=P.mutations.map((U=>vd(R.yt,U)));return{userId:S,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:x,mutations:$}})(this.serializer,this.userId,f),y=[];let _=new lt(((w,R)=>ke(w.canonicalString(),R.canonicalString())));for(const w of s){const R=uD(this.userId,w.key.path,h);_=_.add(w.key.path.popLast()),y.push(u.put(m)),y.push(o.put(R,f9))}return _.forEach((w=>{y.push(this.indexManager.addToCollectionParentIndex(e,w))})),e.addOnCommittedListener((()=>{this.Xn[h]=f.keys()})),X.waitFor(y).next((()=>f))}))}lookupMutationBatch(e,t){return Na(e).get(t).next((r=>r?(Ae(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),ll(this.serializer,r)):null))}er(e,t){return this.Xn[t]?X.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const s=r.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Na(e).ee({index:dl,range:s},((u,h,f)=>{h.userId===this.userId&&(Ae(h.batchId>=r,47524,{tr:r}),o=ll(this.serializer,h)),f.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ha;return Na(e).ee({index:dl,range:t,reverse:!0},((s,o,u)=>{r=o.batchId,u.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ha],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).J(dl,t).next((r=>r.map((s=>ll(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Yp(this.userId,t.path),s=IDBKeyRange.lowerBound(r),o=[];return Wu(e).ee({range:s},((u,h,f)=>{const[m,y,_]=u,w=$i(y);if(m===this.userId&&t.path.isEqual(w))return Na(e).get(_).next((R=>{if(!R)throw Te(61480,{nr:u,batchId:_});Ae(R.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:R.userId,batchId:_}),o.push(ll(this.serializer,R))}));f.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);const s=[];return t.forEach((o=>{const u=Yp(this.userId,o.path),h=IDBKeyRange.lowerBound(u),f=Wu(e).ee({range:h},((m,y,_)=>{const[w,R,S]=m,P=$i(R);w===this.userId&&o.path.isEqual(P)?r=r.add(S):_.done()}));s.push(f)})),X.waitFor(s).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,o=Yp(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(ke);return Wu(e).ee({range:u},((f,m,y)=>{const[_,w,R]=f,S=$i(w);_===this.userId&&r.isPrefixOf(S)?S.length===s&&(h=h.add(R)):y.done()})).next((()=>this.rr(e,h)))}rr(e,t){const r=[],s=[];return t.forEach((o=>{s.push(Na(e).get(o).next((u=>{if(u===null)throw Te(35274,{batchId:o});Ae(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),r.push(ll(this.serializer,u))})))})),X.waitFor(s).next((()=>r))}removeMutationBatch(e,t){return vx(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),X.forEach(r,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return Wu(e).ee({range:r},((o,u,h)=>{if(o[0]===this.userId){const f=$i(o[1]);s.push(f)}else h.done()})).next((()=>{Ae(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return Ex(e,this.userId,t)}_r(e){return wx(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ha,lastStreamToken:""}))}}function Ex(n,e,t){const r=Yp(e,t.path),s=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return Wu(n).ee({range:o,X:!0},((h,f,m)=>{const[y,_,w]=h;y===e&&_===s&&(u=!0),m.done()})).next((()=>u))}function Na(n){return vn(n,hi)}function Wu(n){return vn(n,fc)}function wx(n){return vn(n,hd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ol(0)}static cr(){return new Ol(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const r=new Ol(t.highestTargetId);return t.highestTargetId=r.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>Ie.fromTimestamp(new tt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(t,r),this.hr(e,r))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Uu(e).delete(t.targetId))).next((()=>this.lr(e))).next((r=>(Ae(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,t,r){let s=0;const o=[];return Uu(e).ee(((u,h)=>{const f=Mf(h);f.sequenceNumber<=t&&r.get(f.targetId)===null&&(s++,o.push(this.removeTargetData(e,f)))})).next((()=>X.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Uu(e).ee(((r,s)=>{const o=Mf(s);t(o)}))}lr(e){return r1(e).get(Pg).next((t=>(Ae(t!==null,2888),t)))}hr(e,t){return r1(e).put(Pg,t)}Pr(e,t){return Uu(e).put(px(this.serializer,t))}Tr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const r=Al(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Uu(e).ee({range:s,index:hD},((u,h,f)=>{const m=Mf(h);qd(t,m.target)&&(o=m,f.done())})).next((()=>o))}addMatchingKeys(e,t,r){const s=[],o=La(e);return t.forEach((u=>{const h=Kn(u.path);s.push(o.put({targetId:r,path:h})),s.push(this.referenceDelegate.addReference(e,r,u))})),X.waitFor(s)}removeMatchingKeys(e,t,r){const s=La(e);return X.forEach(t,(o=>{const u=Kn(o.path);return X.waitFor([s.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,t){const r=La(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=La(e);let o=Le();return s.ee({range:r,X:!0},((u,h,f)=>{const m=$i(u[1]),y=new Ee(m);o=o.add(y)})).next((()=>o))}containsKey(e,t){const r=Kn(t.path),s=IDBKeyRange.bound([r],[ZO(r)],!1,!0);let o=0;return La(e).ee({index:Nb,X:!0,range:s},(([u,h],f,m)=>{u!==0&&(o++,m.done())})).next((()=>o>0))}At(e,t){return Uu(e).get(t).next((r=>r?Mf(r):null))}}function Uu(n){return vn(n,dc)}function r1(n){return vn(n,El)}function La(n){return vn(n,mc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="LruGarbageCollector",kB=1048576;function s1([n,e],[t,r]){const s=ke(n,t);return s===0?ke(e,r):s}class MB{constructor(e){this.Ir=e,this.buffer=new lt(s1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();s1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(i1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fo(t)?me(i1,"Ignoring IndexedDB error during garbage collection: ",t):await ho(t)}await this.Vr(3e5)}))}}class VB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(hr.ce);const r=new MB(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(n1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),n1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,h,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,h=Date.now(),this.removeTargets(e,r,t)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(m=Date.now(),Hu()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function Tx(n,e){return new VB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(e,t){this.db=e,this.garbageCollector=Tx(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((r,s)=>t(s)))}addReference(e,t,r){return xp(e,r)}removeReference(e,t,r){return xp(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return xp(e,t)}br(e,t){return(function(s,o){let u=!1;return wx(s).te((h=>Ex(s,h,o).next((f=>(f&&(u=!0),X.resolve(!f)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=t){const f=this.br(e,u).next((m=>{if(!m)return o++,r.getEntry(e,u).next((()=>(r.removeEntry(u,Ie.min()),La(e).delete((function(_){return[0,Kn(_.path)]})(u)))))}));s.push(f)}})).next((()=>X.waitFor(s))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return xp(e,t)}Sr(e,t){const r=La(e);let s,o=hr.ce;return r.ee({index:Nb},(([u,h],{path:f,sequenceNumber:m})=>{u===0?(o!==hr.ce&&t(new Ee($i(s)),o),o=m,s=f):o=hr.ce})).next((()=>{o!==hr.ce&&t(new Ee($i(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function xp(n,e){return La(n).put((function(r,s){return{targetId:0,path:Kn(r.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.changes=new Hs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return el(e).put(r)}removeEntry(e,t,r){return el(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Ng(u),h[h.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.Dr(e,r))))}getEntry(e,t){let r=Tt.newInvalidDocument(t);return el(e).ee({index:Xp,range:IDBKeyRange.only(ff(t))},((s,o)=>{r=this.Cr(t,o)})).next((()=>r))}vr(e,t){let r={size:0,document:Tt.newInvalidDocument(t)};return el(e).ee({index:Xp,range:IDBKeyRange.only(ff(t))},((s,o)=>{r={document:this.Cr(t,o),size:Mg(o)}})).next((()=>r))}getEntries(e,t){let r=dr();return this.Fr(e,t,((s,o)=>{const u=this.Cr(s,o);r=r.insert(s,u)})).next((()=>r))}Mr(e,t){let r=dr(),s=new Et(Ee.comparator);return this.Fr(e,t,((o,u)=>{const h=this.Cr(o,u);r=r.insert(o,h),s=s.insert(o,Mg(u))})).next((()=>({documents:r,Or:s})))}Fr(e,t,r){if(t.isEmpty())return X.resolve();let s=new lt(l1);t.forEach((f=>s=s.add(f)));const o=IDBKeyRange.bound(ff(s.first()),ff(s.last())),u=s.getIterator();let h=u.getNext();return el(e).ee({index:Xp,range:o},((f,m,y)=>{const _=Ee.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&l1(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,m),h=u.hasNext()?u.getNext():null),h?y.j(ff(h)):y.done()})).next((()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,r,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Ng(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return el(e).J(IDBKeyRange.bound(h,f,!0)).next((m=>{o?.incrementDocumentReadCount(m.length);let y=dr();for(const _ of m){const w=this.Cr(Ee.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);w.isFoundDocument()&&(Hd(t,w)||s.has(w.key))&&(y=y.insert(w.key,w))}return y}))}getAllFromCollectionGroup(e,t,r,s){let o=dr();const u=o1(t,r),h=o1(t,kr.max());return el(e).ee({index:cD,range:IDBKeyRange.bound(u,h,!0)},((f,m,y)=>{const _=this.Cr(Ee.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(_.key,_),o.size===s&&y.done()})).next((()=>o))}newChangeBuffer(e){return new BB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return a1(e).get(ew).next((t=>(Ae(!!t,20021),t)))}Dr(e,t){return a1(e).put(ew,t)}Cr(e,t){if(t){const r=TB(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Ie.min())))return r}return Tt.newInvalidDocument(e)}}function Ax(n){return new UB(n)}class BB extends Sx{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Hs((r=>r.toString()),((r,s)=>r.isEqual(s)))}applyChanges(e){const t=[];let r=0,s=new lt(((o,u)=>ke(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const f=jR(this.Nr.serializer,u);s=s.add(o.path.popLast());const m=Mg(f);r+=m-h.size,t.push(this.Nr.addEntry(e,o,f))}else if(r-=h.size,this.trackRemovals){const f=jR(this.Nr.serializer,u.convertToNoDocument(Ie.min()));t.push(this.Nr.addEntry(e,o,f))}})),s.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((r=>(this.Br.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:r,Or:s})=>(s.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:r.get(o).readTime})})),r)))}}function a1(n){return vn(n,fd)}function el(n){return vn(n,Cg)}function ff(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function o1(n,e){const t=e.documentKey.path.toArray();return[n,Ng(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function l1(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(s=ke(t[o],r[o]),s)return s;return s=ke(t.length,r.length),s||(s=ke(t[t.length-2],r[r.length-2]),s||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Yf(r.mutation,s,fr.empty(),tt.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Le()){const s=Gi();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=Nf();return o.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Gi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Le())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,r,s){let o=dr();const u=Qf(),h=(function(){return Qf()})();return t.forEach(((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof $s)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Yf(y.mutation,m,y.mutation.getFieldMask(),tt.now())):u.set(m.key,fr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new FB(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Qf();let s=new Et(((u,h)=>u-h)),o=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||fr.empty();y=h.applyToLocalView(m,y),r.set(f,y);const _=(s.get(h.batchId)||Le()).add(f);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,_=qD();y.forEach((w=>{if(!o.has(w)){const R=QD(t.get(w),r.get(w));R!==null&&_.set(w,R),o=o.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return X.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return Ee.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Fb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):X.resolve(Gi());let h=hc,f=o;return u.next((m=>X.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?X.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{f=f.insert(y,w)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,f,m,Le()))).next((y=>({batchId:h,changes:zD(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((r=>{let s=Nf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Nf();return this.indexManager.getCollectionParents(e,o).next((h=>X.forEach(h,(f=>{const m=(function(_,w){return new js(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next((y=>{y.forEach(((_,w)=>{u=u.insert(_,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Tt.newInvalidDocument(y)))}));let h=Nf();return u.forEach(((f,m)=>{const y=o.get(f);y!==void 0&&Yf(y.mutation,m,fr.empty(),tt.now()),Hd(t,m)&&(h=h.insert(f,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Jt(s.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:Qb(s.bundledQuery),readTime:Jt(s.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.overlays=new Et(Ee.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Gi();return X.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=Gi(),o=t.length+1,u=new Ee(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Et(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=Gi(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Gi(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=s)););return X.resolve(h)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Gb(t,r));let o=this.qr.get(t);o===void 0&&(o=Le(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.Qr=new lt(Sn.$r),this.Ur=new lt(Sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Sn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Sn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Ee(new He([])),r=new Sn(t,e),s=new Sn(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ee(new He([])),r=new Sn(t,e),s=new Sn(t,e+1);let o=Le();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new Sn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Sn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ee.comparator(e.key,t.key)||ke(e.Yr,t.Yr)}static Kr(e,t){return ke(e.Yr,t.Yr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new lt(Sn.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Hb(o,t,r,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new Sn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ha:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Sn(t,0),s=new Sn(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);return t.forEach((s=>{const o=new Sn(s,0),u=new Sn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{r=r.add(h.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Ee.isDocumentKey(o)||(o=o.child(""));const u=new Sn(new Ee(o),0);let h=new lt(ke);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(h=h.add(f.Yr)),!0)}),u),X.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Ae(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(t.mutations,(s=>{const o=new Sn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Sn(t,0),s=this.Zr.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.ri=e,this.docs=(function(){return new Et(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(t))}getEntries(e,t){let r=dr();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Tt.newInvalidDocument(s))})),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=dr();const u=t.path,h=new Ee(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||Db(iD(y),r)<=0||(s.has(y.key)||Hd(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Te(9500)}ii(e,t){return X.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new GB(this)}getSize(e){return X.resolve(this.size)}}class GB extends Sx{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.persistence=e,this.si=new Hs((t=>Al(t)),qd),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Jb,this.targetCount=0,this.ai=Ol.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Ol(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),X.waitFor(o).next((()=>s))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t){this.ui={},this.overlays={},this.ci=new hr(0),this.li=!1,this.li=!0,this.hi=new jB,this.referenceDelegate=e(this),this.Pi=new KB(this),this.indexManager=new DB,this.remoteDocumentCache=(function(s){return new $B(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mx(t),this.Ii=new zB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new HB(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const s=new WB(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class WB extends aD{constructor(e){super(),this.currentSequenceNumber=e}}class Sy{constructor(e){this.persistence=e,this.Ri=new Jb,this.Vi=null}static mi(e){return new Sy(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const s=Ee.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,Ie.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Vg{constructor(e,t){this.persistence=e,this.pi=new Hs((r=>Kn(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=Tx(this,t)}static mi(e,t){return new Vg(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?X.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((h=>{h||(r++,o.removeEntry(u,Ie.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zp(e.data.value)),t}br(e,t,r){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.serializer=e}k(e,t,r,s){const o=new dy("createOrUpgrade",t);r<1&&s>=1&&((function(f){f.createObjectStore(zd)})(e),(function(f){f.createObjectStore(hd,{keyPath:h9}),f.createObjectStore(hi,{keyPath:vR,autoIncrement:!0}).createIndex(dl,ER,{unique:!0}),f.createObjectStore(fc)})(e),u1(e),(function(f){f.createObjectStore(sl)})(e));let u=X.resolve();return r<3&&s>=3&&(r!==0&&((function(f){f.deleteObjectStore(mc),f.deleteObjectStore(dc),f.deleteObjectStore(El)})(e),u1(e)),u=u.next((()=>(function(f){const m=f.store(El),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ie.min().toTimestamp(),targetCount:0};return m.put(Pg,y)})(o)))),r<4&&s>=4&&(r!==0&&(u=u.next((()=>(function(f,m){return m.store(hi).J().next((_=>{f.deleteObjectStore(hi),f.createObjectStore(hi,{keyPath:vR,autoIncrement:!0}).createIndex(dl,ER,{unique:!0});const w=m.store(hi),R=_.map((S=>w.put(S)));return X.waitFor(R)}))})(e,o)))),u=u.next((()=>{(function(f){f.createObjectStore(pc,{keyPath:E9})})(e)}))),r<5&&s>=5&&(u=u.next((()=>this.yi(o)))),r<6&&s>=6&&(u=u.next((()=>((function(f){f.createObjectStore(fd)})(e),this.wi(o))))),r<7&&s>=7&&(u=u.next((()=>this.Si(o)))),r<8&&s>=8&&(u=u.next((()=>this.bi(e,o)))),r<9&&s>=9&&(u=u.next((()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&s>=10&&(u=u.next((()=>this.Di(o)))),r<11&&s>=11&&(u=u.next((()=>{(function(f){f.createObjectStore(my,{keyPath:w9})})(e),(function(f){f.createObjectStore(py,{keyPath:b9})})(e)}))),r<12&&s>=12&&(u=u.next((()=>{(function(f){const m=f.createObjectStore(gy,{keyPath:P9});m.createIndex(nw,O9,{unique:!1}),m.createIndex(mD,D9,{unique:!1})})(e)}))),r<13&&s>=13&&(u=u.next((()=>(function(f){const m=f.createObjectStore(Cg,{keyPath:d9});m.createIndex(Xp,m9),m.createIndex(cD,p9)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(sl)))),r<14&&s>=14&&(u=u.next((()=>this.Fi(e,o)))),r<15&&s>=15&&(u=u.next((()=>(function(f){f.createObjectStore(kb,{keyPath:T9,autoIncrement:!0}).createIndex(tw,S9,{unique:!1}),f.createObjectStore(Gf,{keyPath:A9}).createIndex(fD,I9,{unique:!1}),f.createObjectStore(Kf,{keyPath:R9}).createIndex(dD,C9,{unique:!1})})(e)))),r<16&&s>=16&&(u=u.next((()=>{t.objectStore(Gf).clear()})).next((()=>{t.objectStore(Kf).clear()}))),r<17&&s>=17&&(u=u.next((()=>{(function(f){f.createObjectStore(Mb,{keyPath:x9})})(e)}))),r<18&&s>=18&&MP()&&(u=u.next((()=>{t.objectStore(Gf).clear()})).next((()=>{t.objectStore(Kf).clear()}))),u}wi(e){let t=0;return e.store(sl).ee(((r,s)=>{t+=Mg(s)})).next((()=>{const r={byteSize:t};return e.store(fd).put(ew,r)}))}yi(e){const t=e.store(hd),r=e.store(hi);return t.J().next((s=>X.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,Ha],[o.userId,o.lastAcknowledgedBatchId]);return r.J(dl,u).next((h=>X.forEach(h,(f=>{Ae(f.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:f.batchId});const m=ll(this.serializer,f);return vx(e,o.userId,m).next((()=>{}))}))))}))))}Si(e){const t=e.store(mc),r=e.store(sl);return e.store(El).get(Pg).next((s=>{const o=[];return r.ee(((u,h)=>{const f=new He(u),m=(function(_){return[0,Kn(_)]})(f);o.push(t.get(m).next((y=>y?X.resolve():(_=>t.put({targetId:0,path:Kn(_),sequenceNumber:s.highestListenSequenceNumber}))(f))))})).next((()=>X.waitFor(o)))}))}bi(e,t){e.createObjectStore(dd,{keyPath:v9});const r=t.store(dd),s=new Xb,o=u=>{if(s.add(u)){const h=u.lastSegment(),f=u.popLast();return r.put({collectionId:h,parent:Kn(f)})}};return t.store(sl).ee({X:!0},((u,h)=>{const f=new He(u);return o(f.popLast())})).next((()=>t.store(fc).ee({X:!0},(([u,h,f],m)=>{const y=$i(h);return o(y.popLast())}))))}Di(e){const t=e.store(dc);return t.ee(((r,s)=>{const o=Mf(s),u=px(this.serializer,o);return t.put(u)}))}Ci(e,t){const r=t.store(sl),s=[];return r.ee(((o,u)=>{const h=t.store(Cg),f=(function(_){return _.document?new Ee(He.fromString(_.document.name).popFirst(5)):_.noDocument?Ee.fromSegments(_.noDocument.path):_.unknownDocument?Ee.fromSegments(_.unknownDocument.path):Te(36783)})(u).path.toArray(),m={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(m))})).next((()=>X.waitFor(s)))}Fi(e,t){const r=t.store(hi),s=Ax(this.serializer),o=new Zb(Sy.mi,this.serializer.yt);return r.J().next((u=>{const h=new Map;return u.forEach((f=>{let m=h.get(f.userId)??Le();ll(this.serializer,f).keys().forEach((y=>m=m.add(y))),h.set(f.userId,m)})),X.forEach(h,((f,m)=>{const y=new An(m),_=by.wt(this.serializer,y),w=o.getIndexManager(y),R=Ty.wt(y,this.serializer,w,o.referenceDelegate);return new Ix(s,R,_,w).recalculateAndSaveOverlaysForDocumentKeys(new rw(t,hr.ce),f).next()}))}))}}function u1(n){n.createObjectStore(mc,{keyPath:y9}).createIndex(Nb,_9,{unique:!0}),n.createObjectStore(dc,{keyPath:"targetId"}).createIndex(hD,g9,{unique:!0}),n.createObjectStore(El)}const ka="IndexedDbPersistence",vE=18e5,EE=5e3,wE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Rx="main";class eT{constructor(e,t,r,s,o,u,h,f,m,y,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Mi=o,this.window=u,this.document=h,this.xi=m,this.Oi=y,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=w=>Promise.resolve(),!eT.v())throw new de(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LB(this,s),this.$i=t+Rx,this.serializer=new mx(f),this.Ui=new Ki(this.$i,this.Ni,new QB(this.serializer)),this.hi=new AB,this.Pi=new NB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ax(this.serializer),this.Ii=new SB,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,y===!1&&Xt(ka,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(se.FAILED_PRECONDITION,wE);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new hr(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Np(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(fo(e))return me(ka,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return me(ka,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return df(e).get(Nu).next((t=>X.resolve(this.es(t))))}ts(e){return Np(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,vE)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=vn(t,pc);return r.J().next((s=>{const o=this.ss(s,vE),u=s.filter((h=>o.indexOf(h)===-1));return X.forEach(u,(h=>r.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?X.resolve(!0):df(e).get(Nu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,EE)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new de(se.FAILED_PRECONDITION,wE);return!1}}return!(!this.networkEnabled||!this.inForeground)||Np(e).J().next((r=>this.ss(r,EE).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&me(ka,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[zd,pc],(e=>{const t=new rw(e,hr.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((r=>this.rs(r.updateTimeMs,t)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Np(e).J().next((t=>this.ss(t,vE).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Ty.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xB(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return by.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,r){me(ka,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(f){return f===18?M9:f===17?_D:f===16?k9:f===15?Vb:f===14?yD:f===13?gD:f===12?N9:f===11?pD:void Te(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,s,o,(h=>(u=new rw(h,this.ci?this.ci.next():hr.ce),t==="readwrite-primary"?this.Hi(u).next((f=>!!f||this.Yi(u))).next((f=>{if(!f)throw Xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new de(se.FAILED_PRECONDITION,sD);return r(u)})).next((f=>this.Xi(u).next((()=>f)))):this.Is(u).next((()=>r(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return df(e).get(Nu).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,EE)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(se.FAILED_PRECONDITION,wE)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return df(e).put(Nu,t)}static v(){return Ki.v()}Zi(e){const t=df(e);return t.get(Nu).next((r=>this.es(r)?(me(ka,"Releasing primary lease."),t.delete(Nu)):X.resolve()))}rs(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Xt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){typeof this.window?.addEventListener=="function"&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;kP()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){try{const t=this.Ki?.getItem(this._s(e))!==null;return me(ka,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return Xt(ka,"Failed to get zombied client id.",t),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Xt("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function df(n){return vn(n,zd)}function Np(n){return vn(n,pc)}function tT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=Le(),s=Le();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new nT(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kP()?8:oD(kt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new YB;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Hu()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",$u(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Hu()<=je.DEBUG&&me("QueryEngine","Query:",$u(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Hu()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",$u(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ir(t))):X.resolve())}ys(e,t){if(NR(t))return X.resolve(null);let r=ir(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=xg(t,null,"F"),r=ir(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Le(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,r).next((f=>{const m=this.Ds(t,h);return this.Cs(t,m,u,f.readTime)?this.ys(e,xg(t,null,"F")):this.vs(e,m,t,f)}))))})))))}ws(e,t,r,s){return NR(t)||s.isEqual(Ie.min())?X.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?X.resolve(null):(Hu()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),$u(t)),this.vs(e,u,t,rD(s,hc)).next((h=>h)))}))}Ds(e,t){let r=new lt(BD(e));return t.forEach(((s,o)=>{Hd(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return Hu()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",$u(t)),this.ps.getDocumentsMatchingQuery(e,t,kr.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="LocalStore",XB=3e8;class JB{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Et(ke),this.xs=new Hs((o=>Al(o)),qd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ix(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function Px(n,e,t,r){return new JB(n,e,t,r)}async function Ox(n,e){const t=we(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],h=[];let f=Le();for(const m of s){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function ZB(n,e){const t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const _=m.batch,w=_.keys();let R=X.resolve();return w.forEach((S=>{R=R.next((()=>y.getEntry(f,S))).next((P=>{const x=m.docVersions.get(S);Ae(x!==null,48541),P.version.compareTo(x)<0&&(_.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),y.addEntry(P)))}))})),R.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let f=Le();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function Dx(n){const e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function eF(n,e){const t=we(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const w=s.get(_);if(!w)return;h.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,_))));let R=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?R=R.withResumeToken(Ft.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),s=s.insert(_,R),(function(P,x,$){return P.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=XB?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(w,R,y)&&h.push(t.Pi.updateTargetData(o,R))}));let f=dr(),m=Le();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(xx(o,u,e.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!r.isEqual(Ie.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(y)}return X.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(t.Ms=s,o)))}function xx(n,e,t){let r=Le(),s=Le();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=dr();return t.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):me(rT,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function tF(n,e){const t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ha),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function bc(n,e){const t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,X.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new Os(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function Tc(n,e,t){const r=we(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!fo(u))throw u;me(rT,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Lg(n,e,t){const r=we(n);let s=Ie.min(),o=Le();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,m,y){const _=we(f),w=_.xs.get(y);return w!==void 0?X.resolve(_.Ms.get(w)):_.Pi.getTargetData(m,y)})(r,u,ir(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Ie.min(),t?o:Le()))).next((h=>(Mx(r,UD(e),h),{documents:h,Qs:o})))))}function Nx(n,e){const t=we(n),r=we(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>r.At(o,e).next((u=>u?u.target:null))))}function kx(n,e){const t=we(n),r=t.Os.get(e)||Ie.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,rD(r,hc),Number.MAX_SAFE_INTEGER))).then((s=>(Mx(t,e,s),s)))}function Mx(n,e,t){let r=n.Os.get(e)||Ie.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}async function nF(n,e,t,r){const s=we(n);let o=Le(),u=dr();for(const m of t){const y=e.$s(m.metadata.name);m.document&&(o=o.add(y));const _=e.Us(m);_.setReadTime(e.Ks(m.metadata.readTime)),u=u.insert(y,_)}const h=s.Ns.newChangeBuffer({trackRemovals:!0}),f=await bc(s,(function(y){return ir(qc(He.fromString(`__bundle__/docs/${y}`)))})(r));return s.persistence.runTransaction("Apply bundle documents","readwrite",(m=>xx(m,h,u).next((y=>(h.apply(m),y))).next((y=>s.Pi.removeMatchingKeysForTargetId(m,f.targetId).next((()=>s.Pi.addMatchingKeys(m,o,f.targetId))).next((()=>s.localDocuments.getLocalViewOfDocuments(m,y.ks,y.qs))).next((()=>y.ks))))))}async function rF(n,e,t=Le()){const r=await bc(n,ir(Qb(e.bundledQuery))),s=we(n);return s.persistence.runTransaction("Save named query","readwrite",(o=>{const u=Jt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return s.Ii.saveNamedQuery(o,e);const h=r.withResumeToken(Ft.EMPTY_BYTE_STRING,u);return s.Ms=s.Ms.insert(h.targetId,h),s.Pi.updateTargetData(o,h).next((()=>s.Pi.removeMatchingKeysForTargetId(o,r.targetId))).next((()=>s.Pi.addMatchingKeys(o,t,r.targetId))).next((()=>s.Ii.saveNamedQuery(o,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="firestore_clients";function c1(n,e){return`${Vx}_${n}_${e}`}const Lx="firestore_mutations";function h1(n,e,t){let r=`${Lx}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Ux="firestore_targets";function bE(n,e){return`${Ux}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="SharedClientState";class Ug{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ws(e,t,r){const s=JSON.parse(r);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new de(s.error.code,s.error.message))),u?new Ug(e,t,s.state,o):(Xt(Li,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xf{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ws(e,t){const r=JSON.parse(t);let s,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(s=new de(r.error.code,r.error.message))),o?new Xf(e,r.state,s):(Xt(Li,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const r=JSON.parse(t);let s=typeof r=="object"&&r.activeTargetIds instanceof Array,o=zb();for(let u=0;s&&u<r.activeTargetIds.length;++u)s=lD(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return s?new Bg(e,o):(Xt(Li,`Failed to parse client data for instance '${e}': ${t}`),null)}}class iT{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new iT(t.clientId,t.onlineState):(Xt(Li,`Failed to parse online state: ${e}`),null)}}class _w{constructor(){this.activeTargetIds=zb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TE{constructor(e,t,r,s,o){this.window=e,this.Mi=t,this.persistenceKey=r,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Et(ke),this.started=!1,this.Xs=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=c1(this.persistenceKey,this.Js),this.no=(function(f){return`firestore_sequence_number_${f}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new _w),this.ro=new RegExp(`^${Vx}_${u}_([^_]*)$`),this.io=new RegExp(`^${Lx}_${u}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${Ux}_${u}_(\\d+)$`),this.oo=(function(f){return`firestore_online_state_${f}`})(this.persistenceKey),this._o=(function(f){return`firestore_bundle_loaded_v2_${f}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const r of e){if(r===this.Js)continue;const s=this.getItem(c1(this.persistenceKey,r));if(s){const o=Bg.Ws(r,s);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const r=this.uo(t);r&&this.co(r)}for(const r of this.Xs)this.Ys(r);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,r){this.ho(e,t,r),this.Po(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(bE(this.persistenceKey,e));if(s){const o=Xf.Ws(e,s);o&&(r=o.state)}}return t&&this.To.zs(e),this.ao(),r}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(bE(this.persistenceKey,e))}updateQueryState(e,t,r){this.Io(e,t,r)}handleUserChange(e,t,r){t.forEach((s=>{this.Po(s)})),this.currentUser=e,r.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return me(Li,"READ",e,t),t}setItem(e,t){me(Li,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){me(Li,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(me(Li,"EVENT",t.key,t.newValue),t.key===this.eo)return void Xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const r=this.Ro(t.key);return this.Vo(r,null)}{const r=this.mo(t.key,t.newValue);if(r)return this.Vo(r.clientId,r)}}else if(this.io.test(t.key)){if(t.newValue!==null){const r=this.fo(t.key,t.newValue);if(r)return this.po(r)}}else if(this.so.test(t.key)){if(t.newValue!==null){const r=this.yo(t.key,t.newValue);if(r)return this.wo(r)}}else if(t.key===this.oo){if(t.newValue!==null){const r=this.uo(t.newValue);if(r)return this.co(r)}}else if(t.key===this.no){const r=(function(o){let u=hr.ce;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number",30636,{So:o}),u=h}catch(h){Xt(Li,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);r!==hr.ce&&this.sequenceNumberHandler(r)}else if(t.key===this._o){const r=this.bo(t.newValue);await Promise.all(r.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,r){const s=new Ug(this.currentUser,e,t,r),o=h1(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Gs())}Po(e){const t=h1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,r){const s=bE(this.persistenceKey,e),o=new Xf(e,t,r);this.setItem(s,o.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const r=this.Ro(e);return Bg.Ws(r,t)}fo(e,t){const r=this.io.exec(e),s=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Ug.Ws(new An(o),s,t)}yo(e,t){const r=this.so.exec(e),s=Number(r[1]);return Xf.Ws(s,t)}uo(e){return iT.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);me(Li,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const r=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),o=this.lo(r),u=[],h=[];return o.forEach((f=>{s.has(f)||u.push(f)})),s.forEach((f=>{o.has(f)||h.push(f)})),this.syncEngine.Fo(u,h).then((()=>{this.Zs=r}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=zb();return e.forEach(((r,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class Bx{constructor(){this.Mo=new _w,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _w,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="ConnectivityMonitor";class d1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(f1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(f1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp=null;function vw(){return kp===null?kp=(function(){return 268435456+Math.round(2147483648*Math.random())})():kp++,"0x"+kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="RestConnection",sF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===iw?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=vw(),h=this.zo(e,t.toUriEncodedString());me(SE,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,o);const{host:m}=new URL(h),y=Mc(m);return this.Jo(e,h,f,r,y).then((_=>(me(SE,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw es(SE,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",r),_}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=sF[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class lF extends aF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=vw();return new Promise(((h,f)=>{const m=new GO;m.setWithCredentials(!0),m.listenOnce(KO.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Wp.NO_ERROR:const _=m.getResponseJson();me(qn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case Wp.TIMEOUT:me(qn,`RPC '${e}' ${u} timed out`),f(new de(se.DEADLINE_EXCEEDED,"Request time out"));break;case Wp.HTTP_ERROR:const w=m.getStatus();if(me(qn,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const S=R?.error;if(S&&S.status&&S.message){const P=(function($){const U=$.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(U)>=0?U:se.UNKNOWN})(S.status);f(new de(P,S.message))}else f(new de(se.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new de(se.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{me(qn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);me(qn,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",y,r,15)}))}T_(e,t,r){const s=vw(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=YO(),h=QO(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=o.join("");me(qn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const _=u.createWebChannel(y,f);this.I_(_);let w=!1,R=!1;const S=new oF({Yo:x=>{R?me(qn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(w||(me(qn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),w=!0),me(qn,`RPC '${e}' stream ${s} sending:`,x),_.send(x))},Zo:()=>_.close()}),P=(x,$,U)=>{x.listen($,(q=>{try{U(q)}catch(W){setTimeout((()=>{throw W}),0)}}))};return P(_,xf.EventType.OPEN,(()=>{R||(me(qn,`RPC '${e}' stream ${s} transport opened.`),S.o_())})),P(_,xf.EventType.CLOSE,(()=>{R||(R=!0,me(qn,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(_))})),P(_,xf.EventType.ERROR,(x=>{R||(R=!0,es(qn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),S.a_(new de(se.UNAVAILABLE,"The operation could not be completed")))})),P(_,xf.EventType.MESSAGE,(x=>{if(!R){const $=x.data[0];Ae(!!$,16349);const U=$,q=U?.error||U[0]?.error;if(q){me(qn,`RPC '${e}' stream ${s} received error:`,q);const W=q.status;let j=(function(I){const C=on[I];if(C!==void 0)return JD(C)})(W),H=q.message;j===void 0&&(j=se.INTERNAL,H="Unknown error status: "+W+" with message "+q.message),R=!0,S.a_(new de(j,H)),_.close()}else me(qn,`RPC '${e}' stream ${s} received:`,$),S.u_($)}})),P(h,WO.STAT_EVENT,(x=>{x.stat===XE.PROXY?me(qn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===XE.NOPROXY&&me(qn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(){return typeof window<"u"?window:null}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n){return new dB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="PersistentStream";class zx{constructor(e,t,r,s,o,u,h,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(Xt(t.toString()),Xt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new de(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(m1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(me(m1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uF extends zx{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=gB(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Ie.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Jt(u.readTime):Ie.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=dw(this.serializer),t.addTarget=(function(o,u){let h;const f=u.target;if(h=Og(f)?{documents:lx(o,f)}:{query:ux(o,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=nx(o,u.resumeToken);const m=hw(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=wc(o,u.snapshotVersion.toTimestamp());const m=hw(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const r=_B(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=dw(this.serializer),t.removeTarget=e,this.q_(t)}}class cF extends zx{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ae(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ae(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=yB(e.writeResults,e.commitTime),r=Jt(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=dw(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>vd(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{}class fF extends hF{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,fw(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(se.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,fw(t,r),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(se.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xt(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="RemoteStore";class mF{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{po(this)&&(me(Dl,"Restarting streams for network reachability change."),await(async function(f){const m=we(f);m.Ea.add(4),await $c(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Qd(m)})(this))}))})),this.Ra=new dF(r,s)}}async function Qd(n){if(po(n))for(const e of n.da)await e(!0)}async function $c(n){for(const e of n.da)await e(!1)}function Ay(n,e){const t=we(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),lT(t)?oT(t):Kc(t).O_()&&aT(t,e))}function Sc(n,e){const t=we(n),r=Kc(t);t.Ia.delete(e),r.O_()&&qx(t,e),t.Ia.size===0&&(r.O_()?r.L_():po(t)&&t.Ra.set("Unknown"))}function aT(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Kc(n).Y_(e)}function qx(n,e){n.Va.Ue(e),Kc(n).Z_(e)}function oT(n){n.Va=new uB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Kc(n).start(),n.Ra.ua()}function lT(n){return po(n)&&!Kc(n).x_()&&n.Ia.size>0}function po(n){return we(n).Ea.size===0}function jx(n){n.Va=void 0}async function pF(n){n.Ra.set("Online")}async function gF(n){n.Ia.forEach(((e,t)=>{aT(n,e)}))}async function yF(n,e){jx(n),lT(n)?(n.Ra.ha(e),oT(n)):n.Ra.set("Unknown")}async function _F(n,e,t){if(n.Ra.set("Online"),e instanceof tx&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,e)}catch(r){me(Dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fg(n,r)}else if(e instanceof ng?n.Va.Ze(e):e instanceof ex?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ie.min()))try{const r=await Dx(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,m)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(Ft.EMPTY_BYTE_STRING,y.snapshotVersion)),qx(o,f);const _=new Os(y.target,f,m,y.sequenceNumber);aT(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){me(Dl,"Failed to raise snapshot:",r),await Fg(n,r)}}async function Fg(n,e,t){if(!fo(e))throw e;n.Ea.add(1),await $c(n),n.Ra.set("Offline"),t||(t=()=>Dx(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{me(Dl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Qd(n)}))}function Hx(n,e){return e().catch((t=>Fg(n,t,e)))}async function Gc(n){const e=we(n),t=no(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ha;for(;vF(e);)try{const s=await tF(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,EF(e,s)}catch(s){await Fg(e,s)}$x(e)&&Gx(e)}function vF(n){return po(n)&&n.Ta.length<10}function EF(n,e){n.Ta.push(e);const t=no(n);t.O_()&&t.X_&&t.ea(e.mutations)}function $x(n){return po(n)&&!no(n).x_()&&n.Ta.length>0}function Gx(n){no(n).start()}async function wF(n){no(n).ra()}async function bF(n){const e=no(n);for(const t of n.Ta)e.ea(t.mutations)}async function TF(n,e,t){const r=n.Ta.shift(),s=$b.from(r,e,t);await Hx(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Gc(n)}async function SF(n,e){e&&no(n).X_&&await(async function(r,s){if((function(u){return XD(u)&&u!==se.ABORTED})(s.code)){const o=r.Ta.shift();no(r).B_(),await Hx(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Gc(r)}})(n,e),$x(n)&&Gx(n)}async function p1(n,e){const t=we(n);t.asyncQueue.verifyOperationInProgress(),me(Dl,"RemoteStore received new credentials");const r=po(t);t.Ea.add(3),await $c(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Qd(t)}async function Ew(n,e){const t=we(n);e?(t.Ea.delete(2),await Qd(t)):e||(t.Ea.add(2),await $c(t),t.Ra.set("Unknown"))}function Kc(n){return n.ma||(n.ma=(function(t,r,s){const o=we(t);return o.sa(),new uF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:pF.bind(null,n),t_:gF.bind(null,n),r_:yF.bind(null,n),H_:_F.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),lT(n)?oT(n):n.Ra.set("Unknown")):(await n.ma.stop(),jx(n))}))),n.ma}function no(n){return n.fa||(n.fa=(function(t,r,s){const o=we(t);return o.sa(),new cF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:wF.bind(null,n),r_:SF.bind(null,n),ta:bF.bind(null,n),na:TF.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Gc(n)):(await n.fa.stop(),n.Ta.length>0&&(me(Dl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,h=new uT(e,t,u,s,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(n,e){if(Xt("AsyncQueue",`${e}: ${n}`),fo(n))return new de(se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{static emptySet(e){return new nc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=Nf(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.ga=new Et(Ee.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Ac{constructor(e,t,r,s,o,u,h,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new Ac(e,t,nc.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class IF{constructor(){this.queries=y1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=we(t),o=s.queries;s.queries=y1(),o.forEach(((u,h)=>{for(const f of h.Sa)f.onError(r)}))})(this,new de(se.ABORTED,"Firestore shutting down"))}}function y1(){return new Hs((n=>LD(n)),jd)}async function cT(n,e){const t=we(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new AF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=Wc(u,`Initialization of query '${$u(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&fT(t)}async function hT(n,e){const t=we(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function RF(n,e){const t=we(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(r=!0);u.wa=s}}r&&fT(t)}function CF(n,e,t){const r=we(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function fT(n){n.Ca.forEach((e=>{e.next()}))}var ww,_1;(_1=ww||(ww={})).Ma="default",_1.Cache="cache";class dT{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ac(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ac.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ww.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.serializer=e}$s(e){return Wi(this.serializer,e)}Us(e){return e.metadata.exists?ox(this.serializer,e.document,!1):Tt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Jt(e)}}class OF{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=Kx(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const r=He.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,r=new v1(this.serializer);for(const s of e)if(s.metadata.queries){const o=r.$s(s.metadata.name);for(const u of s.metadata.queries){const h=(t.get(u)||Le()).add(o);t.set(u,h)}}return t}async ja(e){const t=await nF(e,new v1(this.serializer),this.Wa,this.Ua.id),r=this.za(this.documents);for(const s of this.Ka)await rF(e,s,r.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function Kx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.key=e}}class Qx{constructor(e){this.key=e}}class Yx{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=BD(e),this.tu=new nc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new g1,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const w=s.get(y),R=Hd(this.query,_)?_:null,S=!!w&&this.mutatedKeys.has(w.key),P=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let x=!1;w&&R?w.data.isEqual(R.data)?S!==P&&(r.track({type:3,doc:R}),x=!0):this.su(w,R)||(r.track({type:2,doc:R}),x=!0,(f&&this.eu(R,f)>0||m&&this.eu(R,m)<0)&&(h=!0)):!w&&R?(r.track({type:0,doc:R}),x=!0):w&&!R&&(r.track({type:1,doc:w}),x=!0,(f||m)&&(h=!0)),x&&(R?(u=u.add(R),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(R,S){const P=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:x})}};return P(R)-P(S)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(r),s=s??!1;const h=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,m=f!==this.Za;return this.Za=f,u.length!==0||m?{snapshot:new Ac(this.query,e.tu,o,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new g1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Qx(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Wx(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ac.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const go="SyncEngine";class DF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class xF{constructor(e){this.key=e,this.hu=!1}}class NF{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Hs((h=>LD(h)),jd),this.Iu=new Map,this.Eu=new Set,this.du=new Et(Ee.comparator),this.Au=new Map,this.Ru=new Jb,this.Vu={},this.mu=new Map,this.fu=Ol.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kF(n,e,t=!0){const r=Iy(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await Xx(r,e,t,!0),s}async function MF(n,e){const t=Iy(n);await Xx(t,e,!0,!1)}async function Xx(n,e,t,r){const s=await bc(n.localStore,ir(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await mT(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Ay(n.remoteStore,s),h}async function mT(n,e,t,r,s){n.pu=(_,w,R)=>(async function(P,x,$,U){let q=x.view.ru($);q.Cs&&(q=await Lg(P.localStore,x.query,!1).then((({documents:k})=>x.view.ru(k,q))));const W=U&&U.targetChanges.get(x.targetId),j=U&&U.targetMismatches.get(x.targetId)!=null,H=x.view.applyChanges(q,P.isPrimaryClient,W,j);return bw(P,x.targetId,H.au),H.snapshot})(n,_,w,R);const o=await Lg(n.localStore,e,!0),u=new Yx(e,o.Qs),h=u.ru(o.documents),f=Kd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(h,n.isPrimaryClient,f);bw(n,t,m.au);const y=new DF(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function VF(n,e,t){const r=we(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!jd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Tc(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Sc(r.remoteStore,s.targetId),Ic(r,s.targetId)})).catch(ho)):(Ic(r,s.targetId),await Tc(r.localStore,s.targetId,!0))}async function LF(n,e){const t=we(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Sc(t.remoteStore,r.targetId))}async function UF(n,e,t){const r=_T(n);try{const s=await(function(u,h){const f=we(u),m=tt.now(),y=h.reduce(((R,S)=>R.add(S.key)),Le());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let S=dr(),P=Le();return f.Ns.getEntries(R,y).next((x=>{S=x,S.forEach((($,U)=>{U.isValidDocument()||(P=P.add($))}))})).next((()=>f.localDocuments.getOverlayedDocuments(R,S))).next((x=>{_=x;const $=[];for(const U of h){const q=aB(U,_.get(U.key).overlayedDocument);q!=null&&$.push(new $s(U.key,q,CD(q.value.mapValue),Pt.exists(!0)))}return f.mutationQueue.addMutationBatch(R,m,$,h)})).next((x=>{w=x;const $=x.applyToLocalDocumentSet(_,P);return f.documentOverlayCache.saveOverlays(R,x.batchId,$)}))})).then((()=>({batchId:w.batchId,changes:zD(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,h,f){let m=u.Vu[u.currentUser.toKey()];m||(m=new Et(ke)),m=m.insert(h,f),u.Vu[u.currentUser.toKey()]=m})(r,s.batchId,t),await Gs(r,s.changes),await Gc(r.remoteStore)}catch(s){const o=Wc(s,"Failed to persist write");t.reject(o)}}async function Jx(n,e){const t=we(n);try{const r=await eF(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Ae(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Ae(u.hu,14607):s.removedDocuments.size>0&&(Ae(u.hu,42227),u.hu=!1))})),await Gs(t,r,e)}catch(r){await ho(r)}}function E1(n,e,t){const r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const f=we(u);f.onlineState=h;let m=!1;f.queries.forEach(((y,_)=>{for(const w of _.Sa)w.va(h)&&(m=!0)})),m&&fT(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BF(n,e,t){const r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new Et(Ee.comparator);u=u.insert(o,Tt.newNoDocument(o,Ie.min()));const h=Le().add(o),f=new Gd(Ie.min(),new Map,new Et(ke),u,h);await Jx(r,f),r.du=r.du.remove(o),r.Au.delete(e),yT(r)}else await Tc(r.localStore,e,!1).then((()=>Ic(r,e,t))).catch(ho)}async function FF(n,e){const t=we(n),r=e.batch.batchId;try{const s=await ZB(t.localStore,e);gT(t,r,null),pT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Gs(t,s)}catch(s){await ho(s)}}async function zF(n,e,t){const r=we(n);try{const s=await(function(u,h){const f=we(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((_=>(Ae(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(m,_)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(r.localStore,e);gT(r,e,t),pT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Gs(r,s)}catch(s){await ho(s)}}async function qF(n,e){const t=we(n);po(t.remoteStore)||me(go,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(u){const h=we(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(f=>h.mutationQueue.getHighestUnacknowledgedBatchId(f)))})(t.localStore);if(r===Ha)return void e.resolve();const s=t.mu.get(r)||[];s.push(e),t.mu.set(r,s)}catch(r){const s=Wc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function pT(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function gT(n,e,t){const r=we(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Ic(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Zx(n,r)}))}function Zx(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Sc(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),yT(n))}function bw(n,e,t){for(const r of t)r instanceof Wx?(n.Ru.addReference(r.key,e),jF(n,r)):r instanceof Qx?(me(go,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Zx(n,r.key)):Te(19791,{wu:r})}function jF(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(me(go,"New document in limbo: "+t),n.Eu.add(r),yT(n))}function yT(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ee(He.fromString(e)),r=n.fu.next();n.Au.set(r,new xF(t)),n.du=n.du.insert(t,r),Ay(n.remoteStore,new Os(ir(qc(t.path)),r,"TargetPurposeLimboResolution",hr.ce))}}async function Gs(n,e,t){const r=we(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,f)=>{u.push(r.pu(f,e,t).then((m=>{if((m||t)&&r.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){s.push(m);const y=nT.As(f.targetId,m);o.push(y)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,m){const y=we(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>X.forEach(m,(w=>X.forEach(w.Es,(R=>y.persistence.referenceDelegate.addReference(_,w.targetId,R))).next((()=>X.forEach(w.ds,(R=>y.persistence.referenceDelegate.removeReference(_,w.targetId,R)))))))))}catch(_){if(!fo(_))throw _;me(rT,"Failed to update sequence numbers: "+_)}for(const _ of m){const w=_.targetId;if(!_.fromCache){const R=y.Ms.get(w),S=R.snapshotVersion,P=R.withLastLimboFreeSnapshotVersion(S);y.Ms=y.Ms.insert(w,P)}}})(r.localStore,o))}async function HF(n,e){const t=we(n);if(!t.currentUser.isEqual(e)){me(go,"User change. New user:",e.toKey());const r=await Ox(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new de(se.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gs(t,r.Ls)}}function $F(n,e){const t=we(n),r=t.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let s=Le();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}async function GF(n,e){const t=we(n),r=await Lg(t.localStore,e.query,!0),s=e.view.cu(r);return t.isPrimaryClient&&bw(t,e.targetId,s.au),s}async function KF(n,e){const t=we(n);return kx(t.localStore,e).then((r=>Gs(t,r)))}async function WF(n,e,t,r){const s=we(n),o=await(function(h,f){const m=we(h),y=we(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(_=>y.er(_,f).next((w=>w?m.localDocuments.getDocuments(_,w):X.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await Gc(s.remoteStore):t==="acknowledged"||t==="rejected"?(gT(s,e,r||null),pT(s,e),(function(h,f){we(we(h).mutationQueue).ir(f)})(s.localStore,e)):Te(6720,"Unknown batchState",{Su:t}),await Gs(s,o)):me(go,"Cannot apply mutation batch with id: "+e)}async function QF(n,e){const t=we(n);if(Iy(t),_T(t),e===!0&&t.gu!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),s=await w1(t,r.toArray());t.gu=!0,await Ew(t.remoteStore,!0);for(const o of s)Ay(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const r=[];let s=Promise.resolve();t.Iu.forEach(((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):s=s.then((()=>(Ic(t,u),Tc(t.localStore,u,!0)))),Sc(t.remoteStore,u)})),await s,await w1(t,r),(function(u){const h=we(u);h.Au.forEach(((f,m)=>{Sc(h.remoteStore,m)})),h.Ru.Jr(),h.Au=new Map,h.du=new Et(Ee.comparator)})(t),t.gu=!1,await Ew(t.remoteStore,!1)}}async function w1(n,e,t){const r=we(n),s=[],o=[];for(const u of e){let h;const f=r.Iu.get(u);if(f&&f.length!==0){h=await bc(r.localStore,ir(f[0]));for(const m of f){const y=r.Tu.get(m),_=await GF(r,y);_.snapshot&&o.push(_.snapshot)}}else{const m=await Nx(r.localStore,u);h=await bc(r.localStore,m),await mT(r,eN(m),u,!1,h.resumeToken)}s.push(h)}return r.Pu.H_(o),s}function eN(n){return VD(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YF(n){return(function(t){return we(we(t).persistence).Ts()})(we(n).localStore)}async function XF(n,e,t,r){const s=we(n);if(s.gu)return void me(go,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await kx(s.localStore,UD(o[0])),h=Gd.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Ft.EMPTY_BYTE_STRING);await Gs(s,u,h);break}case"rejected":await Tc(s.localStore,e,!0),Ic(s,e,r);break;default:Te(64155,t)}}async function JF(n,e,t){const r=Iy(n);if(r.gu){for(const s of e){if(r.Iu.has(s)&&r.sharedClientState.isActiveQueryTarget(s)){me(go,"Adding an already active target "+s);continue}const o=await Nx(r.localStore,s),u=await bc(r.localStore,o);await mT(r,eN(o),u.targetId,!1,u.resumeToken),Ay(r.remoteStore,u)}for(const s of t)r.Iu.has(s)&&await Tc(r.localStore,s,!1).then((()=>{Sc(r.remoteStore,s),Ic(r,s)})).catch(ho)}}function Iy(n){const e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$F.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BF.bind(null,e),e.Pu.H_=RF.bind(null,e.eventManager),e.Pu.yu=CF.bind(null,e.eventManager),e}function _T(n){const e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zF.bind(null,e),e}function ZF(n,e,t){const r=we(n);(async function(o,u,h){try{const f=await u.getMetadata();if(await(function(R,S){const P=we(R),x=Jt(S.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",($=>P.Ii.getBundleMetadata($,S.id))).then(($=>!!$&&$.createTime.compareTo(x)>=0))})(o.localStore,f))return await u.close(),h._completeWith((function(R){return{taskState:"Success",documentsLoaded:R.totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}})(f)),Promise.resolve(new Set);h._updateProgress(Kx(f));const m=new OF(f,u.serializer);let y=await u.bu();for(;y;){const w=await m.Ga(y);w&&h._updateProgress(w),y=await u.bu()}const _=await m.ja(o.localStore);return await Gs(o,_.Ha,void 0),await(function(R,S){const P=we(R);return P.persistence.runTransaction("Save bundle","readwrite",(x=>P.Ii.saveBundleMetadata(x,S)))})(o.localStore,f),h._completeWith(_.progress),Promise.resolve(_.Ja)}catch(f){return es(go,`Loading bundle failed with ${f}`),h._failWith(f),Promise.resolve(new Set)}})(r,e,t).then((s=>{r.sharedClientState.notifyBundleLoaded(s)}))}class Ed{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Px(this.persistence,new Cx,e.initialUser,this.serializer)}Cu(e){return new Zb(Sy.mi,this.serializer)}Du(e){return new Bx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ed.provider={build:()=>new Ed};class ez extends Ed{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ae(this.persistence.referenceDelegate instanceof Vg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bx(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Zb((r=>Vg.mi(r,t)),this.serializer)}}class tN extends Ed{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await _T(this.xu.syncEngine),await Gc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return Px(this.persistence,new Cx,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new bx(r,e.asyncQueue,t)}Mu(e,t){const r=new u9(t,this.persistence);return new l9(e.asyncQueue,r)}Cu(e){const t=tT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new eT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Fx(),ig(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Bx}}class tz extends tN{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof TE&&(this.sharedClientState.syncEngine={Co:WF.bind(null,t),vo:XF.bind(null,t),Fo:JF.bind(null,t),Ts:YF.bind(null,t),Do:KF.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async r=>{await QF(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const t=Fx();if(!TE.v(t))throw new de(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class wd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>E1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HF.bind(null,this.syncEngine),await Ew(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new IF})()}createDatastore(e){const t=Wd(e.databaseInfo.databaseId),r=(function(o){return new lF(o)})(e.databaseInfo);return(function(o,u,h,f){return new fF(o,u,h,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,h){return new mF(r,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>E1(this.syncEngine,t,0)),(function(){return d1.v()?new d1:new iF})())}createSyncEngine(e,t){return(function(s,o,u,h,f,m,y){const _=new NF(s,o,u,h,f,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=we(t);me(Dl,"RemoteStore shutting down."),r.Ea.add(5),await $c(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wd.provider={build:()=>new wd};function b1(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new Vn,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.$a()?this.metadata.resolve(r.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.Qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),r=Number(t);isNaN(r)&&this.Qu(`length string (${t}) is not valid number`);const s=await this.$u(r);return new PF(JSON.parse(s),e.length+r)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const u=we(s),h={documents:o.map((_=>_d(u.serializer,_)))},f=await u.Ho("BatchGetDocuments",u.serializer.databaseId,He.emptyPath(),h,o.length),m=new Map;f.forEach((_=>{const w=pB(u.serializer,_);m.set(w.key.toString(),w)}));const y=[];return o.forEach((_=>{const w=m.get(_.toString());Ae(!!w,55234,{key:_}),y.push(w)})),y})(this.datastore,e);return t.forEach((r=>this.recordVersion(r))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Hc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,r)=>{const s=Ee.fromPath(r);this.mutations.push(new jb(s,this.precondition(s)))})),await(async function(r,s){const o=we(r),u={writes:s.map((h=>vd(o.serializer,h)))};await o.Go("Commit",o.serializer.databaseId,He.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Te(50498,{Gu:e.constructor.name});t=Ie.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Ie.min())?Pt.exists(!1):Pt.updateTime(t):Pt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ie.min()))throw new de(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pt.updateTime(t)}return Pt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,t,r,s,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=o,this.zu=r.maxAttempts,this.M_=new sT(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new rz(this.datastore),t=this.Hu(e);t&&t.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((s=>{this.Yu(s)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Fd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if(e?.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!XD(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="FirestoreClient";class sz{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=An.UNAUTHENTICATED,this.clientId=Pb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{me(ro,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(me(ro,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Wc(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function AE(n,e){n.asyncQueue.verifyOperationInProgress(),me(ro,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await Ox(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function T1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await vT(n);me(ro,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>p1(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>p1(e.remoteStore,s))),n._onlineComponents=e}async function vT(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me(ro,"Using user provided OfflineComponentProvider");try{await AE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;es("Error using user provided cache. Falling back to memory cache: "+t),await AE(n,new Ed)}}else me(ro,"Using default OfflineComponentProvider"),await AE(n,new ez(void 0));return n._offlineComponents}async function Cy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me(ro,"Using user provided OnlineComponentProvider"),await T1(n,n._uninitializedComponentsProvider._online)):(me(ro,"Using default OnlineComponentProvider"),await T1(n,new wd))),n._onlineComponents}function nN(n){return vT(n).then((e=>e.persistence))}function ET(n){return vT(n).then((e=>e.localStore))}function rN(n){return Cy(n).then((e=>e.remoteStore))}function wT(n){return Cy(n).then((e=>e.syncEngine))}function az(n){return Cy(n).then((e=>e.datastore))}async function Rc(n){const e=await Cy(n),t=e.eventManager;return t.onListen=kF.bind(null,e.syncEngine),t.onUnlisten=VF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LF.bind(null,e.syncEngine),t}function oz(n){return n.asyncQueue.enqueue((async()=>{const e=await nN(n),t=await rN(n);return e.setNetworkEnabled(!0),(function(s){const o=we(s);return o.Ea.delete(0),Qd(o)})(t)}))}function lz(n){return n.asyncQueue.enqueue((async()=>{const e=await nN(n),t=await rN(n);return e.setNetworkEnabled(!1),(async function(s){const o=we(s);o.Ea.add(0),await $c(o),o.Ra.set("Offline")})(t)}))}function uz(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await(function(m,y){const _=we(m);return _.persistence.runTransaction("read document","readonly",(w=>_.localDocuments.getDocument(w,y)))})(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const f=Wc(h,`Failed to get document '${o} from cache`);u.reject(f)}})(await ET(n),e,t))),t.promise}function iN(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,m){const y=new Ry({next:w=>{y.Nu(),u.enqueueAndForget((()=>hT(o,_)));const R=w.docs.has(h);!R&&w.fromCache?m.reject(new de(se.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&w.fromCache&&f&&f.source==="server"?m.reject(new de(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new dT(qc(h.path),y,{includeMetadataChanges:!0,qa:!0});return cT(o,_)})(await Rc(n),n.asyncQueue,e,t,r))),r.promise}function cz(n,e){const t=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await Lg(s,o,!0),f=new Yx(o,h.Qs),m=f.ru(h.documents),y=f.applyChanges(m,!1);u.resolve(y.snapshot)}catch(h){const f=Wc(h,`Failed to execute query '${o} against cache`);u.reject(f)}})(await ET(n),e,t))),t.promise}function sN(n,e,t={}){const r=new Vn;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,f,m){const y=new Ry({next:w=>{y.Nu(),u.enqueueAndForget((()=>hT(o,_))),w.fromCache&&f.source==="server"?m.reject(new de(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),_=new dT(h,y,{includeMetadataChanges:!0,qa:!0});return cT(o,_)})(await Rc(n),n.asyncQueue,e,t,r))),r.promise}function hz(n,e){const t=new Ry(e);return n.asyncQueue.enqueueAndForget((async()=>(function(s,o){we(s).Ca.add(o),o.next()})(await Rc(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(s,o){we(s).Ca.delete(o)})(await Rc(n),t)))}}function fz(n,e,t,r){const s=(function(u,h){let f;return f=typeof u=="string"?ZD().encode(u):u,(function(y,_){return new nz(y,_)})((function(y,_){if(y instanceof Uint8Array)return b1(y,_);if(y instanceof ArrayBuffer)return b1(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(f),h)})(t,Wd(e));n.asyncQueue.enqueueAndForget((async()=>{ZF(await wT(n),s,r)}))}function dz(n,e){return n.asyncQueue.enqueue((async()=>(function(r,s){const o=we(r);return o.persistence.runTransaction("Get named query","readonly",(u=>o.Ii.getNamedQuery(u,s)))})(await ET(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="firestore.googleapis.com",A1=!0;class I1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oN,this.ssl=A1}else this.host=e.host,this.ssl=e.ssl??A1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_x;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kB)throw new de(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Y6;switch(r.type){case"firstParty":return new e9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=S1.get(t);r&&(me("ComponentProvider","Removing Datastore"),S1.delete(t),r.terminate())})(this),Promise.resolve()}}function mz(n,e,t,r={}){n=Xe(n,Yd);const s=Mc(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(PP(`https://${h}`),OP("Firestore",!0)),o.host!==oN&&o.host!==h&&es("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:s,emulatorOptions:r};if(!Ms(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=An.MOCK_USER;else{m=e4(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new An(_)}n._authCredentials=new X6(new JO(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr=class lN{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lN(this.firestore,e,this._query)}},vt=class Vf{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vf(this.firestore,e,this._key)}toJSON(){return{type:Vf._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Bd(t,Vf._jsonSchema))return new Vf(e,r||null,new Ee(He.fromString(t.referencePath)))}};vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:hn("string",vt._jsonSchemaVersion),referencePath:hn("string")};let $a=class uN extends sr{constructor(e,t,r){super(e,t,qc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new Ee(e))}withConverter(e){return new uN(this.firestore,e,this._path)}};function cN(n,e,...t){if(n=Pe(n),Ob("collection","path",e),n instanceof Yd){const r=He.fromString(e,...t);return mR(r),new $a(n,null,r)}{if(!(n instanceof vt||n instanceof $a))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return mR(r),new $a(n.firestore,null,r)}}function pz(n,e){if(n=Xe(n,Yd),Ob("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(se.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new sr(n,null,(function(r){return new js(He.emptyPath(),r)})(e))}function zg(n,e,...t){if(n=Pe(n),arguments.length===1&&(e=Pb.newId()),Ob("doc","path",e),n instanceof Yd){const r=He.fromString(e,...t);return dR(r),new vt(n,null,new Ee(r))}{if(!(n instanceof vt||n instanceof $a))throw new de(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(He.fromString(e,...t));return dR(r),new vt(n.firestore,n instanceof $a?n.converter:null,new Ee(r))}}function hN(n,e){return n=Pe(n),e=Pe(e),(n instanceof vt||n instanceof $a)&&(e instanceof vt||e instanceof $a)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fN(n,e){return n=Pe(n),e=Pe(e),n instanceof sr&&e instanceof sr&&n.firestore===e.firestore&&jd(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="AsyncQueue";class C1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const r=ig();r&&me(R1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ig();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ig();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Vn;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fo(e))throw e;me(R1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Xt("INTERNAL UNHANDLED ERROR: ",P1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=uT.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Te(47125,{Pc:P1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function P1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class gz{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=-1;let Zt=class extends Yd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new C1,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C1(e),this._firestoreClient=void 0,await e}}};function Wn(n){if(n._terminated)throw new de(se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dN(n),n._firestoreClient}function dN(n){const e=n._freezeSettings(),t=(function(s,o,u,h){return new U9(s,o,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aN(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new sz(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}function _z(n,e){es("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return mN(n,wd.provider,{build:r=>new tN(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function vz(n){es("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();mN(n,wd.provider,{build:t=>new tz(t,e.cacheSizeBytes)})}function mN(n,e,t){if((n=Xe(n,Zt))._firestoreClient||n._terminated)throw new de(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(se.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},dN(n)}function Ez(n){if(n._initialized&&!n._terminated)throw new de(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vn;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ki.v())return Promise.resolve();const s=r+Rx;await Ki.delete(s)})(tT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function wz(n){return(function(t){const r=new Vn;return t.asyncQueue.enqueueAndForget((async()=>qF(await wT(t),r))),r.promise})(Wn(n=Xe(n,Zt)))}function bz(n){return oz(Wn(n=Xe(n,Zt)))}function Tz(n){return lz(Wn(n=Xe(n,Zt)))}function Sz(n,e){const t=Wn(n=Xe(n,Zt)),r=new gz;return fz(t,n._databaseId,e,r),r}function Az(n,e){return dz(Wn(n=Xe(n,Zt)),e).then((t=>t?new sr(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Ft.fromBase64String(e))}catch(t){throw new de(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $n(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bd(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:hn("string",$n._jsonSchemaVersion),bytes:hn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let io=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(Bd(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:hn("string",pi._jsonSchemaVersion),latitude:hn("number"),longitude:hn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bd(e,Qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Qi(e.vectorValues);throw new de(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:hn("string",Qi._jsonSchemaVersion),vectorValues:hn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=/^__.*__$/;class Rz{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,t,this.fieldTransforms):new jc(e,this.data,t,this.fieldTransforms)}}class pN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $s(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:n})}}class Py{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Py({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(gN(this.Ac)&&Iz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Cz{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Wd(e)}Cc(e,t,r,s=!1){return new Py({Ac:e,methodName:t,Dc:r,path:Ct.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fl(n){const e=n._freezeSettings(),t=Wd(n._databaseId);return new Cz(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Oy(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);CT("Data must be an object, but it was:",u,r);const h=vN(r,u);let f,m;if(o.merge)f=new fr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const w=Sw(e,_,t);if(!u.contains(w))throw new de(se.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);wN(y,w)||y.push(w)}f=new fr(y),m=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,m=u.fieldTransforms;return new Rz(new Mn(h),f,m)}class Xd extends Bl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function yN(n,e,t){return new Py({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bT extends Bl{_toFieldTransform(e){return new $d(e.path,new vc)}isEqual(e){return e instanceof bT}}class TT extends Bl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=yN(this,e,!0),r=this.vc.map((o=>zl(o,t))),s=new Il(r);return new $d(e.path,s)}isEqual(e){return e instanceof TT&&Ms(this.vc,e.vc)}}class ST extends Bl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=yN(this,e,!0),r=this.vc.map((o=>zl(o,t))),s=new Rl(r);return new $d(e.path,s)}isEqual(e){return e instanceof ST&&Ms(this.vc,e.vc)}}class AT extends Bl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Ec(e.serializer,HD(e.serializer,this.Fc));return new $d(e.path,t)}isEqual(e){return e instanceof AT&&this.Fc===e.Fc}}function IT(n,e,t,r){const s=n.Cc(1,e,t);CT("Data must be an object, but it was:",s,r);const o=[],u=Mn.empty();mo(r,((f,m)=>{const y=PT(e,f,t);m=Pe(m);const _=s.yc(y);if(m instanceof Xd)o.push(y);else{const w=zl(m,_);w!=null&&(o.push(y),u.set(y,w))}}));const h=new fr(o);return new pN(u,h,s.fieldTransforms)}function RT(n,e,t,r,s,o){const u=n.Cc(1,e,t),h=[Sw(e,r,t)],f=[s];if(o.length%2!=0)throw new de(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)h.push(Sw(e,o[w])),f.push(o[w+1]);const m=[],y=Mn.empty();for(let w=h.length-1;w>=0;--w)if(!wN(m,h[w])){const R=h[w];let S=f[w];S=Pe(S);const P=u.yc(R);if(S instanceof Xd)m.push(R);else{const x=zl(S,P);x!=null&&(m.push(R),y.set(R,x))}}const _=new fr(m);return new pN(y,_,u.fieldTransforms)}function _N(n,e,t,r=!1){return zl(t,n.Cc(r?4:3,e))}function zl(n,e){if(EN(n=Pe(n)))return CT("Unsupported field value:",e,n),vN(n,e);if(n instanceof Bl)return(function(r,s){if(!gN(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const h of r){let f=zl(h,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=Pe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=tt.fromDate(r);return{timestampValue:wc(s.serializer,o)}}if(r instanceof tt){const o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wc(s.serializer,o)}}if(r instanceof pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:nx(s.serializer,r._byteString)};if(r instanceof vt){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Wb(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Qi)return(function(u,h){return{mapValue:{fields:{[Lb]:{stringValue:Ub},[gc]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return qb(h.serializer,m)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${fy(r)}`)})(n,e)}function vN(n,e){const t={};return vD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(n,((r,s)=>{const o=zl(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function EN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof pi||n instanceof $n||n instanceof vt||n instanceof Bl||n instanceof Qi)}function CT(n,e,t){if(!EN(t)||!tD(t)){const r=fy(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function Sw(n,e,t){if((e=Pe(e))instanceof io)return e._internalPath;if(typeof e=="string")return PT(n,e);throw qg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Pz=new RegExp("[~\\*/\\[\\]]");function PT(n,e,t){if(e.search(Pz)>=0)throw qg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new io(...e.split("."))._internalPath}catch{throw qg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qg(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new de(se.INVALID_ARGUMENT,h+n+f)}function wN(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Oz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Dy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Oz extends bd{data(){return super.data()}}function Dy(n,e){return typeof e=="string"?PT(n,e):e instanceof io?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OT{}class Jd extends OT{}function Ma(n,e,...t){let r=[];e instanceof OT&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((f=>f instanceof DT)).length,h=o.filter((f=>f instanceof xy)).length;if(u>1||u>0&&h>0)throw new de(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class xy extends Jd{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new xy(e,t,r)}_apply(e){const t=this._parse(e);return SN(e._query,t),new sr(e.firestore,e.converter,cw(e._query,t))}_parse(e){const t=Fl(e.firestore);return(function(o,u,h,f,m,y,_){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new de(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){D1(_,y);const S=[];for(const P of _)S.push(O1(f,o,P));w={arrayValue:{values:S}}}else w=O1(f,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||D1(_,y),w=_N(h,u,_,y==="in"||y==="not-in");return Ge.create(m,y,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Dz(n,e,t){const r=e,s=Dy("where",n);return xy._create(s,r,t)}class DT extends OT{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new DT(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const f of h)SN(u,f),u=cw(u,f)})(e._query,t),new sr(e.firestore,e.converter,cw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xT extends Jd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xT(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new de(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yd(o,u)})(e._query,this._field,this._direction);return new sr(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new js(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function xz(n,e="asc"){const t=e,r=Dy("orderBy",n);return xT._create(r,t)}class Ny extends Jd{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Ny(e,t,r)}_apply(e){return new sr(e.firestore,e.converter,xg(e._query,this._limit,this._limitType))}}function Nz(n){return nD("limit",n),Ny._create("limit",n,"F")}function kz(n){return nD("limitToLast",n),Ny._create("limitToLast",n,"L")}class ky extends Jd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ky(e,t,r)}_apply(e){const t=TN(e,this.type,this._docOrFields,this._inclusive);return new sr(e.firestore,e.converter,(function(s,o){return new js(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)})(e._query,t))}}function Mz(...n){return ky._create("startAt",n,!0)}function Vz(...n){return ky._create("startAfter",n,!1)}class My extends Jd{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new My(e,t,r)}_apply(e){const t=TN(e,this.type,this._docOrFields,this._inclusive);return new sr(e.firestore,e.converter,(function(s,o){return new js(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)})(e._query,t))}}function Lz(...n){return My._create("endBefore",n,!1)}function Uz(...n){return My._create("endAt",n,!0)}function TN(n,e,t,r){if(t[0]=Pe(t[0]),t[0]instanceof bd)return(function(o,u,h,f,m){if(!f)throw new de(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const _ of tc(o))if(_.field.isKeyField())y.push(Sl(u,f.key));else{const w=f.data.field(_.field);if(yy(w))throw new de(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const R=_.field.canonicalString();throw new de(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}y.push(w)}return new to(y,m)})(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Fl(n.firestore);return(function(u,h,f,m,y,_){const w=u.explicitOrderBy;if(y.length>w.length)throw new de(se.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let S=0;S<y.length;S++){const P=y[S];if(w[S].field.isKeyField()){if(typeof P!="string")throw new de(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!Fb(u)&&P.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const x=u.path.child(He.fromString(P));if(!Ee.isDocumentKey(x))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const $=new Ee(x);R.push(Sl(h,$))}else{const x=_N(f,m,P);R.push(x)}}return new to(R,_)})(n._query,n.firestore._databaseId,s,e,t,r)}}function O1(n,e,t){if(typeof(t=Pe(t))=="string"){if(t==="")throw new de(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fb(e)&&t.indexOf("/")!==-1)throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(He.fromString(t));if(!Ee.isDocumentKey(r))throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sl(n,new Ee(r))}if(t instanceof vt)return Sl(n,t._key);throw new de(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fy(t)}.`)}function D1(n,e){if(!Array.isArray(n)||n.length===0)throw new de(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SN(n,e){const t=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class NT{convertValue(e,t="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mo(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[gc].arrayValue?.values?.map((r=>It(r.doubleValue)));return new Qi(t)}convertGeoPoint(e){return new pi(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_y(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(md(e));default:return null}}convertTimestamp(e){const t=Us(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=He.fromString(e);Ae(dx(r),9688,{name:e});const s=new Ja(r.get(1),r.get(3)),o=new Ee(r.popFirst(5));return s.isEqual(t)||Xt(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Bz extends NT{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}class ml{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Yr=class AN extends bd{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Dy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=AN._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Yr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yr._jsonSchema={type:hn("string",Yr._jsonSchemaVersion),bundleSource:hn("string","DocumentSnapshot"),bundleName:hn("string"),bundle:hn("string")};let Jf=class extends Yr{data(e={}){return super.data(e)}},gi=class IN{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ml(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Jf(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const f=new Jf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ml(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Jf(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ml(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:Fz(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=IN._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Fz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}function RN(n,e){return n instanceof Yr&&e instanceof Yr?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof gi&&e instanceof gi&&n._firestore===e._firestore&&fN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(n){n=Xe(n,vt);const e=Xe(n.firestore,Zt);return iN(Wn(e),n._key).then((t=>kT(e,n,t)))}gi._jsonSchemaVersion="firestore/querySnapshot/1.0",gi._jsonSchema={type:hn("string",gi._jsonSchemaVersion),bundleSource:hn("string","QuerySnapshot"),bundleName:hn("string"),bundle:hn("string")};class ql extends NT{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,t)}}function qz(n){n=Xe(n,vt);const e=Xe(n.firestore,Zt),t=Wn(e),r=new ql(e);return uz(t,n._key).then((s=>new Yr(e,r,n._key,s,new ml(s!==null&&s.hasLocalMutations,!0),n.converter)))}function jz(n){n=Xe(n,vt);const e=Xe(n.firestore,Zt);return iN(Wn(e),n._key,{source:"server"}).then((t=>kT(e,n,t)))}function Hz(n){n=Xe(n,sr);const e=Xe(n.firestore,Zt),t=Wn(e),r=new ql(e);return bN(n._query),sN(t,n._query).then((s=>new gi(e,r,n,s)))}function $z(n){n=Xe(n,sr);const e=Xe(n.firestore,Zt),t=Wn(e),r=new ql(e);return cz(t,n._query).then((s=>new gi(e,r,n,s)))}function Gz(n){n=Xe(n,sr);const e=Xe(n.firestore,Zt),t=Wn(e),r=new ql(e);return sN(t,n._query,{source:"server"}).then((s=>new gi(e,r,n,s)))}function x1(n,e,t){n=Xe(n,vt);const r=Xe(n.firestore,Zt),s=Vy(n.converter,e,t);return Zd(r,[Oy(Fl(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Pt.none())])}function N1(n,e,t,...r){n=Xe(n,vt);const s=Xe(n.firestore,Zt),o=Fl(s);let u;return u=typeof(e=Pe(e))=="string"||e instanceof io?RT(o,"updateDoc",n._key,e,t,r):IT(o,"updateDoc",n._key,e),Zd(s,[u.toMutation(n._key,Pt.exists(!0))])}function Kz(n){return Zd(Xe(n.firestore,Zt),[new Hc(n._key,Pt.none())])}function Wz(n,e){const t=Xe(n.firestore,Zt),r=zg(n),s=Vy(n.converter,e);return Zd(t,[Oy(Fl(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Pt.exists(!1))]).then((()=>r))}function CN(n,...e){n=Pe(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Tw(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Tw(e[r])){const f=e[r];e[r]=f.next?.bind(f),e[r+1]=f.error?.bind(f),e[r+2]=f.complete?.bind(f)}let o,u,h;if(n instanceof vt)u=Xe(n.firestore,Zt),h=qc(n._key.path),o={next:f=>{e[r]&&e[r](kT(u,n,f))},error:e[r+1],complete:e[r+2]};else{const f=Xe(n,sr);u=Xe(f.firestore,Zt),h=f._query;const m=new ql(u);o={next:y=>{e[r]&&e[r](new gi(u,m,f,y))},error:e[r+1],complete:e[r+2]},bN(n._query)}return(function(m,y,_,w){const R=new Ry(w),S=new dT(y,R,_);return m.asyncQueue.enqueueAndForget((async()=>cT(await Rc(m),S))),()=>{R.Nu(),m.asyncQueue.enqueueAndForget((async()=>hT(await Rc(m),S)))}})(Wn(u),h,s,o)}function Qz(n,e){return hz(Wn(n=Xe(n,Zt)),Tw(e)?e:{next:e})}function Zd(n,e){return(function(r,s){const o=new Vn;return r.asyncQueue.enqueueAndForget((async()=>UF(await wT(r),s,o))),o.promise})(Wn(n),e)}function kT(n,e,t){const r=t.docs.get(e._key),s=new ql(n);return new Yr(n,s,e._key,r,new ml(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xz=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fl(e)}set(e,t,r){this._verifyNotCommitted();const s=Ba(e,this._firestore),o=Vy(s.converter,t,r),u=Oy(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,r);return this._mutations.push(u.toMutation(s._key,Pt.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const o=Ba(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof io?RT(this._dataReader,"WriteBatch.update",o._key,t,r,s):IT(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Pt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ba(e,this._firestore);return this._mutations=this._mutations.concat(new Hc(t._key,Pt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Ba(n,e){if((n=Pe(n)).firestore!==e)throw new de(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fl(e)}get(e){const t=Ba(e,this._firestore),r=new Bz(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return Te(24041);const o=s[0];if(o.isFoundDocument())return new bd(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new bd(this._firestore,r,t._key,null,t.converter);throw Te(18433,{doc:o})}))}set(e,t,r){const s=Ba(e,this._firestore),o=Vy(s.converter,t,r),u=Oy(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,r);return this._transaction.set(s._key,u),this}update(e,t,r,...s){const o=Ba(e,this._firestore);let u;return u=typeof(t=Pe(t))=="string"||t instanceof io?RT(this._dataReader,"Transaction.update",o._key,t,r,s):IT(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Ba(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zz=class extends Jz{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ba(e,this._firestore),r=new ql(this._firestore);return super.get(e).then((s=>new Yr(this._firestore,r,t._key,s._document,new ml(!1,!1),t.converter)))}};function e8(n,e,t){n=Xe(n,Zt);const r={...Yz,...t};return(function(o){if(o.maxAttempts<1)throw new de(se.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(o,u,h){const f=new Vn;return o.asyncQueue.enqueueAndForget((async()=>{const m=await az(o);new iz(o.asyncQueue,m,h,u,f).ju()})),f.promise})(Wn(n),(s=>e(new Zz(n,s))),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t8(){return new Xd("deleteField")}function n8(){return new bT("serverTimestamp")}function r8(...n){return new TT("arrayUnion",n)}function i8(...n){return new ST("arrayRemove",n)}function s8(n){return new AT("increment",n)}(function(e,t=!0){(function(s){zc=s})(uo),Qa(new Ji("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Zt(new J6(r.getProvider("auth-internal")),new t9(u,r.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ja(m.options.projectId,y)})(u,s),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),mi(uR,cR,e),mi(uR,cR,"esm2020")})();const a8="@firebase/firestore-compat",o8="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function M1(){if(!V9())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let PN=class Aw{constructor(e){this._delegate=e}static fromBase64String(e){return M1(),new Aw($n.fromBase64String(e))}static fromUint8Array(e){return k1(),new Aw($n.fromUint8Array(e))}toBase64(){return M1(),this._delegate.toBase64()}toUint8Array(){return k1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n){return l8(n,["next","error","complete"])}function l8(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{enableIndexedDbPersistence(e,t){return _z(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return vz(e._delegate)}clearIndexedDbPersistence(e){return Ez(e._delegate)}}class ON{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ja||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&es("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){mz(this._delegate,e,t,r)}enableNetwork(){return bz(this._delegate)}disableNetwork(){return Tz(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,eD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return wz(this._delegate)}onSnapshotsInSync(e){return Qz(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Cc(this,cN(this._delegate,e))}catch(t){throw nr(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wr(this,zg(this._delegate,e))}catch(t){throw nr(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new tr(this,pz(this._delegate,e))}catch(t){throw nr(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return e8(this._delegate,t=>e(new DN(this,t)))}batch(){return Wn(this._delegate),new xN(new Xz(this._delegate,e=>Zd(this._delegate,e)))}loadBundle(e){return Sz(this._delegate,e)}namedQuery(e){return Az(this._delegate,e).then(t=>t?new tr(this,t):null)}}class Ly extends NT{constructor(e){super(),this.firestore=e}convertBytes(e){return new PN(new $n(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wr.forKey(t,this.firestore,null)}}function c8(n){W6(n)}class DN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ly(e)}get(e){const t=pl(e);return this._delegate.get(t).then(r=>new Td(this._firestore,new Yr(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=pl(e);return r?(MT("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=pl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=pl(e);return this._delegate.delete(t),this}}class xN{constructor(e){this._delegate=e}set(e,t,r){const s=pl(e);return r?(MT("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const o=pl(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...s),this}delete(e){const t=pl(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class xl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Jf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sd(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=xl.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let o=s.get(t);return o||(o=new xl(e,new Ly(e),t),s.set(t,o)),o}}xl.INSTANCES=new WeakMap;class Wr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ly(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wr(t,new vt(t._delegate,r,new Ee(e)))}static forKey(e,t,r){return new Wr(t,new vt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Cc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Cc(this.firestore,cN(this._delegate,e))}catch(t){throw nr(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Pe(e),e instanceof vt?hN(this._delegate,e):!1}set(e,t){t=MT("DocumentReference.set",t);try{return t?x1(this._delegate,e,t):x1(this._delegate,e)}catch(r){throw nr(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?N1(this._delegate,e):N1(this._delegate,e,t,...r)}catch(s){throw nr(s,"updateDoc()","DocumentReference.update()")}}delete(){return Kz(this._delegate)}onSnapshot(...e){const t=NN(e),r=kN(e,s=>new Td(this.firestore,new Yr(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return CN(this._delegate,t,r)}get(e){let t;return e?.source==="cache"?t=qz(this._delegate):e?.source==="server"?t=jz(this._delegate):t=zz(this._delegate),t.then(r=>new Td(this.firestore,new Yr(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Wr(this.firestore,e?this._delegate.withConverter(xl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nr(n,e,t){return n.message=n.message.replace(e,t),n}function NN(n){for(const e of n)if(typeof e=="object"&&!Iw(e))return e;return{}}function kN(n,e){let t;return Iw(n[0])?t=n[0]:Iw(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:r=>{t.next&&t.next(e(r))},error:t.error?.bind(t),complete:t.complete?.bind(t)}}class Td{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return RN(this._delegate,e._delegate)}}class Sd extends Td{data(e){const t=this._delegate.data(e);return this._delegate._converter||Q6(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class tr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ly(e)}where(e,t,r){try{return new tr(this.firestore,Ma(this._delegate,Dz(e,t,r)))}catch(s){throw nr(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new tr(this.firestore,Ma(this._delegate,xz(e,t)))}catch(r){throw nr(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new tr(this.firestore,Ma(this._delegate,Nz(e)))}catch(t){throw nr(t,"limit()","Query.limit()")}}limitToLast(e){try{return new tr(this.firestore,Ma(this._delegate,kz(e)))}catch(t){throw nr(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new tr(this.firestore,Ma(this._delegate,Mz(...e)))}catch(t){throw nr(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new tr(this.firestore,Ma(this._delegate,Vz(...e)))}catch(t){throw nr(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new tr(this.firestore,Ma(this._delegate,Lz(...e)))}catch(t){throw nr(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new tr(this.firestore,Ma(this._delegate,Uz(...e)))}catch(t){throw nr(t,"endAt()","Query.endAt()")}}isEqual(e){return fN(this._delegate,e._delegate)}get(e){let t;return e?.source==="cache"?t=$z(this._delegate):e?.source==="server"?t=Gz(this._delegate):t=Hz(this._delegate),t.then(r=>new Rw(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=NN(e),r=kN(e,s=>new Rw(this.firestore,new gi(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return CN(this._delegate,t,r)}withConverter(e){return new tr(this.firestore,e?this._delegate.withConverter(xl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class h8{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Rw{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new tr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new h8(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Sd(this._firestore,r))})}isEqual(e){return RN(this._delegate,e._delegate)}}class Cc extends tr{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wr(this.firestore,e):null}doc(e){try{return e===void 0?new Wr(this.firestore,zg(this._delegate)):new Wr(this.firestore,zg(this._delegate,e))}catch(t){throw nr(t,"doc()","CollectionReference.doc()")}}add(e){return Wz(this._delegate,e).then(t=>new Wr(this.firestore,t))}isEqual(e){return hN(this._delegate,e._delegate)}withConverter(e){return new Cc(this.firestore,e?this._delegate.withConverter(xl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function pl(n){return Xe(n,vt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(...e){this._delegate=new io(...e)}static documentId(){return new VT(Ct.keyField().canonicalString())}isEqual(e){return e=Pe(e),e instanceof io?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{static serverTimestamp(){const e=n8();return e._methodName="FieldValue.serverTimestamp",new hl(e)}static delete(){const e=t8();return e._methodName="FieldValue.delete",new hl(e)}static arrayUnion(...e){const t=r8(...e);return t._methodName="FieldValue.arrayUnion",new hl(t)}static arrayRemove(...e){const t=i8(...e);return t._methodName="FieldValue.arrayRemove",new hl(t)}static increment(e){const t=s8(e);return t._methodName="FieldValue.increment",new hl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={Firestore:ON,GeoPoint:pi,Timestamp:tt,Blob:PN,Transaction:DN,WriteBatch:xN,DocumentReference:Wr,DocumentSnapshot:Td,Query:tr,QueryDocumentSnapshot:Sd,QuerySnapshot:Rw,CollectionReference:Cc,FieldPath:VT,FieldValue:hl,setLogLevel:c8,CACHE_SIZE_UNLIMITED:yz};function d8(n,e){n.INTERNAL.registerComponent(new Ji("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps({...f8}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(n){d8(n,(e,t)=>new ON(e,t,new u8)),n.registerVersion(a8,o8)}m8(Lc);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=2e3;async function g8(n,e,t){const{BuildInfo:r}=Nl();yi(e.sessionId,"AuthEvent did not contain a session ID");const s=await w8(e.sessionId),o={};return kd()?o.ibi=r.packageName:Nd()?o.apn=r.packageName:Rn(n,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=s,YE(n,t,e.type,void 0,e.eventId??void 0,o)}async function y8(n){const{BuildInfo:e}=Nl(),t={};kd()?t.iosBundleId=e.packageName:Nd()?t.androidPackageName=e.packageName:Rn(n,"operation-not-supported-in-this-environment"),await qO(n,t)}function _8(n){const{cordova:e}=Nl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let s=null;r?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,tU()?"_blank":"_system","location=yes"),t(s)})})}async function v8(n,e,t){const{cordova:r}=Nl();let s=()=>{};try{await new Promise((o,u)=>{let h=null;function f(){o();const _=r.plugins.browsertab?.close;typeof _=="function"&&_(),typeof t?.close=="function"&&t.close()}function m(){h||(h=window.setTimeout(()=>{u(_n(n,"redirect-cancelled-by-user"))},p8))}function y(){document?.visibilityState==="visible"&&m()}e.addPassiveListener(f),document.addEventListener("resume",m,!1),Nd()&&document.addEventListener("visibilitychange",y,!1),s=()=>{e.removePassiveListener(f),document.removeEventListener("resume",m,!1),document.removeEventListener("visibilitychange",y,!1),h&&window.clearTimeout(h)}})}finally{s()}}function E8(n){const e=Nl();ge(typeof e?.universalLinks?.subscribe=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ge(typeof e?.BuildInfo?.packageName<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ge(typeof e?.cordova?.plugins?.browsertab?.openUrl=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof e?.cordova?.plugins?.browsertab?.isAvailable=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ge(typeof e?.cordova?.InAppBrowser?.open=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function w8(n){const e=b8(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function b8(n){if(yi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=20;class S8 extends FO{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function A8(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:C8(),postBody:null,tenantId:n.tenantId,error:_n(n,"no-auth-event")}}function I8(n,e){return Cw()._set(Pw(n),e)}async function V1(n){const e=await Cw()._get(Pw(n));return e&&await Cw()._remove(Pw(n)),e}function R8(n,e){const t=O8(e);if(t.includes("/__/auth/callback")){const r=sg(t),o=(r.firebaseError?P8(decodeURIComponent(r.firebaseError)):null)?.code?.split("auth/")?.[1],u=o?_n(o):null;return u?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function C8(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<T8;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function Cw(){return Or(oy)}function Pw(n){return _l("authEvent",n.config.apiKey,n.name)}function P8(n){try{return JSON.parse(n)}catch{return null}}function O8(n){const e=sg(n),t=e.link?decodeURIComponent(e.link):void 0,r=sg(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return sg(s).link||s||r||t||n}function sg(n){if(!n?.includes("?"))return{};const[e,...t]=n.split("?");return Qu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=500;class x8{constructor(){this._redirectPersistence=Ya,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hy,this._overrideRedirectResult=Ib}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new S8(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Rn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,s){E8(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),r6(),await this._originValidation(e);const u=A8(e,r,s);await I8(e,u);const h=await g8(e,u,t),f=await _8(h);return v8(e,o,f)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=y8(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:s,BuildInfo:o}=Nl(),u=setTimeout(async()=>{await V1(e),t.onEvent(L1())},D8),h=async y=>{clearTimeout(u);const _=await V1(e);let w=null;_&&y?.url&&(w=R8(_,y.url)),t.onEvent(w||L1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const f=s,m=`${o.packageName.toLowerCase()}://`;Nl().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(m)&&h({url:y}),typeof f=="function")try{f(y)}catch(_){console.error(_)}}}}const N8=x8;function L1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_n("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(n,e){Mt(n)._logFramework(e)}var M8="@firebase/auth-compat",V8="0.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=1e3;function Zf(){return self?.location?.protocol||null}function U8(){return Zf()==="http:"||Zf()==="https:"}function MN(n=kt()){return!!((Zf()==="file:"||Zf()==="ionic:"||Zf()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function B8(){return sb()||Jg()}function F8(){return NP()&&document?.documentMode===11}function z8(n=kt()){return/Edge\/\d+/.test(n)}function q8(n=kt()){return F8()||z8(n)}function VN(){try{const n=self.localStorage,e=Ld();if(n)return n.setItem(e,"1"),n.removeItem(e),q8()?rd():!0}catch{return LT()&&rd()}return!1}function LT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function IE(){return(U8()||xP()||MN())&&!B8()&&VN()&&!LT()}function LN(){return MN()&&typeof document<"u"}async function j8(){return LN()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},L8);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function H8(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={LOCAL:"local",NONE:"none",SESSION:"session"},mf=ge,UN="persistence";function $8(n,e){if(mf(Object.values(Cr).includes(e),n,"invalid-persistence-type"),sb()){mf(e!==Cr.SESSION,n,"unsupported-persistence-type");return}if(Jg()){mf(e===Cr.NONE,n,"unsupported-persistence-type");return}if(LT()){mf(e===Cr.NONE||e===Cr.LOCAL&&rd(),n,"unsupported-persistence-type");return}mf(e===Cr.NONE||VN(),n,"unsupported-persistence-type")}async function Ow(n){await n._initializationPromise;const e=BN(),t=_l(UN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function G8(n,e){const t=BN();if(!t)return[];const r=_l(UN,n,e);switch(t.getItem(r)){case Cr.NONE:return[oc];case Cr.LOCAL:return[uc,Ya];case Cr.SESSION:return[Ya];default:return[]}}function BN(){try{return H8()?.sessionStorage||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=ge;class Fa{constructor(){this.browserResolver=Or(jO),this.cordovaResolver=Or(N8),this.underlyingResolver=null,this._redirectPersistence=Ya,this._completeRedirectFn=hy,this._overrideRedirectResult=Ib}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,s)}async _openRedirect(e,t,r,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,s)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return LN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return K8(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await j8();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FN(n){return n.unwrap()}function W8(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(n){return zN(n)}function Y8(n,e){const t=e.customData?._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){const r=e;r.resolver=new X8(n,_5(n,e))}else if(t){const r=zN(e),s=e;r&&(s.credential=r,s.tenantId=t.tenantId||void 0,s.email=t.email||void 0,s.phoneNumber=t.phoneNumber||void 0)}}function zN(n){const{_tokenResponse:e}=n instanceof rr?n.customData:n;if(!e)return null;if(!(n instanceof rr)&&"temporaryProof"in e&&"phoneNumber"in e)return Tl.credentialFromResult(n);const t=e.providerId;if(!t||t===of.PASSWORD)return null;let r;switch(t){case of.GOOGLE:r=zi;break;case of.FACEBOOK:r=Fi;break;case of.GITHUB:r=qi;break;case of.TWITTER:r=ji;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:f}=e;return!o&&!u&&!s&&!h?null:h?t.startsWith("saml.")?lc._create(t,h):Zi._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:s,accessToken:o}):new Zu(t).credential({idToken:s,accessToken:o,rawNonce:f})}return n instanceof rr?r.credentialFromError(n):r.credentialFromResult(n)}function cr(n,e){return e.catch(t=>{throw t instanceof rr&&Y8(n,t),t}).then(t=>{const r=t.operationType,s=t.user;return{operationType:r,credential:Q8(t),additionalUserInfo:p5(t),user:Ds.getOrCreate(s)}})}async function Dw(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>cr(n,t.confirm(r))}}class X8{constructor(e,t){this.resolver=t,this.auth=W8(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return cr(FN(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._delegate=e,this.multiFactor=w5(e)}static getOrCreate(e){return Ds.USER_MAP.has(e)||Ds.USER_MAP.set(e,new Ds(e)),Ds.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return cr(this.auth,TO(this._delegate,e))}async linkWithPhoneNumber(e,t){return Dw(this.auth,H5(this._delegate,e,t))}async linkWithPopup(e){return cr(this.auth,Z5(this._delegate,e,Fa))}async linkWithRedirect(e){return await Ow(Mt(this.auth)),l6(this._delegate,e,Fa)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return cr(this.auth,SO(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Dw(this.auth,$5(this._delegate,e,t))}reauthenticateWithPopup(e){return cr(this.auth,J5(this._delegate,e,Fa))}async reauthenticateWithRedirect(e){return await Ow(Mt(this.auth)),a6(this._delegate,e,Fa)}sendEmailVerification(e){return i5(this._delegate,e)}async unlink(e){return await GU(this._delegate,e),this}updateEmail(e){return l5(this._delegate,e)}updatePassword(e){return u5(this._delegate,e)}updatePhoneNumber(e){return G5(this._delegate,e)}updateProfile(e){return o5(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return s5(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ds.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=ge;let xw=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;pf(r,"invalid-api-key",{appName:e.name}),pf(r,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?Fa:void 0;this._delegate=t.initialize({options:{persistence:J8(r,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(M3),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ds.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){pO(this._delegate,e,t)}applyActionCode(e){return XU(this._delegate,e)}checkActionCode(e){return AO(this._delegate,e)}confirmPasswordReset(e,t){return YU(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return cr(this._delegate,IO(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return r5(this._delegate,e)}isSignInWithEmailLink(e){return e5(this._delegate,e)}async getRedirectResult(){pf(IE(),this._delegate,"operation-not-supported-in-this-environment");const e=await c6(this._delegate,Fa);return e?cr(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){k8(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:s,error:o,complete:u}=U1(e,t,r);return this._delegate.onAuthStateChanged(s,o,u)}onIdTokenChanged(e,t,r){const{next:s,error:o,complete:u}=U1(e,t,r);return this._delegate.onIdTokenChanged(s,o,u)}sendSignInLinkToEmail(e,t){return ZU(this._delegate,e,t)}sendPasswordResetEmail(e,t){return QU(this._delegate,e,t||void 0)}async setPersistence(e){$8(this._delegate,e);let t;switch(e){case Cr.SESSION:t=Ya;break;case Cr.LOCAL:t=await Or(uc)._isAvailable()?uc:oy;break;case Cr.NONE:t=oc;break;default:return Rn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return cr(this._delegate,$U(this._delegate))}signInWithCredential(e){return cr(this._delegate,sy(this._delegate,e))}signInWithCustomToken(e){return cr(this._delegate,WU(this._delegate,e))}signInWithEmailAndPassword(e,t){return cr(this._delegate,RO(this._delegate,e,t))}signInWithEmailLink(e,t){return cr(this._delegate,t5(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Dw(this._delegate,j5(this._delegate,e,t))}async signInWithPopup(e){return pf(IE(),this._delegate,"operation-not-supported-in-this-environment"),cr(this._delegate,X5(this._delegate,e,Fa))}async signInWithRedirect(e){return pf(IE(),this._delegate,"operation-not-supported-in-this-environment"),await Ow(this._delegate),i6(this._delegate,e,Fa)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return JU(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};xw.Persistence=Cr;function U1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const s=r;return{next:u=>s(u&&Ds.getOrCreate(u)),error:e,complete:t}}function J8(n,e){const t=G8(n,e);if(typeof self<"u"&&!t.includes(uc)&&t.push(uc),typeof window<"u")for(const r of[oy,Ya])t.includes(r)||t.push(r);return t.includes(oc)||t.push(oc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static credential(e,t){return Tl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Tl(FN(Lc.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}UT.PHONE_SIGN_IN_METHOD=Tl.PHONE_SIGN_IN_METHOD;UT.PROVIDER_ID=Tl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=ge;class eq{constructor(e,t,r=Lc.app()){Z8(r.options?.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new z5(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="auth-compat";function nq(n){n.INTERNAL.registerComponent(new Ji(tq,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new xw(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:xu.EMAIL_SIGNIN,PASSWORD_RESET:xu.PASSWORD_RESET,RECOVER_EMAIL:xu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:xu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:xu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:xu.VERIFY_EMAIL}},EmailAuthProvider:co,FacebookAuthProvider:Fi,GithubAuthProvider:qi,GoogleAuthProvider:zi,OAuthProvider:Zu,SAMLAuthProvider:bg,PhoneAuthProvider:UT,PhoneMultiFactorGenerator:HO,RecaptchaVerifier:eq,TwitterAuthProvider:ji,Auth:xw,AuthCredential:Bc,Error:rr}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(M8,V8)}nq(Lc);const rq={apiKey:"AIzaSyBKz191hMoO5WjkrMGyySsOmF84gajSI7Q",authDomain:"clone-b458a.firebaseapp.com",projectId:"clone-b458a",storageBucket:"clone-b458a.firebasestorage.app",messagingSenderId:"1087006900011",appId:"1:1087006900011:web:86e79bc5193769dedf4f6e"},qN=Lc.initializeApp(rq),jg=G6(qN),jN=qN.firestore(),Ks=Q.createContext(),iq=({children:n,reducer:e,initialState:t})=>M.createElement(Ks.Provider,{value:Q.useReducer(e,t)},n);function sq(){const[{user:n,basket:e},t]=Q.useContext(Ks),r=e?.reduce((s,o)=>o.amount+s,0);return M.createElement("section",{className:Rs.fixed},M.createElement("section",null,M.createElement("div",{className:Rs.header_container},M.createElement("div",{className:Rs.logo_container},M.createElement(fi,{to:"/"},M.createElement("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:""})),M.createElement("div",{className:Rs.delivery},M.createElement("span",null,M.createElement(BL,null)),M.createElement("div",null,M.createElement("p",null,"Deliver to"),M.createElement("span",null,"Ethiopia")))),M.createElement("div",{className:Rs.search},M.createElement("select",{name:"",id:""},M.createElement("option",{value:""},"All")),M.createElement("input",{type:"text"}),M.createElement(zL,{size:38})),M.createElement("div",{className:Rs.order_container},M.createElement(fi,{to:"",className:Rs.language},M.createElement("img",{src:"https://cdn.britannica.com/33/4833-004-828A9A84/Flag-United-States-of-America.jpg",alt:""}),M.createElement("select",null,M.createElement("option",{value:""},"EN"))),M.createElement(fi,{to:!n&&"/auth"},M.createElement("div",null,n?M.createElement(M.Fragment,null,M.createElement("p",null,"Hello ",n?.email?.split("@")[0]),M.createElement("span",{onClick:()=>jg.signOut()},"Sign Out")):M.createElement(M.Fragment,null,M.createElement("p",null,"Hello, Sign In"),M.createElement("span",null,"Account & Lists")))),M.createElement(fi,{to:"/orders"},M.createElement("p",null,"returns"),M.createElement("span",null,"& Orders")),M.createElement(fi,{to:"/cart",className:Rs.cart},M.createElement(qL,{size:35}),M.createElement("span",null,r))))),M.createElement(jL,null))}const aq="_footer_v335s_1",oq="_footer_out_container_v335s_15",lq="_footer_inner_container_v335s_27",uq="_footer_data_v335s_35",cq="_logo_container1_v335s_71",hq="_logo_img_v335s_89",fq="_logo_price_v335s_117",dq="_logo_flag_v335s_131",mq="_allspan_v335s_177",pq="_copy_write_v335s_183",ui={footer:aq,footer_out_container:oq,footer_inner_container:lq,footer_data:uq,logo_container1:cq,logo_img:hq,logo_price:fq,logo_flag:dq,allspan:mq,copy_write:pq};function gq(n){return Vl({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M3.6 9h16.8"},child:[]},{tag:"path",attr:{d:"M3.6 15h16.8"},child:[]},{tag:"path",attr:{d:"M11.5 3a17 17 0 0 0 0 18"},child:[]},{tag:"path",attr:{d:"M12.5 3a17 17 0 0 1 0 18"},child:[]}]})(n)}function yq(){return M.createElement(M.Fragment,null,M.createElement("div",{className:ui.footer},M.createElement("div",{className:ui.footer_out_container},M.createElement("div",{className:ui.footer_inner_container},M.createElement("div",{className:ui.footer_data},M.createElement("div",null,M.createElement("h3",null,"Get to Know Us"),M.createElement("ul",null,M.createElement("li",null,"Careers"),M.createElement("li",null,"Blog"),M.createElement("li",null,"About Amazon"),M.createElement("li",null,"Investor Relations"),M.createElement("li",null,"Amazon Devices"),M.createElement("li",null,"Amazon Science"))),M.createElement("div",null,M.createElement("h3",null,"Make Money with Us"),M.createElement("ul",null,M.createElement("li",null,"Sell products on Amazon"),M.createElement("li",null,"Sell on Amazon Business"),M.createElement("li",null,"Sell apps on Amazon"),M.createElement("li",null,"Become an Affiliate"),M.createElement("li",null,"Advertise Your Products"),M.createElement("li",null,"Self-Publish with Us"),M.createElement("li",null,"Host an Amazon Hub"),M.createElement("li",null,"See More Make Money with Us"))),M.createElement("div",null,M.createElement("h3",null,"Amazon Payment Products"),M.createElement("ul",null,M.createElement("li",null,"Amazon Business Card"),M.createElement("li",null,"Shop with Points"),M.createElement("li",null,"Reload Your Balance"),M.createElement("li",null,"Amazon Currency Converter"))),M.createElement("div",null,M.createElement("h3",null,"Let Us Help You"),M.createElement("ul",null,M.createElement("li",null,"Amazon and COVID-19"),M.createElement("li",null,"Your Account"),M.createElement("li",null,"Your Orders"),M.createElement("li",null,"Shipping Rates & Policies"),M.createElement("li",null,"Returns & Replacements"),M.createElement("li",null,"Manage Your Content and Devices"),M.createElement("li",null,"Amazon Assistant"),M.createElement("li",null,"Help")))))),M.createElement("hr",null),M.createElement("div",{className:ui.logo_container1},M.createElement("div",null,M.createElement("img",{className:ui.logo_img,src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:""})),M.createElement("div",{className:ui.allspan},M.createElement("span",{className:ui.logo_lng},M.createElement(gq,null),"English"),M.createElement("span",{className:ui.logo_price},"USD -U.S.Dollar"),M.createElement("span",{className:ui.logo_flag},M.createElement("img",{src:"https://cdn.britannica.com/33/4833-004-828A9A84/Flag-United-States-of-America.jpg",alt:""}),"United States"))),M.createElement("div",{className:ui.copy_write},"© 1996-2025, Amazon.com, Inc. or its affiliates")))}function Qc({children:n}){return M.createElement("div",null,M.createElement(sq,null),n,M.createElement(yq,null))}var RE={},gf={},Mp={},Vp={},CE={exports:{}},PE,B1;function _q(){if(B1)return PE;B1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return PE=n,PE}var OE,F1;function vq(){if(F1)return OE;F1=1;var n=_q();function e(){}function t(){}return t.resetWarningCache=e,OE=function(){function r(u,h,f,m,y,_){if(_!==n){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},OE}var z1;function HN(){return z1||(z1=1,CE.exports=vq()()),CE.exports}var q1;function Eq(){return q1||(q1=1,(function(n){(function(e,t){t(n,oo(),HN())})(Vp,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=S;var s=u(t),o=u(r);function u(U){return U&&U.__esModule?U:{default:U}}var h=Object.assign||function(U){for(var q=1;q<arguments.length;q++){var W=arguments[q];for(var j in W)Object.prototype.hasOwnProperty.call(W,j)&&(U[j]=W[j])}return U};function f(U,q){var W={};for(var j in U)q.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(U,j)&&(W[j]=U[j]);return W}function m(U,q){if(!(U instanceof q))throw new TypeError("Cannot call a class as a function")}var y=(function(){function U(q,W){for(var j=0;j<W.length;j++){var H=W[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(q,H.key,H)}}return function(q,W,j){return W&&U(q.prototype,W),j&&U(q,j),q}})();function _(U,q){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:U}function w(U,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);U.prototype=Object.create(q&&q.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(U,q):U.__proto__=q)}var R=!1;function S(U){R=U}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){S(!0)}}))}catch{}function P(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return R?U:U.capture}function x(U){if("touches"in U){var q=U.touches[0],W=q.pageX,j=q.pageY;return{x:W,y:j}}var H=U.screenX,k=U.screenY;return{x:H,y:k}}var $=(function(U){w(q,U);function q(){var W;m(this,q);for(var j=arguments.length,H=Array(j),k=0;k<j;k++)H[k]=arguments[k];var I=_(this,(W=q.__proto__||Object.getPrototypeOf(q)).call.apply(W,[this].concat(H)));return I._handleSwipeStart=I._handleSwipeStart.bind(I),I._handleSwipeMove=I._handleSwipeMove.bind(I),I._handleSwipeEnd=I._handleSwipeEnd.bind(I),I._onMouseDown=I._onMouseDown.bind(I),I._onMouseMove=I._onMouseMove.bind(I),I._onMouseUp=I._onMouseUp.bind(I),I._setSwiperRef=I._setSwiperRef.bind(I),I}return y(q,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,P({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,P({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var H=x(j),k=H.x,I=H.y;this.moveStart={x:k,y:I},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var H=x(j),k=H.x,I=H.y,C=k-this.moveStart.x,L=I-this.moveStart.y;this.moving=!0;var D=this.props.onSwipeMove({x:C,y:L},j);D&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:C,deltaY:L}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var H=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-H?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>H&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-H?this.props.onSwipeUp(1,j):this.movePosition.deltaY>H&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var H=j.className,k=j.style,I=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var C=f(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return s.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:H,style:k},C),I)}}]),q})(t.Component);$.displayName="ReactSwipe",$.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},$.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=$})})(Vp)),Vp}var j1;function $N(){return j1||(j1=1,(function(n){(function(e,t){t(n,Eq())})(Mp,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=s(t);function s(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})})(Mp)),Mp}var yf={},DE={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var H1;function wq(){return H1||(H1=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=s(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=s(u,h));return u}function s(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(DE)),DE.exports}var $1;function GN(){if($1)return yf;$1=1,Object.defineProperty(yf,"__esModule",{value:!0}),yf.default=void 0;var n=e(wq());function e(s){return s&&s.__esModule?s:{default:s}}function t(s,o,u){return o in s?Object.defineProperty(s,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[o]=u,s}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return yf.default=r,yf}var _f={},vf={},G1;function bq(){if(G1)return vf;G1=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,s=getComputedStyle(t);return r+=parseInt(s.marginLeft)+parseInt(s.marginRight),r};return vf.outerWidth=n,vf}var Ef={},K1;function BT(){if(K1)return Ef;K1=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.default=void 0;var n=function(t,r,s){var o=t===0?t:t+r,u=s==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",f="("+u.join(",")+")";return h+f};return Ef.default=n,Ef}var wf={},W1;function KN(){if(W1)return wf;W1=1,Object.defineProperty(wf,"__esModule",{value:!0}),wf.default=void 0;var n=function(){return window};return wf.default=n,wf}var Q1;function WN(){if(Q1)return _f;Q1=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.default=void 0;var n=f(oo()),e=u(GN()),t=bq(),r=u(BT()),s=u($N()),o=u(KN());function u(I){return I&&I.__esModule?I:{default:I}}function h(){if(typeof WeakMap!="function")return null;var I=new WeakMap;return h=function(){return I},I}function f(I){if(I&&I.__esModule)return I;if(I===null||m(I)!=="object"&&typeof I!="function")return{default:I};var C=h();if(C&&C.has(I))return C.get(I);var L={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in I)if(Object.prototype.hasOwnProperty.call(I,E)){var A=D?Object.getOwnPropertyDescriptor(I,E):null;A&&(A.get||A.set)?Object.defineProperty(L,E,A):L[E]=I[E]}return L.default=I,C&&C.set(I,L),L}function m(I){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(L){return typeof L}:m=function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},m(I)}function y(){return y=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var L=arguments[C];for(var D in L)Object.prototype.hasOwnProperty.call(L,D)&&(I[D]=L[D])}return I},y.apply(this,arguments)}function _(I,C){if(!(I instanceof C))throw new TypeError("Cannot call a class as a function")}function w(I,C){for(var L=0;L<C.length;L++){var D=C[L];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}}function R(I,C,L){return C&&w(I.prototype,C),I}function S(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(C&&C.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),C&&P(I,C)}function P(I,C){return P=Object.setPrototypeOf||function(D,E){return D.__proto__=E,D},P(I,C)}function x(I){var C=q();return function(){var D=W(I),E;if(C){var A=W(this).constructor;E=Reflect.construct(D,arguments,A)}else E=D.apply(this,arguments);return $(this,E)}}function $(I,C){return C&&(m(C)==="object"||typeof C=="function")?C:U(I)}function U(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function W(I){return W=Object.setPrototypeOf?Object.getPrototypeOf:function(L){return L.__proto__||Object.getPrototypeOf(L)},W(I)}function j(I,C,L){return C in I?Object.defineProperty(I,C,{value:L,enumerable:!0,configurable:!0,writable:!0}):I[C]=L,I}var H=function(C){return C.hasOwnProperty("key")},k=(function(I){S(L,I);var C=x(L);function L(D){var E;return _(this,L),E=C.call(this,D),j(U(E),"itemsWrapperRef",void 0),j(U(E),"itemsListRef",void 0),j(U(E),"thumbsRef",void 0),j(U(E),"setItemsWrapperRef",function(A){E.itemsWrapperRef=A}),j(U(E),"setItemsListRef",function(A){E.itemsListRef=A}),j(U(E),"setThumbsRef",function(A,G){E.thumbsRef||(E.thumbsRef=[]),E.thumbsRef[G]=A}),j(U(E),"updateSizes",function(){if(!(!E.props.children||!E.itemsWrapperRef||!E.thumbsRef)){var A=n.Children.count(E.props.children),G=E.itemsWrapperRef.clientWidth,V=E.props.thumbWidth?E.props.thumbWidth:(0,t.outerWidth)(E.thumbsRef[0]),z=Math.floor(G/V),J=z<A,ne=J?A-z:0;E.setState(function(be,B){return{itemSize:V,visibleItems:z,firstItem:J?E.getFirstItem(B.selectedItem):0,lastPosition:ne,showArrows:J}})}}),j(U(E),"handleClickItem",function(A,G,V){if(!H(V)||V.key==="Enter"){var z=E.props.onSelectItem;typeof z=="function"&&z(A,G)}}),j(U(E),"onSwipeStart",function(){E.setState({swiping:!0})}),j(U(E),"onSwipeEnd",function(){E.setState({swiping:!1})}),j(U(E),"onSwipeMove",function(A){var G=A.x;if(!E.state.itemSize||!E.itemsWrapperRef||!E.state.visibleItems)return!1;var V=0,z=n.Children.count(E.props.children),J=-(E.state.firstItem*100)/E.state.visibleItems,ne=Math.max(z-E.state.visibleItems,0),be=-ne*100/E.state.visibleItems;J===V&&G>0&&(G=0),J===be&&G<0&&(G=0);var B=E.itemsWrapperRef.clientWidth,le=J+100/(B/G);return E.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(pe){E.itemsListRef.style[pe]=(0,r.default)(le,"%",E.props.axis)}),!0}),j(U(E),"slideRight",function(A){E.moveTo(E.state.firstItem-(typeof A=="number"?A:1))}),j(U(E),"slideLeft",function(A){E.moveTo(E.state.firstItem+(typeof A=="number"?A:1))}),j(U(E),"moveTo",function(A){A=A<0?0:A,A=A>=E.state.lastPosition?E.state.lastPosition:A,E.setState({firstItem:A})}),E.state={selectedItem:D.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},E}return R(L,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(E){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==E.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(E){var A=E;return E>=this.state.lastPosition&&(A=this.state.lastPosition),E<this.state.firstItem+this.state.visibleItems&&(A=this.state.firstItem),E<this.state.firstItem&&(A=E),A}},{key:"renderItems",value:function(){var E=this;return this.props.children.map(function(A,G){var V=e.default.ITEM(!1,G===E.state.selectedItem),z={key:G,ref:function(ne){return E.setThumbsRef(ne,G)},className:V,onClick:E.handleClickItem.bind(E,G,E.props.children[G]),onKeyDown:E.handleClickItem.bind(E,G,E.props.children[G]),"aria-label":"".concat(E.props.labels.item," ").concat(G+1),style:{width:E.props.thumbWidth}};return n.default.createElement("li",y({},z,{role:"button",tabIndex:0}),A)})}},{key:"render",value:function(){var E=this;if(!this.props.children)return null;var A=n.Children.count(this.props.children)>1,G=this.state.showArrows&&this.state.firstItem>0,V=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,z={},J=-this.state.firstItem*(this.state.itemSize||0),ne=(0,r.default)(J,"px",this.props.axis),be=this.props.transitionTime+"ms";return z={WebkitTransform:ne,MozTransform:ne,MsTransform:ne,OTransform:ne,transform:ne,msTransform:ne,WebkitTransitionDuration:be,MozTransitionDuration:be,MsTransitionDuration:be,OTransitionDuration:be,transitionDuration:be,msTransitionDuration:be},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!G),onClick:function(){return E.slideRight()},"aria-label":this.props.labels.leftArrow}),A?n.default.createElement(s.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:z,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(le){return E.setItemsListRef(le)},style:z},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!V),onClick:function(){return E.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),L})(n.Component);return _f.default=k,j(k,"displayName","Thumbs"),j(k,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),_f}var bf={},Y1;function Tq(){if(Y1)return bf;Y1=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.default=void 0;var n=function(){return document};return bf.default=n,bf}var Ir={},X1;function QN(){if(X1)return Ir;X1=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.setPosition=Ir.getPosition=Ir.isKeyboardEvent=Ir.defaultStatusFormatter=Ir.noop=void 0;var n=oo(),e=t(BT());function t(f){return f&&f.__esModule?f:{default:f}}var r=function(){};Ir.noop=r;var s=function(m,y){return"".concat(m," of ").concat(y)};Ir.defaultStatusFormatter=s;var o=function(m){return m?m.hasOwnProperty("key"):!1};Ir.isKeyboardEvent=o;var u=function(m,y){if(y.infiniteLoop&&++m,m===0)return 0;var _=n.Children.count(y.children);if(y.centerMode&&y.axis==="horizontal"){var w=-m*y.centerSlidePercentage,R=_-1;return m&&(m!==R||y.infiniteLoop)?w+=(100-y.centerSlidePercentage)/2:m===R&&(w+=100-y.centerSlidePercentage),w}return-m*100};Ir.getPosition=u;var h=function(m,y){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(w){_[w]=(0,e.default)(m,"%",y)}),_};return Ir.setPosition=h,Ir}var ci={},J1;function Sq(){if(J1)return ci;J1=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.fadeAnimationHandler=ci.slideStopSwipingHandler=ci.slideSwipeAnimationHandler=ci.slideAnimationHandler=void 0;var n=oo(),e=r(BT()),t=QN();function r(_){return _&&_.__esModule?_:{default:_}}function s(_,w){var R=Object.keys(_);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(_);w&&(S=S.filter(function(P){return Object.getOwnPropertyDescriptor(_,P).enumerable})),R.push.apply(R,S)}return R}function o(_){for(var w=1;w<arguments.length;w++){var R=arguments[w]!=null?arguments[w]:{};w%2?s(Object(R),!0).forEach(function(S){u(_,S,R[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(R)):s(Object(R)).forEach(function(S){Object.defineProperty(_,S,Object.getOwnPropertyDescriptor(R,S))})}return _}function u(_,w,R){return w in _?Object.defineProperty(_,w,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[w]=R,_}var h=function(w,R){var S={},P=R.selectedItem,x=P,$=n.Children.count(w.children)-1,U=w.infiniteLoop&&(P<0||P>$);if(U)return x<0?w.centerMode&&w.centerSlidePercentage&&w.axis==="horizontal"?S.itemListStyle=(0,t.setPosition)(-($+2)*w.centerSlidePercentage-(100-w.centerSlidePercentage)/2,w.axis):S.itemListStyle=(0,t.setPosition)(-($+2)*100,w.axis):x>$&&(S.itemListStyle=(0,t.setPosition)(0,w.axis)),S;var q=(0,t.getPosition)(P,w),W=(0,e.default)(q,"%",w.axis),j=w.transitionTime+"ms";return S.itemListStyle={WebkitTransform:W,msTransform:W,OTransform:W,transform:W},R.swiping||(S.itemListStyle=o(o({},S.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),S};ci.slideAnimationHandler=h;var f=function(w,R,S,P){var x={},$=R.axis==="horizontal",U=n.Children.count(R.children),q=0,W=(0,t.getPosition)(S.selectedItem,R),j=R.infiniteLoop?(0,t.getPosition)(U-1,R)-100:(0,t.getPosition)(U-1,R),H=$?w.x:w.y,k=H;W===q&&H>0&&(k=0),W===j&&H<0&&(k=0);var I=W+100/(S.itemSize/k),C=Math.abs(H)>R.swipeScrollTolerance;return R.infiniteLoop&&C&&(S.selectedItem===0&&I>-100?I-=U*100:S.selectedItem===U-1&&I<-U*100&&(I+=U*100)),(!R.preventMovementUntilSwipeScrollTolerance||C||S.swipeMovementStarted)&&(S.swipeMovementStarted||P({swipeMovementStarted:!0}),x.itemListStyle=(0,t.setPosition)(I,R.axis)),C&&!S.cancelClick&&P({cancelClick:!0}),x};ci.slideSwipeAnimationHandler=f;var m=function(w,R){var S=(0,t.getPosition)(R.selectedItem,w),P=(0,t.setPosition)(S,w.axis);return{itemListStyle:P}};ci.slideStopSwipingHandler=m;var y=function(w,R){var S=w.transitionTime+"ms",P="ease-in-out",x={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:P,msTransitionTimingFunction:P,MozTransitionTimingFunction:P,WebkitTransitionTimingFunction:P,OTransitionTimingFunction:P};return R.swiping||(x=o(o({},x),{},{WebkitTransitionDuration:S,MozTransitionDuration:S,OTransitionDuration:S,transitionDuration:S,msTransitionDuration:S})),{slideStyle:x,selectedStyle:o(o({},x),{},{opacity:1,position:"relative"}),prevStyle:o({},x)}};return ci.fadeAnimationHandler=y,ci}var Z1;function Aq(){if(Z1)return gf;Z1=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.default=void 0;var n=y(oo()),e=f($N()),t=f(GN()),r=f(WN()),s=f(Tq()),o=f(KN()),u=QN(),h=Sq();function f(D){return D&&D.__esModule?D:{default:D}}function m(){if(typeof WeakMap!="function")return null;var D=new WeakMap;return m=function(){return D},D}function y(D){if(D&&D.__esModule)return D;if(D===null||_(D)!=="object"&&typeof D!="function")return{default:D};var E=m();if(E&&E.has(D))return E.get(D);var A={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var V in D)if(Object.prototype.hasOwnProperty.call(D,V)){var z=G?Object.getOwnPropertyDescriptor(D,V):null;z&&(z.get||z.set)?Object.defineProperty(A,V,z):A[V]=D[V]}return A.default=D,E&&E.set(D,A),A}function _(D){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(A){return typeof A}:_=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},_(D)}function w(){return w=Object.assign||function(D){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var G in A)Object.prototype.hasOwnProperty.call(A,G)&&(D[G]=A[G])}return D},w.apply(this,arguments)}function R(D,E){var A=Object.keys(D);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(D);E&&(G=G.filter(function(V){return Object.getOwnPropertyDescriptor(D,V).enumerable})),A.push.apply(A,G)}return A}function S(D){for(var E=1;E<arguments.length;E++){var A=arguments[E]!=null?arguments[E]:{};E%2?R(Object(A),!0).forEach(function(G){C(D,G,A[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(A)):R(Object(A)).forEach(function(G){Object.defineProperty(D,G,Object.getOwnPropertyDescriptor(A,G))})}return D}function P(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function x(D,E){for(var A=0;A<E.length;A++){var G=E[A];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(D,G.key,G)}}function $(D,E,A){return E&&x(D.prototype,E),D}function U(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),E&&q(D,E)}function q(D,E){return q=Object.setPrototypeOf||function(G,V){return G.__proto__=V,G},q(D,E)}function W(D){var E=k();return function(){var G=I(D),V;if(E){var z=I(this).constructor;V=Reflect.construct(G,arguments,z)}else V=G.apply(this,arguments);return j(this,V)}}function j(D,E){return E&&(_(E)==="object"||typeof E=="function")?E:H(D)}function H(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function I(D){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},I(D)}function C(D,E,A){return E in D?Object.defineProperty(D,E,{value:A,enumerable:!0,configurable:!0,writable:!0}):D[E]=A,D}var L=(function(D){U(A,D);var E=W(A);function A(G){var V;P(this,A),V=E.call(this,G),C(H(V),"thumbsRef",void 0),C(H(V),"carouselWrapperRef",void 0),C(H(V),"listRef",void 0),C(H(V),"itemsRef",void 0),C(H(V),"timer",void 0),C(H(V),"animationHandler",void 0),C(H(V),"setThumbsRef",function(J){V.thumbsRef=J}),C(H(V),"setCarouselWrapperRef",function(J){V.carouselWrapperRef=J}),C(H(V),"setListRef",function(J){V.listRef=J}),C(H(V),"setItemsRef",function(J,ne){V.itemsRef||(V.itemsRef=[]),V.itemsRef[ne]=J}),C(H(V),"autoPlay",function(){n.Children.count(V.props.children)<=1||(V.clearAutoPlay(),V.props.autoPlay&&(V.timer=setTimeout(function(){V.increment()},V.props.interval)))}),C(H(V),"clearAutoPlay",function(){V.timer&&clearTimeout(V.timer)}),C(H(V),"resetAutoPlay",function(){V.clearAutoPlay(),V.autoPlay()}),C(H(V),"stopOnHover",function(){V.setState({isMouseEntered:!0},V.clearAutoPlay)}),C(H(V),"startOnLeave",function(){V.setState({isMouseEntered:!1},V.autoPlay)}),C(H(V),"isFocusWithinTheCarousel",function(){return V.carouselWrapperRef?!!((0,s.default)().activeElement===V.carouselWrapperRef||V.carouselWrapperRef.contains((0,s.default)().activeElement)):!1}),C(H(V),"navigateWithKeyboard",function(J){if(V.isFocusWithinTheCarousel()){var ne=V.props.axis,be=ne==="horizontal",B={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},le=be?B.ArrowRight:B.ArrowDown,pe=be?B.ArrowLeft:B.ArrowUp;le===J.keyCode?V.increment():pe===J.keyCode&&V.decrement()}}),C(H(V),"updateSizes",function(){if(!(!V.state.initialized||!V.itemsRef||V.itemsRef.length===0)){var J=V.props.axis==="horizontal",ne=V.itemsRef[0];if(ne){var be=J?ne.clientWidth:ne.clientHeight;V.setState({itemSize:be}),V.thumbsRef&&V.thumbsRef.updateSizes()}}}),C(H(V),"setMountState",function(){V.setState({hasMount:!0}),V.updateSizes()}),C(H(V),"handleClickItem",function(J,ne){if(n.Children.count(V.props.children)!==0){if(V.state.cancelClick){V.setState({cancelClick:!1});return}V.props.onClickItem(J,ne),J!==V.state.selectedItem&&V.setState({selectedItem:J})}}),C(H(V),"handleOnChange",function(J,ne){n.Children.count(V.props.children)<=1||V.props.onChange(J,ne)}),C(H(V),"handleClickThumb",function(J,ne){V.props.onClickThumb(J,ne),V.moveTo(J)}),C(H(V),"onSwipeStart",function(J){V.setState({swiping:!0}),V.props.onSwipeStart(J)}),C(H(V),"onSwipeEnd",function(J){V.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),V.props.onSwipeEnd(J),V.clearAutoPlay(),V.state.autoPlay&&V.autoPlay()}),C(H(V),"onSwipeMove",function(J,ne){V.props.onSwipeMove(ne);var be=V.props.swipeAnimationHandler(J,V.props,V.state,V.setState.bind(H(V)));return V.setState(S({},be)),!!Object.keys(be).length}),C(H(V),"decrement",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;V.moveTo(V.state.selectedItem-(typeof J=="number"?J:1))}),C(H(V),"increment",function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;V.moveTo(V.state.selectedItem+(typeof J=="number"?J:1))}),C(H(V),"moveTo",function(J){if(typeof J=="number"){var ne=n.Children.count(V.props.children)-1;J<0&&(J=V.props.infiniteLoop?ne:0),J>ne&&(J=V.props.infiniteLoop?0:ne),V.selectItem({selectedItem:J}),V.state.autoPlay&&V.state.isMouseEntered===!1&&V.resetAutoPlay()}}),C(H(V),"onClickNext",function(){V.increment(1)}),C(H(V),"onClickPrev",function(){V.decrement(1)}),C(H(V),"onSwipeForward",function(){V.increment(1),V.props.emulateTouch&&V.setState({cancelClick:!0})}),C(H(V),"onSwipeBackwards",function(){V.decrement(1),V.props.emulateTouch&&V.setState({cancelClick:!0})}),C(H(V),"changeItem",function(J){return function(ne){(!(0,u.isKeyboardEvent)(ne)||ne.key==="Enter")&&V.moveTo(J)}}),C(H(V),"selectItem",function(J){V.setState(S({previousItem:V.state.selectedItem},J),function(){V.setState(V.animationHandler(V.props,V.state))}),V.handleOnChange(J.selectedItem,n.Children.toArray(V.props.children)[J.selectedItem])}),C(H(V),"getInitialImage",function(){var J=V.props.selectedItem,ne=V.itemsRef&&V.itemsRef[J],be=ne&&ne.getElementsByTagName("img")||[];return be[0]}),C(H(V),"getVariableItemHeight",function(J){var ne=V.itemsRef&&V.itemsRef[J];if(V.state.hasMount&&ne&&ne.children.length){var be=ne.children[0].getElementsByTagName("img")||[];if(be.length>0){var B=be[0];if(!B.complete){var le=function ye(){V.forceUpdate(),B.removeEventListener("load",ye)};B.addEventListener("load",le)}}var pe=be[0]||ne.children[0],_e=pe.clientHeight;return _e>0?_e:null}return null});var z={initialized:!1,previousItem:G.selectedItem,selectedItem:G.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:G.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return V.animationHandler=typeof G.animationHandler=="function"&&G.animationHandler||G.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,V.state=S(S({},z),V.animationHandler(G,z)),V}return $(A,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(V,z){!V.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!V.autoFocus&&this.props.autoFocus&&this.forceFocus(),z.swiping&&!this.state.swiping&&this.setState(S({},this.props.stopSwipingHandler(this.props,this.state))),(V.selectedItem!==this.props.selectedItem||V.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),V.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var V=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var z=V.getInitialImage();z&&!z.complete?z.addEventListener("load",V.setMountState):V.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var V=this.carouselWrapperRef;this.props.stopOnHover&&V&&(V.addEventListener("mouseenter",this.stopOnHover),V.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var V=this.carouselWrapperRef;this.props.stopOnHover&&V&&(V.removeEventListener("mouseenter",this.stopOnHover),V.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,s.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var V=this.getInitialImage();V&&V.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,s.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var V;(V=this.carouselWrapperRef)===null||V===void 0||V.focus()}},{key:"renderItems",value:function(V){var z=this;return this.props.children?n.Children.map(this.props.children,function(J,ne){var be=ne===z.state.selectedItem,B=ne===z.state.previousItem,le=be&&z.state.selectedStyle||B&&z.state.prevStyle||z.state.slideStyle||{};z.props.centerMode&&z.props.axis==="horizontal"&&(le=S(S({},le),{},{minWidth:z.props.centerSlidePercentage+"%"})),z.state.swiping&&z.state.swipeMovementStarted&&(le=S(S({},le),{},{pointerEvents:"none"}));var pe={ref:function(ye){return z.setItemsRef(ye,ne)},key:"itemKey"+ne+(V?"clone":""),className:t.default.ITEM(!0,ne===z.state.selectedItem,ne===z.state.previousItem),onClick:z.handleClickItem.bind(z,ne,J),style:le};return n.default.createElement("li",pe,z.props.renderItem(J,{isSelected:ne===z.state.selectedItem,isPrevious:ne===z.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var V=this,z=this.props,J=z.showIndicators,ne=z.labels,be=z.renderIndicator,B=z.children;return J?n.default.createElement("ul",{className:"control-dots"},n.Children.map(B,function(le,pe){return be&&be(V.changeItem(pe),pe===V.state.selectedItem,pe,ne.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var V=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var z=this.props.swipeable&&n.Children.count(this.props.children)>1,J=this.props.axis==="horizontal",ne=this.props.showArrows&&n.Children.count(this.props.children)>1,be=ne&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,B=ne&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,le=this.renderItems(!0),pe=le.shift(),_e=le.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},xe={};if(J){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var Ce=this.getVariableItemHeight(this.state.selectedItem);xe.height=Ce||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=S(S({},ye.style),{},{height:this.state.itemSize}),xe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,be,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:xe},z?n.default.createElement(e.default,w({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&_e,this.renderItems(),this.props.infiniteLoop&&pe):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(Qe){return V.setListRef(Qe)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&_e,this.renderItems(),this.props.infiniteLoop&&pe)),this.props.renderArrowNext(this.onClickNext,B,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),A})(n.default.Component);return gf.default=L,C(L,"displayName","Carousel"),C(L,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(E,A,G){return n.default.createElement("button",{type:"button","aria-label":G,className:t.default.ARROW_PREV(!A),onClick:E})},renderArrowNext:function(E,A,G){return n.default.createElement("button",{type:"button","aria-label":G,className:t.default.ARROW_NEXT(!A),onClick:E})},renderIndicator:function(E,A,G,V){return n.default.createElement("li",{className:t.default.DOT(A),onClick:E,onKeyDown:E,value:G,key:G,role:"button",tabIndex:0,"aria-label":"".concat(V," ").concat(G+1)})},renderItem:function(E){return E},renderThumbs:function(E){var A=n.Children.map(E,function(G){var V=G;if(G.type!=="img"&&(V=n.Children.toArray(G.props.children).find(function(z){return z.type==="img"})),!!V)return V});return A.filter(function(G){return G}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):A},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),gf}var eC={},tC;function Iq(){return tC||(tC=1),eC}var nC;function Rq(){return nC||(nC=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=s(Aq()),t=Iq(),r=s(WN());function s(o){return o&&o.__esModule?o:{default:o}}})(RE)),RE}var Cq=Rq();const Pq="/assets/book-Fp0oaH3y.jpg",Oq="/assets/gift-CkphoOno.jpg",Dq="/assets/kichen-BPr44Ttk.jpg",xq="/assets/lunar-DyEwXiX8.jpg",Nq="/assets/toys-bl35EseN.jpg",kq=[Pq,Oq,Dq,xq,Nq],Mq="_hero_img_1xsah_1",rC={hero_img:Mq};function Vq(){return M.createElement("div",{className:rC.effect_margin},M.createElement(Cq.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1},kq.map(n=>M.createElement("img",{src:n}))),M.createElement("div",{className:rC.hero_img}))}const Lq=[{title:"Electronics",name:"electronics",imgLink:"https://i.pinimg.com/736x/b6/63/50/b66350a870a578f440dba80f7576f19b.jpg"},{title:"Women's clothing",name:"women's clothing",imgLink:"https://cdn-images.italist.com/image/upload/t_zoom_v3_q_auto/f4035ab67e0d3edc41c27f7f0de1018f.jpg"},{title:"Jewelery",name:"jewelery",imgLink:"https://broadwayjewellers.co.za/cdn/shop/collections/Jewellery_Image.png?v=1698590196"},{title:"Men's clothing",name:"men's clothing",imgLink:"https://i.pinimg.com/736x/e8/90/91/e890916c9fcb638326f65b24d3509373.jpg"}],Uq="_category_13g2l_1",Bq="_category_container_13g2l_67",YN={category:Uq,category_container:Bq};function Fq({data:n}){return M.createElement("div",{className:YN.category},M.createElement(fi,{to:`/category/${n.name}`},M.createElement("span",null,M.createElement("h2",null,n?.title)),M.createElement("img",{src:n?.imgLink,alt:""}),M.createElement("p",null,"shop now")))}function zq(){return M.createElement("section",{className:YN.category_container},Lq.map((n,e)=>M.createElement(Fq,{key:e,data:n})))}function XN(n,e){return function(){return n.apply(e,arguments)}}const{toString:qq}=Object.prototype,{getPrototypeOf:FT}=Object,{iterator:Uy,toStringTag:JN}=Symbol,By=(n=>e=>{const t=qq.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),_i=n=>(n=n.toLowerCase(),e=>By(e)===n),Fy=n=>e=>typeof e===n,{isArray:Yc}=Array,Pc=Fy("undefined");function em(n){return n!==null&&!Pc(n)&&n.constructor!==null&&!Pc(n.constructor)&&mr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ZN=_i("ArrayBuffer");function jq(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ZN(n.buffer),e}const Hq=Fy("string"),mr=Fy("function"),e2=Fy("number"),tm=n=>n!==null&&typeof n=="object",$q=n=>n===!0||n===!1,ag=n=>{if(By(n)!=="object")return!1;const e=FT(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(JN in n)&&!(Uy in n)},Gq=n=>{if(!tm(n)||em(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Kq=_i("Date"),Wq=_i("File"),Qq=_i("Blob"),Yq=_i("FileList"),Xq=n=>tm(n)&&mr(n.pipe),Jq=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||mr(n.append)&&((e=By(n))==="formdata"||e==="object"&&mr(n.toString)&&n.toString()==="[object FormData]"))},Zq=_i("URLSearchParams"),[e7,t7,n7,r7]=["ReadableStream","Request","Response","Headers"].map(_i),i7=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),Yc(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{if(em(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function t2(n,e){if(em(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const gl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,n2=n=>!Pc(n)&&n!==gl;function Nw(){const{caseless:n,skipUndefined:e}=n2(this)&&this||{},t={},r=(s,o)=>{const u=n&&t2(t,o)||o;ag(t[u])&&ag(s)?t[u]=Nw(t[u],s):ag(s)?t[u]=Nw({},s):Yc(s)?t[u]=s.slice():(!e||!Pc(s))&&(t[u]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&nm(arguments[s],r);return t}const s7=(n,e,t,{allOwnKeys:r}={})=>(nm(e,(s,o)=>{t&&mr(s)?n[o]=XN(s,t):n[o]=s},{allOwnKeys:r}),n),a7=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),o7=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},l7=(n,e,t,r)=>{let s,o,u;const h={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),o=s.length;o-- >0;)u=s[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&FT(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},u7=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},c7=n=>{if(!n)return null;if(Yc(n))return n;let e=n.length;if(!e2(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},h7=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&FT(Uint8Array)),f7=(n,e)=>{const r=(n&&n[Uy]).call(n);let s;for(;(s=r.next())&&!s.done;){const o=s.value;e.call(n,o[0],o[1])}},d7=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},m7=_i("HTMLFormElement"),p7=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),iC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),g7=_i("RegExp"),r2=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};nm(t,(s,o)=>{let u;(u=e(s,o,n))!==!1&&(r[o]=u||s)}),Object.defineProperties(n,r)},y7=n=>{r2(n,(e,t)=>{if(mr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(mr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},_7=(n,e)=>{const t={},r=s=>{s.forEach(o=>{t[o]=!0})};return Yc(n)?r(n):r(String(n).split(e)),t},v7=()=>{},E7=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function w7(n){return!!(n&&mr(n.append)&&n[JN]==="FormData"&&n[Uy])}const b7=n=>{const e=new Array(10),t=(r,s)=>{if(tm(r)){if(e.indexOf(r)>=0)return;if(em(r))return r;if(!("toJSON"in r)){e[s]=r;const o=Yc(r)?[]:{};return nm(r,(u,h)=>{const f=t(u,s+1);!Pc(f)&&(o[h]=f)}),e[s]=void 0,o}}return r};return t(n,0)},T7=_i("AsyncFunction"),S7=n=>n&&(tm(n)||mr(n))&&mr(n.then)&&mr(n.catch),i2=((n,e)=>n?setImmediate:e?((t,r)=>(gl.addEventListener("message",({source:s,data:o})=>{s===gl&&o===t&&r.length&&r.shift()()},!1),s=>{r.push(s),gl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",mr(gl.postMessage)),A7=typeof queueMicrotask<"u"?queueMicrotask.bind(gl):typeof process<"u"&&process.nextTick||i2,I7=n=>n!=null&&mr(n[Uy]),oe={isArray:Yc,isArrayBuffer:ZN,isBuffer:em,isFormData:Jq,isArrayBufferView:jq,isString:Hq,isNumber:e2,isBoolean:$q,isObject:tm,isPlainObject:ag,isEmptyObject:Gq,isReadableStream:e7,isRequest:t7,isResponse:n7,isHeaders:r7,isUndefined:Pc,isDate:Kq,isFile:Wq,isBlob:Qq,isRegExp:g7,isFunction:mr,isStream:Xq,isURLSearchParams:Zq,isTypedArray:h7,isFileList:Yq,forEach:nm,merge:Nw,extend:s7,trim:i7,stripBOM:a7,inherits:o7,toFlatObject:l7,kindOf:By,kindOfTest:_i,endsWith:u7,toArray:c7,forEachEntry:f7,matchAll:d7,isHTMLForm:m7,hasOwnProperty:iC,hasOwnProp:iC,reduceDescriptors:r2,freezeMethods:y7,toObjectSet:_7,toCamelCase:p7,noop:v7,toFiniteNumber:E7,findKey:t2,global:gl,isContextDefined:n2,isSpecCompliantForm:w7,toJSONObject:b7,isAsyncFn:T7,isThenable:S7,setImmediate:i2,asap:A7,isIterable:I7};function Ve(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}oe.inherits(Ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const s2=Ve.prototype,a2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{a2[n]={value:n}});Object.defineProperties(Ve,a2);Object.defineProperty(s2,"isAxiosError",{value:!0});Ve.from=(n,e,t,r,s,o)=>{const u=Object.create(s2);oe.toFlatObject(n,u,function(y){return y!==Error.prototype},m=>m!=="isAxiosError");const h=n&&n.message?n.message:"Error",f=e==null&&n?n.code:e;return Ve.call(u,h,f,t,r,s),n&&u.cause==null&&Object.defineProperty(u,"cause",{value:n,configurable:!0}),u.name=n&&n.name||"Error",o&&Object.assign(u,o),u};const R7=null;function kw(n){return oe.isPlainObject(n)||oe.isArray(n)}function o2(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function sC(n,e,t){return n?n.concat(e).map(function(s,o){return s=o2(s),!t&&o?"["+s+"]":s}).join(t?".":""):e}function C7(n){return oe.isArray(n)&&!n.some(kw)}const P7=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function zy(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,x){return!oe.isUndefined(x[P])});const r=t.metaTokens,s=t.visitor||y,o=t.dots,u=t.indexes,f=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(s))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(oe.isDate(S))return S.toISOString();if(oe.isBoolean(S))return S.toString();if(!f&&oe.isBlob(S))throw new Ve("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(S)||oe.isTypedArray(S)?f&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function y(S,P,x){let $=S;if(S&&!x&&typeof S=="object"){if(oe.endsWith(P,"{}"))P=r?P:P.slice(0,-2),S=JSON.stringify(S);else if(oe.isArray(S)&&C7(S)||(oe.isFileList(S)||oe.endsWith(P,"[]"))&&($=oe.toArray(S)))return P=o2(P),$.forEach(function(q,W){!(oe.isUndefined(q)||q===null)&&e.append(u===!0?sC([P],W,o):u===null?P:P+"[]",m(q))}),!1}return kw(S)?!0:(e.append(sC(x,P,o),m(S)),!1)}const _=[],w=Object.assign(P7,{defaultVisitor:y,convertValue:m,isVisitable:kw});function R(S,P){if(!oe.isUndefined(S)){if(_.indexOf(S)!==-1)throw Error("Circular reference detected in "+P.join("."));_.push(S),oe.forEach(S,function($,U){(!(oe.isUndefined($)||$===null)&&s.call(e,$,oe.isString(U)?U.trim():U,P,w))===!0&&R($,P?P.concat(U):[U])}),_.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return R(n),e}function aC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zT(n,e){this._pairs=[],n&&zy(n,this,e)}const l2=zT.prototype;l2.append=function(e,t){this._pairs.push([e,t])};l2.toString=function(e){const t=e?function(r){return e.call(this,r,aC)}:aC;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function O7(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function u2(n,e,t){if(!e)return n;const r=t&&t.encode||O7;oe.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let o;if(s?o=s(e,t):o=oe.isURLSearchParams(e)?e.toString():new zT(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class oC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const c2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D7=typeof URLSearchParams<"u"?URLSearchParams:zT,x7=typeof FormData<"u"?FormData:null,N7=typeof Blob<"u"?Blob:null,k7={isBrowser:!0,classes:{URLSearchParams:D7,FormData:x7,Blob:N7},protocols:["http","https","file","blob","url","data"]},qT=typeof window<"u"&&typeof document<"u",Mw=typeof navigator=="object"&&navigator||void 0,M7=qT&&(!Mw||["ReactNative","NativeScript","NS"].indexOf(Mw.product)<0),V7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",L7=qT&&window.location.href||"http://localhost",U7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qT,hasStandardBrowserEnv:M7,hasStandardBrowserWebWorkerEnv:V7,navigator:Mw,origin:L7},Symbol.toStringTag,{value:"Module"})),Gn={...U7,...k7};function B7(n,e){return zy(n,new Gn.classes.URLSearchParams,{visitor:function(t,r,s,o){return Gn.isNode&&oe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function F7(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function z7(n){const e={},t=Object.keys(n);let r;const s=t.length;let o;for(r=0;r<s;r++)o=t[r],e[o]=n[o];return e}function h2(n){function e(t,r,s,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),f=o>=t.length;return u=!u&&oe.isArray(s)?s.length:u,f?(oe.hasOwnProp(s,u)?s[u]=[s[u],r]:s[u]=r,!h):((!s[u]||!oe.isObject(s[u]))&&(s[u]=[]),e(t,r,s[u],o)&&oe.isArray(s[u])&&(s[u]=z7(s[u])),!h)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(r,s)=>{e(F7(r),s,t,0)}),t}return null}function q7(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const rm={transitional:c2,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,o=oe.isObject(e);if(o&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return s?JSON.stringify(h2(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e)||oe.isReadableStream(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B7(e,this.formSerializer).toString();if((h=oe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return zy(h?{"files[]":e}:e,f&&new f,this.formSerializer)}}return o||s?(t.setContentType("application/json",!1),q7(e)):e}],transformResponse:[function(e){const t=this.transitional||rm.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(oe.isResponse(e)||oe.isReadableStream(e))return e;if(e&&oe.isString(e)&&(r&&!this.responseType||s)){const u=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?Ve.from(h,Ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Gn.classes.FormData,Blob:Gn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{rm.headers[n]={}});const j7=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H7=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(u){s=u.indexOf(":"),t=u.substring(0,s).trim().toLowerCase(),r=u.substring(s+1).trim(),!(!t||e[t]&&j7[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},lC=Symbol("internals");function Tf(n){return n&&String(n).trim().toLowerCase()}function og(n){return n===!1||n==null?n:oe.isArray(n)?n.map(og):String(n)}function $7(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const G7=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function xE(n,e,t,r,s){if(oe.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!oe.isString(e)){if(oe.isString(r))return e.indexOf(r)!==-1;if(oe.isRegExp(r))return r.test(e)}}function K7(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function W7(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,o,u){return this[r].call(this,e,s,o,u)},configurable:!0})})}let pr=class{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function o(h,f,m){const y=Tf(f);if(!y)throw new Error("header name must be a non-empty string");const _=oe.findKey(s,y);(!_||s[_]===void 0||m===!0||m===void 0&&s[_]!==!1)&&(s[_||f]=og(h))}const u=(h,f)=>oe.forEach(h,(m,y)=>o(m,y,f));if(oe.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(oe.isString(e)&&(e=e.trim())&&!G7(e))u(H7(e),t);else if(oe.isObject(e)&&oe.isIterable(e)){let h={},f,m;for(const y of e){if(!oe.isArray(y))throw TypeError("Object iterator must return a key-value pair");h[m=y[0]]=(f=h[m])?oe.isArray(f)?[...f,y[1]]:[f,y[1]]:y[1]}u(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=Tf(e),e){const r=oe.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return $7(s);if(oe.isFunction(t))return t.call(this,s,r);if(oe.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Tf(e),e){const r=oe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||xE(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function o(u){if(u=Tf(u),u){const h=oe.findKey(r,u);h&&(!t||xE(r,r[h],h,t))&&(delete r[h],s=!0)}}return oe.isArray(e)?e.forEach(o):o(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const o=t[r];(!e||xE(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const t=this,r={};return oe.forEach(this,(s,o)=>{const u=oe.findKey(r,o);if(u){t[u]=og(s),delete t[o];return}const h=e?K7(o):String(o).trim();h!==o&&delete t[o],t[h]=og(s),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&oe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[lC]=this[lC]={accessors:{}}).accessors,s=this.prototype;function o(u){const h=Tf(u);r[h]||(W7(s,u),r[h]=!0)}return oe.isArray(e)?e.forEach(o):o(e),this}};pr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(pr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});oe.freezeMethods(pr);function NE(n,e){const t=this||rm,r=e||t,s=pr.from(r.headers);let o=r.data;return oe.forEach(n,function(h){o=h.call(t,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function f2(n){return!!(n&&n.__CANCEL__)}function Xc(n,e,t){Ve.call(this,n??"canceled",Ve.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Xc,Ve,{__CANCEL__:!0});function d2(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Ve("Request failed with status code "+t.status,[Ve.ERR_BAD_REQUEST,Ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Q7(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Y7(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,o=0,u;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),y=r[o];u||(u=m),t[s]=f,r[s]=m;let _=o,w=0;for(;_!==s;)w+=t[_++],_=_%n;if(s=(s+1)%n,s===o&&(o=(o+1)%n),m-u<e)return;const R=y&&m-y;return R?Math.round(w*1e3/R):void 0}}function X7(n,e){let t=0,r=1e3/e,s,o;const u=(m,y=Date.now())=>{t=y,s=null,o&&(clearTimeout(o),o=null),n(...m)};return[(...m)=>{const y=Date.now(),_=y-t;_>=r?u(m,y):(s=m,o||(o=setTimeout(()=>{o=null,u(s)},r-_)))},()=>s&&u(s)]}const Hg=(n,e,t=3)=>{let r=0;const s=Y7(50,250);return X7(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,f=u-r,m=s(f),y=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:f,rate:m||void 0,estimated:m&&h&&y?(h-u)/m:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},uC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},cC=n=>(...e)=>oe.asap(()=>n(...e)),J7=Gn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Gn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Gn.origin),Gn.navigator&&/(msie|trident)/i.test(Gn.navigator.userAgent)):()=>!0,Z7=Gn.hasStandardBrowserEnv?{write(n,e,t,r,s,o){const u=[n+"="+encodeURIComponent(e)];oe.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),oe.isString(r)&&u.push("path="+r),oe.isString(s)&&u.push("domain="+s),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ej(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function tj(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function m2(n,e,t){let r=!ej(e);return n&&(r||t==!1)?tj(n,e):e}const hC=n=>n instanceof pr?{...n}:n;function kl(n,e){e=e||{};const t={};function r(m,y,_,w){return oe.isPlainObject(m)&&oe.isPlainObject(y)?oe.merge.call({caseless:w},m,y):oe.isPlainObject(y)?oe.merge({},y):oe.isArray(y)?y.slice():y}function s(m,y,_,w){if(oe.isUndefined(y)){if(!oe.isUndefined(m))return r(void 0,m,_,w)}else return r(m,y,_,w)}function o(m,y){if(!oe.isUndefined(y))return r(void 0,y)}function u(m,y){if(oe.isUndefined(y)){if(!oe.isUndefined(m))return r(void 0,m)}else return r(void 0,y)}function h(m,y,_){if(_ in e)return r(m,y);if(_ in n)return r(void 0,m)}const f={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,y,_)=>s(hC(m),hC(y),_,!0)};return oe.forEach(Object.keys({...n,...e}),function(y){const _=f[y]||s,w=_(n[y],e[y],y);oe.isUndefined(w)&&_!==h||(t[y]=w)}),t}const p2=n=>{const e=kl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:u,auth:h}=e;if(e.headers=u=pr.from(u),e.url=u2(m2(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),oe.isFormData(t)){if(Gn.hasStandardBrowserEnv||Gn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(oe.isFunction(t.getHeaders)){const f=t.getHeaders(),m=["content-type","content-length"];Object.entries(f).forEach(([y,_])=>{m.includes(y.toLowerCase())&&u.set(y,_)})}}if(Gn.hasStandardBrowserEnv&&(r&&oe.isFunction(r)&&(r=r(e)),r||r!==!1&&J7(e.url))){const f=s&&o&&Z7.read(o);f&&u.set(s,f)}return e},nj=typeof XMLHttpRequest<"u",rj=nj&&function(n){return new Promise(function(t,r){const s=p2(n);let o=s.data;const u=pr.from(s.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:m}=s,y,_,w,R,S;function P(){R&&R(),S&&S(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let x=new XMLHttpRequest;x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout;function $(){if(!x)return;const q=pr.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:q,config:n,request:x};d2(function(k){t(k),P()},function(k){r(k),P()},j),x=null}"onloadend"in x?x.onloadend=$:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout($)},x.onabort=function(){x&&(r(new Ve("Request aborted",Ve.ECONNABORTED,n,x)),x=null)},x.onerror=function(W){const j=W&&W.message?W.message:"Network Error",H=new Ve(j,Ve.ERR_NETWORK,n,x);H.event=W||null,r(H),x=null},x.ontimeout=function(){let W=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const j=s.transitional||c2;s.timeoutErrorMessage&&(W=s.timeoutErrorMessage),r(new Ve(W,j.clarifyTimeoutError?Ve.ETIMEDOUT:Ve.ECONNABORTED,n,x)),x=null},o===void 0&&u.setContentType(null),"setRequestHeader"in x&&oe.forEach(u.toJSON(),function(W,j){x.setRequestHeader(j,W)}),oe.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),h&&h!=="json"&&(x.responseType=s.responseType),m&&([w,S]=Hg(m,!0),x.addEventListener("progress",w)),f&&x.upload&&([_,R]=Hg(f),x.upload.addEventListener("progress",_),x.upload.addEventListener("loadend",R)),(s.cancelToken||s.signal)&&(y=q=>{x&&(r(!q||q.type?new Xc(null,n,x):q),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const U=Q7(s.url);if(U&&Gn.protocols.indexOf(U)===-1){r(new Ve("Unsupported protocol "+U+":",Ve.ERR_BAD_REQUEST,n));return}x.send(o||null)})},ij=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const o=function(m){if(!s){s=!0,h();const y=m instanceof Error?m:this.reason;r.abort(y instanceof Ve?y:new Xc(y instanceof Error?y.message:y))}};let u=e&&setTimeout(()=>{u=null,o(new Ve(`timeout ${e} of ms exceeded`,Ve.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),n=null)};n.forEach(m=>m.addEventListener("abort",o));const{signal:f}=r;return f.unsubscribe=()=>oe.asap(h),f}},sj=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},aj=async function*(n,e){for await(const t of oj(n))yield*sj(t,e)},oj=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},fC=(n,e,t,r)=>{const s=aj(n,e);let o=0,u,h=f=>{u||(u=!0,r&&r(f))};return new ReadableStream({async pull(f){try{const{done:m,value:y}=await s.next();if(m){h(),f.close();return}let _=y.byteLength;if(t){let w=o+=_;t(w)}f.enqueue(new Uint8Array(y))}catch(m){throw h(m),m}},cancel(f){return h(f),s.return()}},{highWaterMark:2})},dC=64*1024,{isFunction:Lp}=oe,lj=(({Request:n,Response:e})=>({Request:n,Response:e}))(oe.global),{ReadableStream:mC,TextEncoder:pC}=oe.global,gC=(n,...e)=>{try{return!!n(...e)}catch{return!1}},uj=n=>{n=oe.merge.call({skipUndefined:!0},lj,n);const{fetch:e,Request:t,Response:r}=n,s=e?Lp(e):typeof fetch=="function",o=Lp(t),u=Lp(r);if(!s)return!1;const h=s&&Lp(mC),f=s&&(typeof pC=="function"?(S=>P=>S.encode(P))(new pC):async S=>new Uint8Array(await new t(S).arrayBuffer())),m=o&&h&&gC(()=>{let S=!1;const P=new t(Gn.origin,{body:new mC,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!P}),y=u&&h&&gC(()=>oe.isReadableStream(new r("").body)),_={stream:y&&(S=>S.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!_[S]&&(_[S]=(P,x)=>{let $=P&&P[S];if($)return $.call(P);throw new Ve(`Response type '${S}' is not supported`,Ve.ERR_NOT_SUPPORT,x)})});const w=async S=>{if(S==null)return 0;if(oe.isBlob(S))return S.size;if(oe.isSpecCompliantForm(S))return(await new t(Gn.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(S)||oe.isArrayBuffer(S))return S.byteLength;if(oe.isURLSearchParams(S)&&(S=S+""),oe.isString(S))return(await f(S)).byteLength},R=async(S,P)=>{const x=oe.toFiniteNumber(S.getContentLength());return x??w(P)};return async S=>{let{url:P,method:x,data:$,signal:U,cancelToken:q,timeout:W,onDownloadProgress:j,onUploadProgress:H,responseType:k,headers:I,withCredentials:C="same-origin",fetchOptions:L}=p2(S),D=e||fetch;k=k?(k+"").toLowerCase():"text";let E=ij([U,q&&q.toAbortSignal()],W),A=null;const G=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let V;try{if(H&&m&&x!=="get"&&x!=="head"&&(V=await R(I,$))!==0){let le=new t(P,{method:"POST",body:$,duplex:"half"}),pe;if(oe.isFormData($)&&(pe=le.headers.get("content-type"))&&I.setContentType(pe),le.body){const[_e,ye]=uC(V,Hg(cC(H)));$=fC(le.body,dC,_e,ye)}}oe.isString(C)||(C=C?"include":"omit");const z=o&&"credentials"in t.prototype,J={...L,signal:E,method:x.toUpperCase(),headers:I.normalize().toJSON(),body:$,duplex:"half",credentials:z?C:void 0};A=o&&new t(P,J);let ne=await(o?D(A,L):D(P,J));const be=y&&(k==="stream"||k==="response");if(y&&(j||be&&G)){const le={};["status","statusText","headers"].forEach(xe=>{le[xe]=ne[xe]});const pe=oe.toFiniteNumber(ne.headers.get("content-length")),[_e,ye]=j&&uC(pe,Hg(cC(j),!0))||[];ne=new r(fC(ne.body,dC,_e,()=>{ye&&ye(),G&&G()}),le)}k=k||"text";let B=await _[oe.findKey(_,k)||"text"](ne,S);return!be&&G&&G(),await new Promise((le,pe)=>{d2(le,pe,{data:B,headers:pr.from(ne.headers),status:ne.status,statusText:ne.statusText,config:S,request:A})})}catch(z){throw G&&G(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new Ve("Network Error",Ve.ERR_NETWORK,S,A),{cause:z.cause||z}):Ve.from(z,z&&z.code,S,A)}}},cj=new Map,g2=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:s}=e,o=[r,s,t];let u=o.length,h=u,f,m,y=cj;for(;h--;)f=o[h],m=y.get(f),m===void 0&&y.set(f,m=h?new Map:uj(e)),y=m;return m};g2();const Vw={http:R7,xhr:rj,fetch:{get:g2}};oe.forEach(Vw,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const yC=n=>`- ${n}`,hj=n=>oe.isFunction(n)||n===null||n===!1,y2={getAdapter:(n,e)=>{n=oe.isArray(n)?n:[n];const{length:t}=n;let r,s;const o={};for(let u=0;u<t;u++){r=n[u];let h;if(s=r,!hj(r)&&(s=Vw[(h=String(r)).toLowerCase()],s===void 0))throw new Ve(`Unknown adapter '${h}'`);if(s&&(oe.isFunction(s)||(s=s.get(e))))break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([f,m])=>`adapter ${f} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(yC).join(`
`):" "+yC(u[0]):"as no adapter specified";throw new Ve("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Vw};function kE(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Xc(null,n)}function _C(n){return kE(n),n.headers=pr.from(n.headers),n.data=NE.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),y2.getAdapter(n.adapter||rm.adapter,n)(n).then(function(r){return kE(n),r.data=NE.call(n,n.transformResponse,r),r.headers=pr.from(r.headers),r},function(r){return f2(r)||(kE(n),r&&r.response&&(r.response.data=NE.call(n,n.transformResponse,r.response),r.response.headers=pr.from(r.response.headers))),Promise.reject(r)})}const _2="1.12.2",qy={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{qy[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const vC={};qy.transitional=function(e,t,r){function s(o,u){return"[Axios v"+_2+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Ve(s(u," has been removed"+(t?" in "+t:"")),Ve.ERR_DEPRECATED);return t&&!vC[u]&&(vC[u]=!0,console.warn(s(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};qy.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function fj(n,e,t){if(typeof n!="object")throw new Ve("options must be an object",Ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const o=r[s],u=e[o];if(u){const h=n[o],f=h===void 0||u(h,o,n);if(f!==!0)throw new Ve("option "+o+" must be "+f,Ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Ve("Unknown option "+o,Ve.ERR_BAD_OPTION)}}const lg={assertOptions:fj,validators:qy},ki=lg.validators;let wl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new oC,response:new oC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=kl(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:o}=t;r!==void 0&&lg.assertOptions(r,{silentJSONParsing:ki.transitional(ki.boolean),forcedJSONParsing:ki.transitional(ki.boolean),clarifyTimeoutError:ki.transitional(ki.boolean)},!1),s!=null&&(oe.isFunction(s)?t.paramsSerializer={serialize:s}:lg.assertOptions(s,{encode:ki.function,serialize:ki.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lg.assertOptions(t,{baseUrl:ki.spelling("baseURL"),withXsrfToken:ki.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&oe.merge(o.common,o[t.method]);o&&oe.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),t.headers=pr.concat(u,o);const h=[];let f=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(t)===!1||(f=f&&P.synchronous,h.unshift(P.fulfilled,P.rejected))});const m=[];this.interceptors.response.forEach(function(P){m.push(P.fulfilled,P.rejected)});let y,_=0,w;if(!f){const S=[_C.bind(this),void 0];for(S.unshift(...h),S.push(...m),w=S.length,y=Promise.resolve(t);_<w;)y=y.then(S[_++],S[_++]);return y}w=h.length;let R=t;for(;_<w;){const S=h[_++],P=h[_++];try{R=S(R)}catch(x){P.call(this,x);break}}try{y=_C.call(this,R)}catch(S){return Promise.reject(S)}for(_=0,w=m.length;_<w;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=kl(this.defaults,e);const t=m2(e.baseURL,e.url,e.allowAbsoluteUrls);return u2(t,e.params,e.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(e){wl.prototype[e]=function(t,r){return this.request(kl(r||{},{method:e,url:t,data:(r||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(kl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}wl.prototype[e]=t(),wl.prototype[e+"Form"]=t(!0)});let dj=class v2{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(s);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new Xc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new v2(function(s){e=s}),cancel:e}}};function mj(n){return function(t){return n.apply(null,t)}}function pj(n){return oe.isObject(n)&&n.isAxiosError===!0}const Lw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lw).forEach(([n,e])=>{Lw[e]=n});function E2(n){const e=new wl(n),t=XN(wl.prototype.request,e);return oe.extend(t,wl.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return E2(kl(n,s))},t}const Ot=E2(rm);Ot.Axios=wl;Ot.CanceledError=Xc;Ot.CancelToken=dj;Ot.isCancel=f2;Ot.VERSION=_2;Ot.toFormData=zy;Ot.AxiosError=Ve;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=mj;Ot.isAxiosError=pj;Ot.mergeConfig=kl;Ot.AxiosHeaders=pr;Ot.formToJSON=n=>h2(oe.isHTMLForm(n)?new FormData(n):n);Ot.getAdapter=y2.getAdapter;Ot.HttpStatusCode=Lw;Ot.default=Ot;const{Axios:PW,AxiosError:OW,CanceledError:DW,isCancel:xW,CancelToken:NW,VERSION:kW,all:MW,Cancel:VW,isAxiosError:LW,spread:UW,toFormData:BW,AxiosHeaders:FW,HttpStatusCode:zW,formToJSON:qW,getAdapter:jW,mergeConfig:HW}=Ot,gj="_card_container_1nwv5_1",yj="_button_1nwv5_21",_j="_rating_1nwv5_75",vj="_products_container_1nwv5_95",Ej="_product_flexed_1nwv5_121",al={card_container:gj,button:yj,rating:_j,products_container:vj,product_flexed:Ej},Qr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function jT({amount:n}){if(typeof n!="number"||isNaN(n))return null;const e=`$${n.toFixed(2)}`;return M.createElement("span",null,e)}var wj=HN();const bt=Yw(wj);function w2(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=w2(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Ga(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=w2(n))&&(r&&(r+=" "),r+=e);return r}function b2(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const bj={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function T2(n,e,t=void 0){const r={};for(const s in n){const o=n[s];let u="",h=!0;for(let f=0;f<o.length;f+=1){const m=o[f];m&&(u+=(h===!0?"":" ")+e(m),h=!1,t&&t[m]&&(u+=" "+t[m]))}r[s]=u}return r}var ME={exports:{}},Sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function Tj(){if(EC)return Sf;EC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Sf.Fragment=e,Sf.jsx=t,Sf.jsxs=t,Sf}var wC;function Sj(){return wC||(wC=1,ME.exports=Tj()),ME.exports}var un=Sj();const Aj=Q.createContext(),Ij=()=>Q.useContext(Aj)??!1;function bC(n){try{return n.matches(":focus-visible")}catch{}return!1}const TC=n=>n,Rj=()=>{let n=TC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=TC}}},Cj=Rj();function Ml(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function so(n){if(typeof n!="string")throw new Error(Ml(7));return n.charAt(0).toUpperCase()+n.slice(1)}var VE={exports:{}},dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function Pj(){if(SC)return dt;SC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.view_transition"),R=Symbol.for("react.client.reference");function S(P){if(typeof P=="object"&&P!==null){var x=P.$$typeof;switch(x){case n:switch(P=P.type,P){case t:case s:case r:case f:case m:case w:return P;default:switch(P=P&&P.$$typeof,P){case u:case h:case _:case y:return P;case o:return P;default:return x}}case e:return x}}}return dt.ContextConsumer=o,dt.ContextProvider=u,dt.Element=n,dt.ForwardRef=h,dt.Fragment=t,dt.Lazy=_,dt.Memo=y,dt.Portal=e,dt.Profiler=s,dt.StrictMode=r,dt.Suspense=f,dt.SuspenseList=m,dt.isContextConsumer=function(P){return S(P)===o},dt.isContextProvider=function(P){return S(P)===u},dt.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===n},dt.isForwardRef=function(P){return S(P)===h},dt.isFragment=function(P){return S(P)===t},dt.isLazy=function(P){return S(P)===_},dt.isMemo=function(P){return S(P)===y},dt.isPortal=function(P){return S(P)===e},dt.isProfiler=function(P){return S(P)===s},dt.isStrictMode=function(P){return S(P)===r},dt.isSuspense=function(P){return S(P)===f},dt.isSuspenseList=function(P){return S(P)===m},dt.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===t||P===s||P===r||P===f||P===m||typeof P=="object"&&P!==null&&(P.$$typeof===_||P.$$typeof===y||P.$$typeof===u||P.$$typeof===o||P.$$typeof===h||P.$$typeof===R||P.getModuleId!==void 0)},dt.typeOf=S,dt}var AC;function Oj(){return AC||(AC=1,VE.exports=Pj()),VE.exports}var S2=Oj();function Cs(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function A2(n){if(Q.isValidElement(n)||S2.isValidElementType(n)||!Cs(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=A2(n[t])}),e}function xr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Cs(n)&&Cs(e)&&Object.keys(e).forEach(s=>{Q.isValidElement(e[s])||S2.isValidElementType(e[s])?r[s]=e[s]:Cs(e[s])&&Object.prototype.hasOwnProperty.call(n,s)&&Cs(n[s])?r[s]=xr(n[s],e[s],t):t.clone?r[s]=Cs(e[s])?A2(e[s]):e[s]:r[s]=e[s]}),r}function ed(n,e){return e?xr(n,e,{clone:!1}):n}function IC(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,s)=>{const o=/min-width:\s*([0-9.]+)/;return+(r.match(o)?.[1]||0)-+(s.match(o)?.[1]||0)});return t.length?t.reduce((r,s)=>{const o=e[s];return delete r[s],r[s]=o,r},{...e}):e}function Dj(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function xj(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,s]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(s).up(o)}function Nj(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const f=e(n.breakpoints.not(...h),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},s=o=>(t(r,o),r);return t(s),{...n,containerQueries:s}}const jy={xs:0,sm:600,md:900,lg:1200,xl:1536},RC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${jy[n]}px)`},kj={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:jy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function Fs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||RC;return e.reduce((u,h,f)=>(u[o.up(o.keys[f])]=t(e[f]),u),{})}if(typeof e=="object"){const o=r.breakpoints||RC;return Object.keys(e).reduce((u,h)=>{if(Dj(o.keys,h)){const f=xj(r.containerQueries?r:kj,h);f&&(u[f]=t(e[h],h))}else if(Object.keys(o.values||jy).includes(h)){const f=o.up(h);u[f]=t(e[h],h)}else{const f=h;u[f]=e[f]}return u},{})}return t(e)}function Mj(n={}){return n.keys?.reduce((t,r)=>{const s=n.up(r);return t[s]={},t},{})||{}}function CC(n,e){return n.reduce((t,r)=>{const s=t[r];return(!s||Object.keys(s).length===0)&&delete t[r],t},e)}function Hy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((s,o)=>s&&s[o]?s[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,s)=>r&&r[s]!=null?r[s]:null,n)}function $g(n,e,t,r=t){let s;return typeof n=="function"?s=n(t):Array.isArray(n)?s=n[t]||r:s=Hy(n,t)||r,e&&(s=e(s,r,n)),s}function en(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:s}=n,o=u=>{if(u[e]==null)return null;const h=u[e],f=u.theme,m=Hy(f,r)||{};return Fs(u,h,_=>{let w=$g(m,s,_);return _===w&&typeof _=="string"&&(w=$g(m,s,`${e}${_==="default"?"":so(_)}`,_)),t===!1?w:{[t]:w}})};return o.propTypes={},o.filterProps=[e],o}function Vj(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Lj={m:"margin",p:"padding"},Uj={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},PC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Bj=Vj(n=>{if(n.length>2)if(PC[n])n=PC[n];else return[n];const[e,t]=n.split(""),r=Lj[e],s=Uj[t]||"";return Array.isArray(s)?s.map(o=>r+o):[r+s]}),HT=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],$T=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...HT,...$T];function im(n,e,t,r){const s=Hy(n,e,!0)??t;return typeof s=="number"||typeof s=="string"?o=>typeof o=="string"?o:typeof s=="string"?s.startsWith("var(")&&o===0?0:s.startsWith("var(")&&o===1?s:`calc(${o} * ${s})`:s*o:Array.isArray(s)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=s[u];return o>=0?h:typeof h=="number"?-h:typeof h=="string"&&h.startsWith("var(")?`calc(-1 * ${h})`:`-${h}`}:typeof s=="function"?s:()=>{}}function GT(n){return im(n,"spacing",8)}function sm(n,e){return typeof e=="string"||e==null?e:n(e)}function Fj(n,e){return t=>n.reduce((r,s)=>(r[s]=sm(e,t),r),{})}function zj(n,e,t,r){if(!e.includes(t))return null;const s=Bj(t),o=Fj(s,r),u=n[t];return Fs(n,u,o)}function I2(n,e){const t=GT(n.theme);return Object.keys(n).map(r=>zj(n,e,r,t)).reduce(ed,{})}function Ut(n){return I2(n,HT)}Ut.propTypes={};Ut.filterProps=HT;function Bt(n){return I2(n,$T)}Bt.propTypes={};Bt.filterProps=$T;function $y(...n){const e=n.reduce((r,s)=>(s.filterProps.forEach(o=>{r[o]=s}),r),{}),t=r=>Object.keys(r).reduce((s,o)=>e[o]?ed(s,e[o](r)):s,{});return t.propTypes={},t.filterProps=n.reduce((r,s)=>r.concat(s.filterProps),[]),t}function Kr(n){return typeof n!="number"?n:`${n}px solid`}function Jr(n,e){return en({prop:n,themeKey:"borders",transform:e})}const qj=Jr("border",Kr),jj=Jr("borderTop",Kr),Hj=Jr("borderRight",Kr),$j=Jr("borderBottom",Kr),Gj=Jr("borderLeft",Kr),Kj=Jr("borderColor"),Wj=Jr("borderTopColor"),Qj=Jr("borderRightColor"),Yj=Jr("borderBottomColor"),Xj=Jr("borderLeftColor"),Jj=Jr("outline",Kr),Zj=Jr("outlineColor"),Gy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=im(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:sm(e,r)});return Fs(n,n.borderRadius,t)}return null};Gy.propTypes={};Gy.filterProps=["borderRadius"];$y(qj,jj,Hj,$j,Gj,Kj,Wj,Qj,Yj,Xj,Gy,Jj,Zj);const Ky=n=>{if(n.gap!==void 0&&n.gap!==null){const e=im(n.theme,"spacing",8),t=r=>({gap:sm(e,r)});return Fs(n,n.gap,t)}return null};Ky.propTypes={};Ky.filterProps=["gap"];const Wy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=im(n.theme,"spacing",8),t=r=>({columnGap:sm(e,r)});return Fs(n,n.columnGap,t)}return null};Wy.propTypes={};Wy.filterProps=["columnGap"];const Qy=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=im(n.theme,"spacing",8),t=r=>({rowGap:sm(e,r)});return Fs(n,n.rowGap,t)}return null};Qy.propTypes={};Qy.filterProps=["rowGap"];const eH=en({prop:"gridColumn"}),tH=en({prop:"gridRow"}),nH=en({prop:"gridAutoFlow"}),rH=en({prop:"gridAutoColumns"}),iH=en({prop:"gridAutoRows"}),sH=en({prop:"gridTemplateColumns"}),aH=en({prop:"gridTemplateRows"}),oH=en({prop:"gridTemplateAreas"}),lH=en({prop:"gridArea"});$y(Ky,Wy,Qy,eH,tH,nH,rH,iH,sH,aH,oH,lH);function rc(n,e){return e==="grey"?e:n}const uH=en({prop:"color",themeKey:"palette",transform:rc}),cH=en({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:rc}),hH=en({prop:"backgroundColor",themeKey:"palette",transform:rc});$y(uH,cH,hH);function Pr(n){return n<=1&&n!==0?`${n*100}%`:n}const fH=en({prop:"width",transform:Pr}),KT=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||jy[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Pr(t)}};return Fs(n,n.maxWidth,e)}return null};KT.filterProps=["maxWidth"];const dH=en({prop:"minWidth",transform:Pr}),mH=en({prop:"height",transform:Pr}),pH=en({prop:"maxHeight",transform:Pr}),gH=en({prop:"minHeight",transform:Pr});en({prop:"size",cssProperty:"width",transform:Pr});en({prop:"size",cssProperty:"height",transform:Pr});const yH=en({prop:"boxSizing"});$y(fH,KT,dH,mH,pH,gH,yH);const Yy={border:{themeKey:"borders",transform:Kr},borderTop:{themeKey:"borders",transform:Kr},borderRight:{themeKey:"borders",transform:Kr},borderBottom:{themeKey:"borders",transform:Kr},borderLeft:{themeKey:"borders",transform:Kr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Kr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Gy},color:{themeKey:"palette",transform:rc},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:rc},backgroundColor:{themeKey:"palette",transform:rc},p:{style:Bt},pt:{style:Bt},pr:{style:Bt},pb:{style:Bt},pl:{style:Bt},px:{style:Bt},py:{style:Bt},padding:{style:Bt},paddingTop:{style:Bt},paddingRight:{style:Bt},paddingBottom:{style:Bt},paddingLeft:{style:Bt},paddingX:{style:Bt},paddingY:{style:Bt},paddingInline:{style:Bt},paddingInlineStart:{style:Bt},paddingInlineEnd:{style:Bt},paddingBlock:{style:Bt},paddingBlockStart:{style:Bt},paddingBlockEnd:{style:Bt},m:{style:Ut},mt:{style:Ut},mr:{style:Ut},mb:{style:Ut},ml:{style:Ut},mx:{style:Ut},my:{style:Ut},margin:{style:Ut},marginTop:{style:Ut},marginRight:{style:Ut},marginBottom:{style:Ut},marginLeft:{style:Ut},marginX:{style:Ut},marginY:{style:Ut},marginInline:{style:Ut},marginInlineStart:{style:Ut},marginInlineEnd:{style:Ut},marginBlock:{style:Ut},marginBlockStart:{style:Ut},marginBlockEnd:{style:Ut},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ky},rowGap:{style:Qy},columnGap:{style:Wy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Pr},maxWidth:{style:KT},minWidth:{transform:Pr},height:{transform:Pr},maxHeight:{transform:Pr},minHeight:{transform:Pr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _H(...n){const e=n.reduce((r,s)=>r.concat(Object.keys(s)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function vH(n,e){return typeof n=="function"?n(e):n}function EH(){function n(t,r,s,o){const u={[t]:r,theme:s},h=o[t];if(!h)return{[t]:r};const{cssProperty:f=t,themeKey:m,transform:y,style:_}=h;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[t]:r};const w=Hy(s,m)||{};return _?_(u):Fs(u,r,S=>{let P=$g(w,y,S);return S===P&&typeof S=="string"&&(P=$g(w,y,`${t}${S==="default"?"":so(S)}`,S)),f===!1?P:{[f]:P}})}function e(t){const{sx:r,theme:s={},nested:o}=t||{};if(!r)return null;const u=s.unstable_sxConfig??Yy;function h(f){let m=f;if(typeof f=="function")m=f(s);else if(typeof f!="object")return f;if(!m)return null;const y=Mj(s.breakpoints),_=Object.keys(y);let w=y;return Object.keys(m).forEach(R=>{const S=vH(m[R],s);if(S!=null)if(typeof S=="object")if(u[R])w=ed(w,n(R,S,s,u));else{const P=Fs({theme:s},S,x=>({[R]:x}));_H(P,S)?w[R]=e({sx:S,theme:s,nested:!0}):w=ed(w,P)}else w=ed(w,n(R,S,s,u))}),!o&&s.modularCssLayers?{"@layer sx":IC(s,CC(_,w))}:IC(s,CC(_,w))}return Array.isArray(r)?r.map(h):h(r)}return e}const Oc=EH();Oc.filterProps=["sx"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Uw.apply(null,arguments)}function wH(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function bH(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var TH=(function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bH(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=wH(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n})(),jn="-ms-",Gg="-moz-",Ze="-webkit-",R2="comm",WT="rule",QT="decl",SH="@import",C2="@keyframes",AH="@layer",IH=Math.abs,Xy=String.fromCharCode,RH=Object.assign;function CH(n,e){return kn(n,0)^45?(((e<<2^kn(n,0))<<2^kn(n,1))<<2^kn(n,2))<<2^kn(n,3):0}function P2(n){return n.trim()}function PH(n,e){return(n=e.exec(n))?n[0]:n}function et(n,e,t){return n.replace(e,t)}function Bw(n,e){return n.indexOf(e)}function kn(n,e){return n.charCodeAt(e)|0}function Ad(n,e,t){return n.slice(e,t)}function Ui(n){return n.length}function YT(n){return n.length}function Up(n,e){return e.push(n),n}function OH(n,e){return n.map(e).join("")}var Jy=1,Dc=1,O2=0,gr=0,cn=0,Jc="";function Zy(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:Jy,column:Dc,length:u,return:""}}function Af(n,e){return RH(Zy("",null,null,"",null,null,0),n,{length:-n.length},e)}function DH(){return cn}function xH(){return cn=gr>0?kn(Jc,--gr):0,Dc--,cn===10&&(Dc=1,Jy--),cn}function Nr(){return cn=gr<O2?kn(Jc,gr++):0,Dc++,cn===10&&(Dc=1,Jy++),cn}function Yi(){return kn(Jc,gr)}function ug(){return gr}function am(n,e){return Ad(Jc,n,e)}function Id(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D2(n){return Jy=Dc=1,O2=Ui(Jc=n),gr=0,[]}function x2(n){return Jc="",n}function cg(n){return P2(am(gr-1,Fw(n===91?n+2:n===40?n+1:n)))}function NH(n){for(;(cn=Yi())&&cn<33;)Nr();return Id(n)>2||Id(cn)>3?"":" "}function kH(n,e){for(;--e&&Nr()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return am(n,ug()+(e<6&&Yi()==32&&Nr()==32))}function Fw(n){for(;Nr();)switch(cn){case n:return gr;case 34:case 39:n!==34&&n!==39&&Fw(cn);break;case 40:n===41&&Fw(n);break;case 92:Nr();break}return gr}function MH(n,e){for(;Nr()&&n+cn!==57;)if(n+cn===84&&Yi()===47)break;return"/*"+am(e,gr-1)+"*"+Xy(n===47?n:Nr())}function VH(n){for(;!Id(Yi());)Nr();return am(n,gr)}function LH(n){return x2(hg("",null,null,null,[""],n=D2(n),0,[0],n))}function hg(n,e,t,r,s,o,u,h,f){for(var m=0,y=0,_=u,w=0,R=0,S=0,P=1,x=1,$=1,U=0,q="",W=s,j=o,H=r,k=q;x;)switch(S=U,U=Nr()){case 40:if(S!=108&&kn(k,_-1)==58){Bw(k+=et(cg(U),"&","&\f"),"&\f")!=-1&&($=-1);break}case 34:case 39:case 91:k+=cg(U);break;case 9:case 10:case 13:case 32:k+=NH(S);break;case 92:k+=kH(ug()-1,7);continue;case 47:switch(Yi()){case 42:case 47:Up(UH(MH(Nr(),ug()),e,t),f);break;default:k+="/"}break;case 123*P:h[m++]=Ui(k)*$;case 125*P:case 59:case 0:switch(U){case 0:case 125:x=0;case 59+y:$==-1&&(k=et(k,/\f/g,"")),R>0&&Ui(k)-_&&Up(R>32?DC(k+";",r,t,_-1):DC(et(k," ","")+";",r,t,_-2),f);break;case 59:k+=";";default:if(Up(H=OC(k,e,t,m,y,s,h,q,W=[],j=[],_),o),U===123)if(y===0)hg(k,e,H,H,W,o,_,h,j);else switch(w===99&&kn(k,3)===110?100:w){case 100:case 108:case 109:case 115:hg(n,H,H,r&&Up(OC(n,H,H,0,0,s,h,q,s,W=[],_),j),s,j,_,h,r?W:j);break;default:hg(k,H,H,H,[""],j,0,h,j)}}m=y=R=0,P=$=1,q=k="",_=u;break;case 58:_=1+Ui(k),R=S;default:if(P<1){if(U==123)--P;else if(U==125&&P++==0&&xH()==125)continue}switch(k+=Xy(U),U*P){case 38:$=y>0?1:(k+="\f",-1);break;case 44:h[m++]=(Ui(k)-1)*$,$=1;break;case 64:Yi()===45&&(k+=cg(Nr())),w=Yi(),y=_=Ui(q=k+=VH(ug())),U++;break;case 45:S===45&&Ui(k)==2&&(P=0)}}return o}function OC(n,e,t,r,s,o,u,h,f,m,y){for(var _=s-1,w=s===0?o:[""],R=YT(w),S=0,P=0,x=0;S<r;++S)for(var $=0,U=Ad(n,_+1,_=IH(P=u[S])),q=n;$<R;++$)(q=P2(P>0?w[$]+" "+U:et(U,/&\f/g,w[$])))&&(f[x++]=q);return Zy(n,e,t,s===0?WT:h,f,m,y)}function UH(n,e,t){return Zy(n,e,t,R2,Xy(DH()),Ad(n,2,-2),0)}function DC(n,e,t,r){return Zy(n,e,t,QT,Ad(n,0,r),Ad(n,r+1,-1),r)}function ic(n,e){for(var t="",r=YT(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function BH(n,e,t,r){switch(n.type){case AH:if(n.children.length)break;case SH:case QT:return n.return=n.return||n.value;case R2:return"";case C2:return n.return=n.value+"{"+ic(n.children,r)+"}";case WT:n.value=n.props.join(",")}return Ui(t=ic(n.children,r))?n.return=n.value+"{"+t+"}":""}function FH(n){var e=YT(n);return function(t,r,s,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,s,o)||"";return u}}function zH(n){return function(e){e.root||(e=e.return)&&n(e)}}function N2(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var qH=function(e,t,r){for(var s=0,o=0;s=o,o=Yi(),s===38&&o===12&&(t[r]=1),!Id(o);)Nr();return am(e,gr)},jH=function(e,t){var r=-1,s=44;do switch(Id(s)){case 0:s===38&&Yi()===12&&(t[r]=1),e[r]+=qH(gr-1,t,r);break;case 2:e[r]+=cg(s);break;case 4:if(s===44){e[++r]=Yi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Xy(s)}while(s=Nr());return e},HH=function(e,t){return x2(jH(D2(e),t))},xC=new WeakMap,$H=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!xC.get(r))&&!s){xC.set(e,!0);for(var o=[],u=HH(t,o),h=r.props,f=0,m=0;f<u.length;f++)for(var y=0;y<h.length;y++,m++)e.props[m]=o[f]?u[f].replace(/&\f/g,h[y]):h[y]+" "+u[f]}}},GH=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function k2(n,e){switch(CH(n,e)){case 5103:return Ze+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ze+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ze+n+Gg+n+jn+n+n;case 6828:case 4268:return Ze+n+jn+n+n;case 6165:return Ze+n+jn+"flex-"+n+n;case 5187:return Ze+n+et(n,/(\w+).+(:[^]+)/,Ze+"box-$1$2"+jn+"flex-$1$2")+n;case 5443:return Ze+n+jn+"flex-item-"+et(n,/flex-|-self/,"")+n;case 4675:return Ze+n+jn+"flex-line-pack"+et(n,/align-content|flex-|-self/,"")+n;case 5548:return Ze+n+jn+et(n,"shrink","negative")+n;case 5292:return Ze+n+jn+et(n,"basis","preferred-size")+n;case 6060:return Ze+"box-"+et(n,"-grow","")+Ze+n+jn+et(n,"grow","positive")+n;case 4554:return Ze+et(n,/([^-])(transform)/g,"$1"+Ze+"$2")+n;case 6187:return et(et(et(n,/(zoom-|grab)/,Ze+"$1"),/(image-set)/,Ze+"$1"),n,"")+n;case 5495:case 3959:return et(n,/(image-set\([^]*)/,Ze+"$1$`$1");case 4968:return et(et(n,/(.+:)(flex-)?(.*)/,Ze+"box-pack:$3"+jn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ze+n+n;case 4095:case 3583:case 4068:case 2532:return et(n,/(.+)-inline(.+)/,Ze+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ui(n)-1-e>6)switch(kn(n,e+1)){case 109:if(kn(n,e+4)!==45)break;case 102:return et(n,/(.+:)(.+)-([^]+)/,"$1"+Ze+"$2-$3$1"+Gg+(kn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Bw(n,"stretch")?k2(et(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(kn(n,e+1)!==115)break;case 6444:switch(kn(n,Ui(n)-3-(~Bw(n,"!important")&&10))){case 107:return et(n,":",":"+Ze)+n;case 101:return et(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ze+(kn(n,14)===45?"inline-":"")+"box$3$1"+Ze+"$2$3$1"+jn+"$2box$3")+n}break;case 5936:switch(kn(n,e+11)){case 114:return Ze+n+jn+et(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ze+n+jn+et(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ze+n+jn+et(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Ze+n+jn+n+n}return n}var KH=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case QT:e.return=k2(e.value,e.length);break;case C2:return ic([Af(e,{value:et(e.value,"@","@"+Ze)})],s);case WT:if(e.length)return OH(e.props,function(o){switch(PH(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ic([Af(e,{props:[et(o,/:(read-\w+)/,":"+Gg+"$1")]})],s);case"::placeholder":return ic([Af(e,{props:[et(o,/:(plac\w+)/,":"+Ze+"input-$1")]}),Af(e,{props:[et(o,/:(plac\w+)/,":"+Gg+"$1")]}),Af(e,{props:[et(o,/:(plac\w+)/,jn+"input-$1")]})],s)}return""})}},WH=[KH],QH=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var x=P.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var s=e.stylisPlugins||WH,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(P){for(var x=P.getAttribute("data-emotion").split(" "),$=1;$<x.length;$++)o[x[$]]=!0;h.push(P)});var f,m=[$H,GH];{var y,_=[BH,zH(function(P){y.insert(P)})],w=FH(m.concat(s,_)),R=function(x){return ic(LH(x),w)};f=function(x,$,U,q){y=U,R(x?x+"{"+$.styles+"}":$.styles),q&&(S.inserted[$.name]=!0)}}var S={key:t,sheet:new TH({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return S.sheet.hydrate(h),S},YH=!0;function XH(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var M2=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||YH===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},JH=function(e,t,r){M2(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function ZH(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var e$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},t$=/[A-Z]|^ms/g,n$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,V2=function(e){return e.charCodeAt(1)===45},NC=function(e){return e!=null&&typeof e!="boolean"},LE=N2(function(n){return V2(n)?n:n.replace(t$,"-$&").toLowerCase()}),kC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(n$,function(r,s,o){return Bi={name:s,styles:o,next:Bi},s})}return e$[e]!==1&&!V2(e)&&typeof t=="number"&&t!==0?t+"px":t};function Rd(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Bi={name:s.name,styles:s.styles,next:Bi},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Bi={name:u.name,styles:u.styles,next:Bi},u=u.next;var h=o.styles+";";return h}return r$(n,e,t)}case"function":{if(n!==void 0){var f=Bi,m=t(n);return Bi=f,Rd(n,e,m)}break}}var y=t;if(e==null)return y;var _=e[y];return _!==void 0?_:y}function r$(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Rd(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":NC(h)&&(r+=LE(o)+":"+kC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)NC(u[f])&&(r+=LE(o)+":"+kC(o,u[f])+";");else{var m=Rd(n,e,u);switch(o){case"animation":case"animationName":{r+=LE(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var MC=/label:\s*([^\s;{]+)\s*(;|$)/g,Bi;function L2(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";Bi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=Rd(t,e,o);else{var u=o;s+=u[0]}for(var h=1;h<n.length;h++)if(s+=Rd(t,e,n[h]),r){var f=o;s+=f[h]}MC.lastIndex=0;for(var m="",y;(y=MC.exec(s))!==null;)m+="-"+y[1];var _=ZH(s)+m;return{name:_,styles:s,next:Bi}}var i$=function(e){return e()},s$=qE.useInsertionEffect?qE.useInsertionEffect:!1,a$=s$||i$,U2=Q.createContext(typeof HTMLElement<"u"?QH({key:"css"}):null);U2.Provider;var o$=function(e){return Q.forwardRef(function(t,r){var s=Q.useContext(U2);return e(t,s,r)})},l$=Q.createContext({}),u$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c$=N2(function(n){return u$.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),h$=c$,f$=function(e){return e!=="theme"},VC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?h$:f$},LC=function(e,t,r){var s;if(t){var o=t.shouldForwardProp;s=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof s!="function"&&r&&(s=e.__emotion_forwardProp),s},d$=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return M2(t,r,s),a$(function(){return JH(t,r,s)}),null},m$=function n(e,t){var r=e.__emotion_real===e,s=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=LC(e,t,r),f=h||VC(s),m=!f("as");return function(){var y=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),y[0]==null||y[0].raw===void 0)_.push.apply(_,y);else{var w=y[0];_.push(w[0]);for(var R=y.length,S=1;S<R;S++)_.push(y[S],w[S])}var P=o$(function(x,$,U){var q=m&&x.as||s,W="",j=[],H=x;if(x.theme==null){H={};for(var k in x)H[k]=x[k];H.theme=Q.useContext(l$)}typeof x.className=="string"?W=XH($.registered,j,x.className):x.className!=null&&(W=x.className+" ");var I=L2(_.concat(j),$.registered,H);W+=$.key+"-"+I.name,u!==void 0&&(W+=" "+u);var C=m&&h===void 0?VC(q):f,L={};for(var D in x)m&&D==="as"||C(D)&&(L[D]=x[D]);return L.className=W,U&&(L.ref=U),Q.createElement(Q.Fragment,null,Q.createElement(d$,{cache:$,serialized:I,isStringTag:typeof q=="string"}),Q.createElement(q,L))});return P.displayName=o!==void 0?o:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",P.defaultProps=e.defaultProps,P.__emotion_real=P,P.__emotion_base=s,P.__emotion_styles=_,P.__emotion_forwardProp=h,Object.defineProperty(P,"toString",{value:function(){return"."+u}}),P.withComponent=function(x,$){var U=n(x,Uw({},t,$,{shouldForwardProp:LC(P,$,!0)}));return U.apply(void 0,_)},P}},p$=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],zw=m$.bind(null);p$.forEach(function(n){zw[n]=zw(n)});function g$(n,e){return zw(n,e)}function y$(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const UC=[];function bl(n){return UC[0]=n,L2(UC)}const _$=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function v$(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...s}=n,o=_$(e),u=Object.keys(o);function h(w){return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${t})`}function f(w){return`@media (max-width:${(typeof e[w]=="number"?e[w]:w)-r/100}${t})`}function m(w,R){const S=u.indexOf(R);return`@media (min-width:${typeof e[w]=="number"?e[w]:w}${t}) and (max-width:${(S!==-1&&typeof e[u[S]]=="number"?e[u[S]]:R)-r/100}${t})`}function y(w){return u.indexOf(w)+1<u.length?m(w,u[u.indexOf(w)+1]):h(w)}function _(w){const R=u.indexOf(w);return R===0?h(u[1]):R===u.length-1?f(u[R]):m(w,u[u.indexOf(w)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:f,between:m,only:y,not:_,unit:t,...s}}const E$={borderRadius:4};function B2(n=8,e=GT({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function w$(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function F2(n={},...e){const{breakpoints:t={},palette:r={},spacing:s,shape:o={},...u}=n,h=v$(t),f=B2(s);let m=xr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...E$,...o}},u);return m=Nj(m),m.applyStyles=w$,m=e.reduce((y,_)=>xr(y,_),m),m.unstable_sxConfig={...Yy,...u?.unstable_sxConfig},m.unstable_sx=function(_){return Oc({sx:_,theme:this})},m}const b$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function XT(n,e,t="Mui"){const r=b$[e];return r?`${t}-${r}`:`${Cj.generate(n)}-${e}`}function z2(n,e,t="Mui"){const r={};return e.forEach(s=>{r[s]=XT(n,s,t)}),r}function q2(n){const{variants:e,...t}=n,r={variants:e,style:bl(t),isProcessed:!0};return r.style===t||e&&e.forEach(s=>{typeof s.style!="function"&&(s.style=bl(s.style))}),r}const T$=F2();function UE(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function yl(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function S$(n){return n?(e,t)=>t[n]:null}function A$(n,e,t){n.theme=C$(n.theme)?t:n.theme[e]||n.theme}function fg(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(s=>fg(n,s,t));if(Array.isArray(r?.variants)){let s;if(r.isProcessed)s=t?yl(r.style,t):r.style;else{const{variants:o,...u}=r;s=t?yl(bl(u),t):u}return j2(n,r.variants,[s],t)}return r?.isProcessed?t?yl(bl(r.style),t):r.style:t?yl(bl(r),t):r}function j2(n,e,t=[],r=void 0){let s;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(s??={...n,...n.ownerState,ownerState:n.ownerState},!u.props(s))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&n.ownerState?.[h]!==u.props[h])continue e;typeof u.style=="function"?(s??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?yl(bl(u.style(s)),r):u.style(s))):t.push(r?yl(bl(u.style),r):u.style)}return t}function I$(n={}){const{themeId:e,defaultTheme:t=T$,rootShouldForwardProp:r=UE,slotShouldForwardProp:s=UE}=n;function o(h){A$(h,e,t)}return(h,f={})=>{y$(h,H=>H.filter(k=>k!==Oc));const{name:m,slot:y,skipVariantsResolver:_,skipSx:w,overridesResolver:R=S$(O$(y)),...S}=f,P=m&&m.startsWith("Mui")||y?"components":"custom",x=_!==void 0?_:y&&y!=="Root"&&y!=="root"||!1,$=w||!1;let U=UE;y==="Root"||y==="root"?U=r:y?U=s:P$(h)&&(U=void 0);const q=g$(h,{shouldForwardProp:U,label:R$(),...S}),W=H=>{if(H.__emotion_real===H)return H;if(typeof H=="function")return function(I){return fg(I,H,I.theme.modularCssLayers?P:void 0)};if(Cs(H)){const k=q2(H);return function(C){return k.variants?fg(C,k,C.theme.modularCssLayers?P:void 0):C.theme.modularCssLayers?yl(k.style,P):k.style}}return H},j=(...H)=>{const k=[],I=H.map(W),C=[];if(k.push(o),m&&R&&C.push(function(A){const V=A.theme.components?.[m]?.styleOverrides;if(!V)return null;const z={};for(const J in V)z[J]=fg(A,V[J],A.theme.modularCssLayers?"theme":void 0);return R(A,z)}),m&&!x&&C.push(function(A){const V=A.theme?.components?.[m]?.variants;return V?j2(A,V,[],A.theme.modularCssLayers?"theme":void 0):null}),$||C.push(Oc),Array.isArray(I[0])){const E=I.shift(),A=new Array(k.length).fill(""),G=new Array(C.length).fill("");let V;V=[...A,...E,...G],V.raw=[...A,...E.raw,...G],k.unshift(V)}const L=[...k,...I,...C],D=q(...L);return h.muiName&&(D.muiName=h.muiName),D};return q.withConfig&&(j.withConfig=q.withConfig),j}}function R$(n,e){return void 0}function C$(n){for(const e in n)return!1;return!0}function P$(n){return typeof n=="string"&&n.charCodeAt(0)>96}function O$(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function qw(n,e,t=!1){const r={...e};for(const s in n)if(Object.prototype.hasOwnProperty.call(n,s)){const o=s;if(o==="components"||o==="slots")r[o]={...n[o],...r[o]};else if(o==="componentsProps"||o==="slotProps"){const u=n[o],h=e[o];if(!h)r[o]=u||{};else if(!u)r[o]=h;else{r[o]={...h};for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f)){const m=f;r[o][m]=qw(u[m],h[m],t)}}}else o==="className"&&t&&e.className?r.className=Ga(n?.className,e?.className):o==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[o]===void 0&&(r[o]=n[o])}return r}function JT(n,e=0,t=1){return b2(n,e,t)}function D$(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,s)=>s<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ao(n){if(n.type)return n;if(n.charAt(0)==="#")return ao(D$(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Ml(9,n));let r=n.substring(e+1,n.length-1),s;if(t==="color"){if(r=r.split(" "),s=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(s))throw new Error(Ml(10,s))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:s}}const x$=n=>{const e=ao(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Lf=(n,e)=>{try{return x$(n)}catch{return n}};function e_(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((s,o)=>o<3?parseInt(s,10):s):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function H2(n){n=ao(n);const{values:e}=n,t=e[0],r=e[1]/100,s=e[2]/100,o=r*Math.min(s,1-s),u=(m,y=(m+t/30)%12)=>s-o*Math.max(Math.min(y-3,9-y,1),-1);let h="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",f.push(e[3])),e_({type:h,values:f})}function jw(n){n=ao(n);let e=n.type==="hsl"||n.type==="hsla"?ao(H2(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function N$(n,e){const t=jw(n),r=jw(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function $2(n,e){return n=ao(n),e=JT(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,e_(n)}function tl(n,e,t){try{return $2(n,e)}catch{return n}}function t_(n,e){if(n=ao(n),e=JT(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return e_(n)}function st(n,e,t){try{return t_(n,e)}catch{return n}}function n_(n,e){if(n=ao(n),e=JT(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return e_(n)}function at(n,e,t){try{return n_(n,e)}catch{return n}}function k$(n,e=.15){return jw(n)>.5?t_(n,e):n_(n,e)}function Bp(n,e,t){try{return k$(n,e)}catch{return n}}const M$=Q.createContext(void 0);function V$(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const s=e.components[t];return s.defaultProps?qw(s.defaultProps,r,e.components.mergeClassNameAndStyle):!s.styleOverrides&&!s.variants?qw(s,r,e.components.mergeClassNameAndStyle):r}function L$({props:n,name:e}){const t=Q.useContext(M$);return V$({props:n,name:e,theme:{components:t}})}let BC=0;function U$(n){const[e,t]=Q.useState(n),r=n||e;return Q.useEffect(()=>{e==null&&(BC+=1,t(`mui-${BC}`))},[e]),r}const B$={...qE},FC=B$.useId;function G2(n){if(FC!==void 0){const e=FC();return n??e}return U$(n)}const zC={theme:void 0};function F$(n){let e,t;return function(s){let o=e;return(o===void 0||s.theme!==t)&&(zC.theme=s.theme,o=q2(n(zC)),e=o,t=s.theme),o}}function z$(n=""){function e(...r){if(!r.length)return"";const s=r[0];return typeof s=="string"&&!s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${s}${e(...r.slice(1))})`:`, ${s}`}return(r,...s)=>`var(--${n?`${n}-`:""}${r}${e(...s)})`}const qC=(n,e,t,r=[])=>{let s=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(s)?s[Number(o)]=t:s&&typeof s=="object"&&(s[o]=t):s&&typeof s=="object"&&(s[o]||(s[o]=r.includes(o)?[]:{}),s=s[o])})},q$=(n,e,t)=>{function r(s,o=[],u=[]){Object.entries(s).forEach(([h,f])=>{(!t||t&&!t([...o,h]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...o,h],Array.isArray(f)?[...u,h]:u):e([...o,h],f,u))})}r(n)},j$=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function BE(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},s={},o={},u={};return q$(n,(h,f,m)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(h,f))){const y=`--${t?`${t}-`:""}${h.join("-")}`,_=j$(h,f);Object.assign(s,{[y]:_}),qC(o,h,`var(${y})`,m),qC(u,h,`var(${y}, ${_})`,m)}},h=>h[0]==="vars"),{css:s,vars:o,varsWithDefaults:u}}function H$(n,e={}){const{getSelector:t=$,disableCssColorScheme:r,colorSchemeSelector:s,enableContrastVars:o}=e,{colorSchemes:u={},components:h,defaultColorScheme:f="light",...m}=n,{vars:y,css:_,varsWithDefaults:w}=BE(m,e);let R=w;const S={},{[f]:P,...x}=u;if(Object.entries(x||{}).forEach(([W,j])=>{const{vars:H,css:k,varsWithDefaults:I}=BE(j,e);R=xr(R,I),S[W]={css:k,vars:H}}),P){const{css:W,vars:j,varsWithDefaults:H}=BE(P,e);R=xr(R,H),S[f]={css:W,vars:j}}function $(W,j){let H=s;if(s==="class"&&(H=".%s"),s==="data"&&(H="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(H=`[${s}="%s"]`),W){if(H==="media")return n.defaultColorScheme===W?":root":{[`@media (prefers-color-scheme: ${u[W]?.palette?.mode||W})`]:{":root":j}};if(H)return n.defaultColorScheme===W?`:root, ${H.replace("%s",String(W))}`:H.replace("%s",String(W))}return":root"}return{vars:R,generateThemeVars:()=>{let W={...y};return Object.entries(S).forEach(([,{vars:j}])=>{W=xr(W,j)}),W},generateStyleSheets:()=>{const W=[],j=n.defaultColorScheme||"light";function H(C,L){Object.keys(L).length&&W.push(typeof C=="string"?{[C]:{...L}}:C)}H(t(void 0,{..._}),_);const{[j]:k,...I}=S;if(k){const{css:C}=k,L=u[j]?.palette?.mode,D=!r&&L?{colorScheme:L,...C}:{...C};H(t(j,{...D}),D)}return Object.entries(I).forEach(([C,{css:L}])=>{const D=u[C]?.palette?.mode,E=!r&&D?{colorScheme:D,...L}:{...L};H(t(C,{...E}),E)}),o&&W.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),W}}}function $$(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Cd={black:"#000",white:"#fff"},G$={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Bu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Fu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},If={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},zu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},qu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ju={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function K2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Cd.white,default:Cd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const W2=K2();function Q2(){return{text:{primary:Cd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Cd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Hw=Q2();function jC(n,e,t,r){const s=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=n_(n.main,s):e==="dark"&&(n.dark=t_(n.main,o)))}function HC(n,e,t,r,s){const o=s.light||s,u=s.dark||s*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(o*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(u*100).toFixed(0)}%)`))}function K$(n="light"){return n==="dark"?{main:zu[200],light:zu[50],dark:zu[400]}:{main:zu[700],light:zu[400],dark:zu[800]}}function W$(n="light"){return n==="dark"?{main:Bu[200],light:Bu[50],dark:Bu[400]}:{main:Bu[500],light:Bu[300],dark:Bu[700]}}function Q$(n="light"){return n==="dark"?{main:Fu[500],light:Fu[300],dark:Fu[700]}:{main:Fu[700],light:Fu[400],dark:Fu[800]}}function Y$(n="light"){return n==="dark"?{main:qu[400],light:qu[300],dark:qu[700]}:{main:qu[700],light:qu[500],dark:qu[900]}}function X$(n="light"){return n==="dark"?{main:ju[400],light:ju[300],dark:ju[700]}:{main:ju[800],light:ju[500],dark:ju[900]}}function J$(n="light"){return n==="dark"?{main:If[400],light:If[300],dark:If[700]}:{main:"#ed6c02",light:If[500],dark:If[900]}}function Z$(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function ZT(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,colorSpace:s,...o}=n,u=n.primary||K$(e),h=n.secondary||W$(e),f=n.error||Q$(e),m=n.info||Y$(e),y=n.success||X$(e),_=n.warning||J$(e);function w(x){return s?Z$(x):N$(x,Hw.text.primary)>=t?Hw.text.primary:W2.text.primary}const R=({color:x,name:$,mainShade:U=500,lightShade:q=300,darkShade:W=700})=>{if(x={...x},!x.main&&x[U]&&(x.main=x[U]),!x.hasOwnProperty("main"))throw new Error(Ml(11,$?` (${$})`:"",U));if(typeof x.main!="string")throw new Error(Ml(12,$?` (${$})`:"",JSON.stringify(x.main)));return s?(HC(s,x,"light",q,r),HC(s,x,"dark",W,r)):(jC(x,"light",q,r),jC(x,"dark",W,r)),x.contrastText||(x.contrastText=w(x.main)),x};let S;return e==="light"?S=K2():e==="dark"&&(S=Q2()),xr({common:{...Cd},mode:e,primary:R({color:u,name:"primary"}),secondary:R({color:h,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:R({color:f,name:"error"}),warning:R({color:_,name:"warning"}),info:R({color:m,name:"info"}),success:R({color:y,name:"success"}),grey:G$,contrastThreshold:t,getContrastText:w,augmentColor:R,tonalOffset:r,...S},o)}function eG(n){const e={};return Object.entries(n).forEach(r=>{const[s,o]=r;typeof o=="object"&&(e[s]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function tG(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function nG(n){return Math.round(n*1e5)/1e5}const $C={textTransform:"uppercase"},GC='"Roboto", "Helvetica", "Arial", sans-serif';function rG(n,e){const{fontFamily:t=GC,fontSize:r=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:f=16,allVariants:m,pxToRem:y,..._}=typeof e=="function"?e(n):e,w=r/14,R=y||(x=>`${x/f*w}rem`),S=(x,$,U,q,W)=>({fontFamily:t,fontWeight:x,fontSize:R($),lineHeight:U,...t===GC?{letterSpacing:`${nG(q/$)}em`}:{},...W,...m}),P={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(o,48,1.167,0),h4:S(o,34,1.235,.25),h5:S(o,24,1.334,0),h6:S(u,20,1.6,.15),subtitle1:S(o,16,1.75,.15),subtitle2:S(u,14,1.57,.1),body1:S(o,16,1.5,.15),body2:S(o,14,1.43,.15),button:S(u,14,1.75,.4,$C),caption:S(o,12,1.66,.4),overline:S(o,12,2.66,1,$C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return xr({htmlFontSize:f,pxToRem:R,fontFamily:t,fontSize:r,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...P},_,{clone:!1})}const iG=.2,sG=.14,aG=.12;function At(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${iG})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${sG})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${aG})`].join(",")}const oG=["none",At(0,2,1,-1,0,1,1,0,0,1,3,0),At(0,3,1,-2,0,2,2,0,0,1,5,0),At(0,3,3,-2,0,3,4,0,0,1,8,0),At(0,2,4,-1,0,4,5,0,0,1,10,0),At(0,3,5,-1,0,5,8,0,0,1,14,0),At(0,3,5,-1,0,6,10,0,0,1,18,0),At(0,4,5,-2,0,7,10,1,0,2,16,1),At(0,5,5,-3,0,8,10,1,0,3,14,2),At(0,5,6,-3,0,9,12,1,0,3,16,2),At(0,6,6,-3,0,10,14,1,0,4,18,3),At(0,6,7,-4,0,11,15,1,0,4,20,3),At(0,7,8,-4,0,12,17,2,0,5,22,4),At(0,7,8,-4,0,13,19,2,0,5,24,4),At(0,7,9,-4,0,14,21,2,0,5,26,4),At(0,8,9,-5,0,15,22,2,0,6,28,5),At(0,8,10,-5,0,16,24,2,0,6,30,5),At(0,8,11,-5,0,17,26,2,0,6,32,5),At(0,9,11,-5,0,18,28,2,0,7,34,6),At(0,9,12,-6,0,19,29,2,0,7,36,6),At(0,10,13,-6,0,20,31,3,0,8,38,7),At(0,10,13,-6,0,21,33,3,0,8,40,7),At(0,10,14,-6,0,22,35,3,0,8,42,7),At(0,11,14,-7,0,23,36,3,0,9,44,8),At(0,11,15,-7,0,24,38,3,0,9,46,8)],lG={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},uG={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KC(n){return`${Math.round(n)}ms`}function cG(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function hG(n){const e={...lG,...n.easing},t={...uG,...n.duration};return{getAutoHeightDuration:cG,create:(s=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:f=0,...m}=o;return(Array.isArray(s)?s:[s]).map(y=>`${y} ${typeof u=="string"?u:KC(u)} ${h} ${typeof f=="string"?f:KC(f)}`).join(",")},...n,easing:e,duration:t}}const fG={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function dG(n){return Cs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Y2(n={}){const e={...n};function t(r){const s=Object.entries(r);for(let o=0;o<s.length;o++){const[u,h]=s[o];!dG(h)||u.startsWith("unstable_")?delete r[u]:Cs(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function WC(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const mG=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let r=0;r<e.length;r+=1)t+=+e[r];return t};function pG(n){Object.assign(n,{alpha(e,t){const r=this||n;return r.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:r.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:$2(e,mG(t))},lighten(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #fff ${WC(t)})`:n_(e,t)},darken(e,t){const r=this||n;return r.colorSpace?`color-mix(in ${r.colorSpace}, ${e}, #000 ${WC(t)})`:t_(e,t)}})}function $w(n={},...e){const{breakpoints:t,mixins:r={},spacing:s,palette:o={},transitions:u={},typography:h={},shape:f,colorSpace:m,...y}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(Ml(20));const _=ZT({...o,colorSpace:m}),w=F2(n);let R=xr(w,{mixins:tG(w.breakpoints,r),palette:_,shadows:oG.slice(),typography:rG(_,h),transitions:hG(u),zIndex:{...fG}});return R=xr(R,y),R=e.reduce((S,P)=>xr(S,P),R),R.unstable_sxConfig={...Yy,...y?.unstable_sxConfig},R.unstable_sx=function(P){return Oc({sx:P,theme:this})},R.toRuntimeSource=Y2,pG(R),R}function gG(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const yG=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=gG(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function X2(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function J2(n){return n==="dark"?yG:[]}function _G(n){const{palette:e={mode:"light"},opacity:t,overlays:r,colorSpace:s,...o}=n,u=ZT({...e,colorSpace:s});return{palette:u,opacity:{...X2(u.mode),...t},overlays:r||J2(u.mode),...o}}function vG(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const EG=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],wG=n=>(e,t)=>{const r=n.rootSelector||":root",s=n.colorSchemeSelector;let o=s;if(s==="class"&&(o=".%s"),s==="data"&&(o="[data-%s]"),s?.startsWith("data-")&&!s.includes("%s")&&(o=`[${s}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return EG(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function bG(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function ue(n,e,t){!n[e]&&t&&(n[e]=t)}function Uf(n){return typeof n!="string"||!n.startsWith("hsl")?n:H2(n)}function As(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Lf(Uf(n[e])))}function TG(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Mi=n=>{try{return n()}catch{}},SG=(n="mui")=>z$(n);function FE(n,e,t,r,s){if(!t)return;t=t===!0?{}:t;const o=s==="dark"?"dark":"light";if(!r){e[s]=_G({...t,palette:{mode:o,...t?.palette},colorSpace:n});return}const{palette:u,...h}=$w({...r,palette:{mode:o,...t?.palette},colorSpace:n});return e[s]={...t,palette:u,opacity:{...X2(o),...t?.opacity},overlays:t?.overlays||J2(o)},h}function AG(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:s=!1,cssVarPrefix:o="mui",nativeColor:u=!1,shouldSkipGeneratingVar:h=vG,colorSchemeSelector:f=t.light&&t.dark?"media":void 0,rootSelector:m=":root",...y}=n,_=Object.keys(t)[0],w=r||(t.light&&_!=="light"?"light":_),R=SG(o),{[w]:S,light:P,dark:x,...$}=t,U={...$};let q=S;if((w==="dark"&&!("dark"in t)||w==="light"&&!("light"in t))&&(q=!0),!q)throw new Error(Ml(21,w));let W;u&&(W="oklch");const j=FE(W,U,q,y,w);P&&!U.light&&FE(W,U,P,void 0,"light"),x&&!U.dark&&FE(W,U,x,void 0,"dark");let H={defaultColorScheme:w,...j,cssVarPrefix:o,colorSchemeSelector:f,rootSelector:m,getCssVar:R,colorSchemes:U,font:{...eG(j.typography),...j.font},spacing:TG(y.spacing)};Object.keys(H.colorSchemes).forEach(D=>{const E=H.colorSchemes[D].palette,A=V=>{const z=V.split("-"),J=z[1],ne=z[2];return R(V,E[J][ne])};E.mode==="light"&&(ue(E.common,"background","#fff"),ue(E.common,"onBackground","#000")),E.mode==="dark"&&(ue(E.common,"background","#000"),ue(E.common,"onBackground","#fff"));function G(V,z,J){if(W){let ne;return V===tl&&(ne=`transparent ${((1-J)*100).toFixed(0)}%`),V===st&&(ne=`#000 ${(J*100).toFixed(0)}%`),V===at&&(ne=`#fff ${(J*100).toFixed(0)}%`),`color-mix(in ${W}, ${z}, ${ne})`}return V(z,J)}if(bG(E,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),E.mode==="light"){ue(E.Alert,"errorColor",G(st,E.error.light,.6)),ue(E.Alert,"infoColor",G(st,E.info.light,.6)),ue(E.Alert,"successColor",G(st,E.success.light,.6)),ue(E.Alert,"warningColor",G(st,E.warning.light,.6)),ue(E.Alert,"errorFilledBg",A("palette-error-main")),ue(E.Alert,"infoFilledBg",A("palette-info-main")),ue(E.Alert,"successFilledBg",A("palette-success-main")),ue(E.Alert,"warningFilledBg",A("palette-warning-main")),ue(E.Alert,"errorFilledColor",Mi(()=>E.getContrastText(E.error.main))),ue(E.Alert,"infoFilledColor",Mi(()=>E.getContrastText(E.info.main))),ue(E.Alert,"successFilledColor",Mi(()=>E.getContrastText(E.success.main))),ue(E.Alert,"warningFilledColor",Mi(()=>E.getContrastText(E.warning.main))),ue(E.Alert,"errorStandardBg",G(at,E.error.light,.9)),ue(E.Alert,"infoStandardBg",G(at,E.info.light,.9)),ue(E.Alert,"successStandardBg",G(at,E.success.light,.9)),ue(E.Alert,"warningStandardBg",G(at,E.warning.light,.9)),ue(E.Alert,"errorIconColor",A("palette-error-main")),ue(E.Alert,"infoIconColor",A("palette-info-main")),ue(E.Alert,"successIconColor",A("palette-success-main")),ue(E.Alert,"warningIconColor",A("palette-warning-main")),ue(E.AppBar,"defaultBg",A("palette-grey-100")),ue(E.Avatar,"defaultBg",A("palette-grey-400")),ue(E.Button,"inheritContainedBg",A("palette-grey-300")),ue(E.Button,"inheritContainedHoverBg",A("palette-grey-A100")),ue(E.Chip,"defaultBorder",A("palette-grey-400")),ue(E.Chip,"defaultAvatarColor",A("palette-grey-700")),ue(E.Chip,"defaultIconColor",A("palette-grey-700")),ue(E.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ue(E.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ue(E.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ue(E.LinearProgress,"primaryBg",G(at,E.primary.main,.62)),ue(E.LinearProgress,"secondaryBg",G(at,E.secondary.main,.62)),ue(E.LinearProgress,"errorBg",G(at,E.error.main,.62)),ue(E.LinearProgress,"infoBg",G(at,E.info.main,.62)),ue(E.LinearProgress,"successBg",G(at,E.success.main,.62)),ue(E.LinearProgress,"warningBg",G(at,E.warning.main,.62)),ue(E.Skeleton,"bg",W?G(tl,E.text.primary,.11):`rgba(${A("palette-text-primaryChannel")} / 0.11)`),ue(E.Slider,"primaryTrack",G(at,E.primary.main,.62)),ue(E.Slider,"secondaryTrack",G(at,E.secondary.main,.62)),ue(E.Slider,"errorTrack",G(at,E.error.main,.62)),ue(E.Slider,"infoTrack",G(at,E.info.main,.62)),ue(E.Slider,"successTrack",G(at,E.success.main,.62)),ue(E.Slider,"warningTrack",G(at,E.warning.main,.62));const V=W?G(st,E.background.default,.6825):Bp(E.background.default,.8);ue(E.SnackbarContent,"bg",V),ue(E.SnackbarContent,"color",Mi(()=>W?Hw.text.primary:E.getContrastText(V))),ue(E.SpeedDialAction,"fabHoverBg",Bp(E.background.paper,.15)),ue(E.StepConnector,"border",A("palette-grey-400")),ue(E.StepContent,"border",A("palette-grey-400")),ue(E.Switch,"defaultColor",A("palette-common-white")),ue(E.Switch,"defaultDisabledColor",A("palette-grey-100")),ue(E.Switch,"primaryDisabledColor",G(at,E.primary.main,.62)),ue(E.Switch,"secondaryDisabledColor",G(at,E.secondary.main,.62)),ue(E.Switch,"errorDisabledColor",G(at,E.error.main,.62)),ue(E.Switch,"infoDisabledColor",G(at,E.info.main,.62)),ue(E.Switch,"successDisabledColor",G(at,E.success.main,.62)),ue(E.Switch,"warningDisabledColor",G(at,E.warning.main,.62)),ue(E.TableCell,"border",G(at,G(tl,E.divider,1),.88)),ue(E.Tooltip,"bg",G(tl,E.grey[700],.92))}if(E.mode==="dark"){ue(E.Alert,"errorColor",G(at,E.error.light,.6)),ue(E.Alert,"infoColor",G(at,E.info.light,.6)),ue(E.Alert,"successColor",G(at,E.success.light,.6)),ue(E.Alert,"warningColor",G(at,E.warning.light,.6)),ue(E.Alert,"errorFilledBg",A("palette-error-dark")),ue(E.Alert,"infoFilledBg",A("palette-info-dark")),ue(E.Alert,"successFilledBg",A("palette-success-dark")),ue(E.Alert,"warningFilledBg",A("palette-warning-dark")),ue(E.Alert,"errorFilledColor",Mi(()=>E.getContrastText(E.error.dark))),ue(E.Alert,"infoFilledColor",Mi(()=>E.getContrastText(E.info.dark))),ue(E.Alert,"successFilledColor",Mi(()=>E.getContrastText(E.success.dark))),ue(E.Alert,"warningFilledColor",Mi(()=>E.getContrastText(E.warning.dark))),ue(E.Alert,"errorStandardBg",G(st,E.error.light,.9)),ue(E.Alert,"infoStandardBg",G(st,E.info.light,.9)),ue(E.Alert,"successStandardBg",G(st,E.success.light,.9)),ue(E.Alert,"warningStandardBg",G(st,E.warning.light,.9)),ue(E.Alert,"errorIconColor",A("palette-error-main")),ue(E.Alert,"infoIconColor",A("palette-info-main")),ue(E.Alert,"successIconColor",A("palette-success-main")),ue(E.Alert,"warningIconColor",A("palette-warning-main")),ue(E.AppBar,"defaultBg",A("palette-grey-900")),ue(E.AppBar,"darkBg",A("palette-background-paper")),ue(E.AppBar,"darkColor",A("palette-text-primary")),ue(E.Avatar,"defaultBg",A("palette-grey-600")),ue(E.Button,"inheritContainedBg",A("palette-grey-800")),ue(E.Button,"inheritContainedHoverBg",A("palette-grey-700")),ue(E.Chip,"defaultBorder",A("palette-grey-700")),ue(E.Chip,"defaultAvatarColor",A("palette-grey-300")),ue(E.Chip,"defaultIconColor",A("palette-grey-300")),ue(E.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ue(E.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ue(E.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ue(E.LinearProgress,"primaryBg",G(st,E.primary.main,.5)),ue(E.LinearProgress,"secondaryBg",G(st,E.secondary.main,.5)),ue(E.LinearProgress,"errorBg",G(st,E.error.main,.5)),ue(E.LinearProgress,"infoBg",G(st,E.info.main,.5)),ue(E.LinearProgress,"successBg",G(st,E.success.main,.5)),ue(E.LinearProgress,"warningBg",G(st,E.warning.main,.5)),ue(E.Skeleton,"bg",W?G(tl,E.text.primary,.13):`rgba(${A("palette-text-primaryChannel")} / 0.13)`),ue(E.Slider,"primaryTrack",G(st,E.primary.main,.5)),ue(E.Slider,"secondaryTrack",G(st,E.secondary.main,.5)),ue(E.Slider,"errorTrack",G(st,E.error.main,.5)),ue(E.Slider,"infoTrack",G(st,E.info.main,.5)),ue(E.Slider,"successTrack",G(st,E.success.main,.5)),ue(E.Slider,"warningTrack",G(st,E.warning.main,.5));const V=W?G(at,E.background.default,.985):Bp(E.background.default,.98);ue(E.SnackbarContent,"bg",V),ue(E.SnackbarContent,"color",Mi(()=>W?W2.text.primary:E.getContrastText(V))),ue(E.SpeedDialAction,"fabHoverBg",Bp(E.background.paper,.15)),ue(E.StepConnector,"border",A("palette-grey-600")),ue(E.StepContent,"border",A("palette-grey-600")),ue(E.Switch,"defaultColor",A("palette-grey-300")),ue(E.Switch,"defaultDisabledColor",A("palette-grey-600")),ue(E.Switch,"primaryDisabledColor",G(st,E.primary.main,.55)),ue(E.Switch,"secondaryDisabledColor",G(st,E.secondary.main,.55)),ue(E.Switch,"errorDisabledColor",G(st,E.error.main,.55)),ue(E.Switch,"infoDisabledColor",G(st,E.info.main,.55)),ue(E.Switch,"successDisabledColor",G(st,E.success.main,.55)),ue(E.Switch,"warningDisabledColor",G(st,E.warning.main,.55)),ue(E.TableCell,"border",G(st,G(tl,E.divider,1),.68)),ue(E.Tooltip,"bg",G(tl,E.grey[700],.92))}As(E.background,"default"),As(E.background,"paper"),As(E.common,"background"),As(E.common,"onBackground"),As(E,"divider"),Object.keys(E).forEach(V=>{const z=E[V];V!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&ue(E[V],"mainChannel",Lf(Uf(z.main))),z.light&&ue(E[V],"lightChannel",Lf(Uf(z.light))),z.dark&&ue(E[V],"darkChannel",Lf(Uf(z.dark))),z.contrastText&&ue(E[V],"contrastTextChannel",Lf(Uf(z.contrastText))),V==="text"&&(As(E[V],"primary"),As(E[V],"secondary")),V==="action"&&(z.active&&As(E[V],"active"),z.selected&&As(E[V],"selected")))})}),H=e.reduce((D,E)=>xr(D,E),H);const k={prefix:o,disableCssColorScheme:s,shouldSkipGeneratingVar:h,getSelector:wG(H),enableContrastVars:u},{vars:I,generateThemeVars:C,generateStyleSheets:L}=H$(H,k);return H.vars=I,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([D,E])=>{H[D]=E}),H.generateThemeVars=C,H.generateStyleSheets=L,H.generateSpacing=function(){return B2(y.spacing,GT(this))},H.getColorSchemeSelector=$$(f),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=h,H.unstable_sxConfig={...Yy,...y?.unstable_sxConfig},H.unstable_sx=function(E){return Oc({sx:E,theme:this})},H.toRuntimeSource=Y2,H}function QC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:ZT({...t===!0?{}:t.palette,mode:e})})}function IG(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:s=t?void 0:{light:!0},defaultColorScheme:o=t?.mode,...u}=n,h=o||"light",f=s?.[h],m={...s,...t?{[h]:{...typeof f!="boolean"&&f,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return $w(n,...e);let y=t;"palette"in n||m[h]&&(m[h]!==!0?y=m[h].palette:h==="dark"&&(y={mode:"dark"}));const _=$w({...n,palette:y},...e);return _.defaultColorScheme=h,_.colorSchemes=m,_.palette.mode==="light"&&(_.colorSchemes.light={...m.light!==!0&&m.light,palette:_.palette},QC(_,"dark",m.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:_.palette},QC(_,"light",m.light)),_}return!t&&!("light"in m)&&h==="light"&&(m.light=!0),AG({...u,colorSchemes:m,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const RG=IG(),CG="$$material";function Z2(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const PG=n=>Z2(n)&&n!=="classes",om=I$({themeId:CG,defaultTheme:RG,rootShouldForwardProp:PG}),e0=F$;function ek(n){return L$(n)}function OG(n){return XT("MuiSvgIcon",n)}z2("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const DG=n=>{const{color:e,fontSize:t,classes:r}=n,s={root:["root",e!=="inherit"&&`color${so(e)}`,`fontSize${so(t)}`]};return T2(s,OG,r)},xG=om("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${so(t.color)}`],e[`fontSize${so(t.fontSize)}`]]}})(e0(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),Gw=Q.forwardRef(function(e,t){const r=ek({props:e,name:"MuiSvgIcon"}),{children:s,className:o,color:u="inherit",component:h="svg",fontSize:f="medium",htmlColor:m,inheritViewBox:y=!1,titleAccess:_,viewBox:w="0 0 24 24",...R}=r,S=Q.isValidElement(s)&&s.type==="svg",P={...r,color:u,component:h,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:w,hasSvgAsChild:S},x={};y||(x.viewBox=w);const $=DG(P);return un.jsxs(xG,{as:h,className:Ga($.root,o),focusable:"false",color:m,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...x,...R,...S&&s.props,ownerState:P,children:[S?s.props.children:s,_?un.jsx("title",{children:_}):null]})});Gw.muiName="SvgIcon";function tk(n,e){function t(r,s){return un.jsx(Gw,{"data-testid":void 0,ref:s,...r,children:n})}return t.muiName=Gw.muiName,Q.memo(Q.forwardRef(t))}function NG(n){const{controlled:e,default:t}=n,{current:r}=Q.useRef(e!==void 0),[s,o]=Q.useState(t),u=r?e:s,h=Q.useCallback(f=>{r||o(f)},[]);return[u,h]}function nk(...n){const e=Q.useRef(void 0),t=Q.useCallback(r=>{const s=n.map(o=>{if(o==null)return null;if(typeof o=="function"){const u=o,h=u(r);return typeof h=="function"?h:()=>{u(null)}}return o.current=r,()=>{o.current=null}});return()=>{s.forEach(o=>o?.())}},n);return Q.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}const kG=tk(un.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),MG=tk(un.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function VG(n){return XT("MuiRating",n)}const Rf=z2("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function LG(n){return typeof n=="string"}function UG(n,e,t){return n===void 0||LG(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function BG(n,e,t){return typeof n=="function"?n(e,t):n}function FG(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function YC(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function zG(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:s,className:o}=n;if(!e){const R=Ga(t?.className,o,s?.className,r?.className),S={...t?.style,...s?.style,...r?.style},P={...t,...s,...r};return R.length>0&&(P.className=R),Object.keys(S).length>0&&(P.style=S),{props:P,internalRef:void 0}}const u=FG({...s,...r}),h=YC(r),f=YC(s),m=e(u),y=Ga(m?.className,t?.className,o,s?.className,r?.className),_={...m?.style,...t?.style,...s?.style,...r?.style},w={...m,...t,...f,...h};return y.length>0&&(w.className=y),Object.keys(_).length>0&&(w.style=_),{props:w,internalRef:m.ref}}function td(n,e){const{className:t,elementType:r,ownerState:s,externalForwardedProps:o,internalForwardedProps:u,shouldForwardComponentProp:h=!1,...f}=e,{component:m,slots:y={[n]:void 0},slotProps:_={[n]:void 0},...w}=o,R=y[n]||r,S=BG(_[n],s),{props:{component:P,...x},internalRef:$}=zG({className:t,...f,externalForwardedProps:n==="root"?w:void 0,externalSlotProps:S}),U=nk($,S?.ref,e.ref),q=n==="root"?P||m:P,W=UG(R,{...n==="root"&&!m&&!y[n]&&u,...n!=="root"&&!y[n]&&u,...x,...q&&!h&&{as:q},...q&&h&&{component:q},ref:U},s);return[R,W]}function qG(n){const e=n.toString().split(".")[1];return e?e.length:0}function zE(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(qG(e)))}const jG=n=>{const{classes:e,size:t,readOnly:r,disabled:s,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${so(t)}`,s&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return T2(h,VG,e)},HG=om("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Rf.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${so(t.size)}`],t.readOnly&&e.readOnly]}})(e0(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Rf.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Rf.focusVisible} .${Rf.iconActive}`]:{outline:"1px solid #999"},[`& .${Rf.visuallyHidden}`]:bj,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),rk=om("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),$G=om("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(e0(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),GG=om("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>Z2(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function KG(n){const{value:e,...t}=n;return un.jsx("span",{...t})}function XC(n){const{classes:e,disabled:t,emptyIcon:r,focus:s,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:f,IconContainerComponent:m,isActive:y,itemValue:_,labelProps:w,name:R,onBlur:S,onChange:P,onClick:x,onFocus:$,readOnly:U,ownerState:q,ratingValue:W,ratingValueRounded:j,slots:H={},slotProps:k={}}=n,I=u?_===W:_<=W,C=_<=h,L=_<=s,D=_===j,E=`${R}-${G2()}`,A={slots:H,slotProps:k},[G,V]=td("icon",{elementType:$G,className:Ga(e.icon,I?e.iconFilled:e.iconEmpty,C&&e.iconHover,L&&e.iconFocus,y&&e.iconActive),externalForwardedProps:A,ownerState:{...q,iconEmpty:!I,iconFilled:I,iconHover:C,iconFocus:L,iconActive:y},additionalProps:{value:_},internalForwardedProps:{as:m}}),[z,J]=td("label",{elementType:rk,externalForwardedProps:A,ownerState:{...q,emptyValueFocused:void 0},additionalProps:{style:w?.style,htmlFor:E}}),ne=un.jsx(G,{...V,children:r&&!I?r:f});return U?un.jsx("span",{...w,children:ne}):un.jsxs(Q.Fragment,{children:[un.jsxs(z,{...J,children:[ne,un.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),un.jsx("input",{className:e.visuallyHidden,onFocus:$,onBlur:S,onChange:P,onClick:x,disabled:t,value:_,id:E,type:"radio",name:R,checked:D})]})}const WG=un.jsx(kG,{fontSize:"inherit"}),QG=un.jsx(MG,{fontSize:"inherit"});function YG(n){return`${n||"0"} Star${n!==1?"s":""}`}const XG=Q.forwardRef(function(e,t){const r=ek({name:"MuiRating",props:e}),{component:s="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:f=QG,emptyLabelText:m="Empty",getLabelText:y=YG,highlightSelectedOnly:_=!1,icon:w=WG,IconContainerComponent:R=KG,max:S=5,name:P,onChange:x,onChangeActive:$,onMouseLeave:U,onMouseMove:q,precision:W=1,readOnly:j=!1,size:H="medium",value:k,slots:I={},slotProps:C={},...L}=r,D=G2(P),[E,A]=NG({controlled:k,default:u}),G=zE(E,W),V=Ij(),[{hover:z,focus:J},ne]=Q.useState({hover:-1,focus:-1});let be=G;z!==-1&&(be=z),J!==-1&&(be=J);const[B,le]=Q.useState(!1),pe=Q.useRef(),_e=nk(pe,t),ye=$e=>{q&&q($e);const pt=pe.current,{right:Cn,left:Ws,width:ar}=pt.getBoundingClientRect();let Qn;V?Qn=(Cn-$e.clientX)/ar:Qn=($e.clientX-Ws)/ar;let gt=zE(S*Qn+W/2,W);gt=b2(gt,W,S),ne(nn=>nn.hover===gt&&nn.focus===gt?nn:{hover:gt,focus:gt}),le(!1),$&&z!==gt&&$($e,gt)},xe=$e=>{U&&U($e);const pt=-1;ne({hover:pt,focus:pt}),$&&z!==pt&&$($e,pt)},Ce=$e=>{let pt=$e.target.value===""?null:parseFloat($e.target.value);z!==-1&&(pt=z),A(pt),x&&x($e,pt)},tn=$e=>{$e.clientX===0&&$e.clientY===0||(ne({hover:-1,focus:-1}),A(null),x&&parseFloat($e.target.value)===G&&x($e,null))},Qe=$e=>{bC($e.target)&&le(!0);const pt=parseFloat($e.target.value);ne(Cn=>({hover:Cn.hover,focus:pt}))},yr=$e=>{if(z!==-1)return;bC($e.target)||le(!1);const pt=-1;ne(Cn=>({hover:Cn.hover,focus:pt}))},[yo,is]=Q.useState(!1),Mr={...r,component:s,defaultValue:u,disabled:h,emptyIcon:f,emptyLabelText:m,emptyValueFocused:yo,focusVisible:B,getLabelText:y,icon:w,IconContainerComponent:R,max:S,precision:W,readOnly:j,size:H},Ln=jG(Mr),vi={slots:I,slotProps:C},[eh,_o]=td("root",{ref:_e,className:Ga(Ln.root,o),elementType:HG,externalForwardedProps:{...vi,...L,component:s},getSlotProps:$e=>({...$e,onMouseMove:pt=>{ye(pt),$e.onMouseMove?.(pt)},onMouseLeave:pt=>{xe(pt),$e.onMouseLeave?.(pt)}}),ownerState:Mr,additionalProps:{role:j?"img":null,"aria-label":j?y(be):null}}),[Un,jl]=td("label",{className:Ga(Ln.label,Ln.labelEmptyValue),elementType:rk,externalForwardedProps:vi,ownerState:Mr}),[jt,Ht]=td("decimal",{className:Ln.decimal,elementType:GG,externalForwardedProps:vi,ownerState:Mr});return un.jsxs(eh,{..._o,children:[Array.from(new Array(S)).map(($e,pt)=>{const Cn=pt+1,Ws={classes:Ln,disabled:h,emptyIcon:f,focus:J,getLabelText:y,highlightSelectedOnly:_,hover:z,icon:w,IconContainerComponent:R,name:D,onBlur:yr,onChange:Ce,onClick:tn,onFocus:Qe,ratingValue:be,ratingValueRounded:G,readOnly:j,ownerState:Mr,slots:I,slotProps:C},ar=Cn===Math.ceil(be)&&(z!==-1||J!==-1);if(W<1){const Qn=Array.from(new Array(1/W));return Q.createElement(jt,{...Ht,key:Cn,className:Ga(Ht.className,ar&&Ln.iconActive),iconActive:ar},Qn.map((gt,nn)=>{const mn=zE(Cn-1+(nn+1)*W,W);return un.jsx(XC,{...Ws,isActive:!1,itemValue:mn,labelProps:{style:Qn.length-1===nn?{}:{width:mn===be?`${(nn+1)*W*100}%`:"0%",overflow:"hidden",position:"absolute"}}},mn)}))}return un.jsx(XC,{...Ws,isActive:ar,itemValue:Cn},Cn)}),!j&&!h&&un.jsxs(Un,{...jl,children:[un.jsx("input",{className:Ln.visuallyHidden,value:"",id:`${D}-empty`,type:"radio",name:D,checked:G==null,onFocus:()=>is(!0),onBlur:()=>is(!1),onChange:Ce}),un.jsx("span",{className:Ln.visuallyHidden,children:m})]})]})});function Zc({product:n,flex:e,renderDesc:t,renderAdd:r,amount:s}){if(!n||!n.image)return null;const{image:o,title:u,id:h,rating:f,price:m,description:y}=n,[_,w]=Q.useContext(Ks),[R,S]=Q.useState(!0),P=()=>{S(!1)},x=()=>{w({type:Qr.ADD_TO_BASKET,item:{image:o,title:u,id:h,rating:f,price:m,description:y}})};return M.createElement("div",{className:`${al.card_container} ${e?al.product_flexed:""}`},M.createElement(fi,{to:`/products/${h}`},M.createElement("img",{src:o,alt:"",className:al.img_container})),M.createElement("div",null,M.createElement("h3",null,u),t&&M.createElement("div",{style:{maxWidth:"750px"}},y),M.createElement("div",{className:al.rating},M.createElement(XG,{value:3.5,precision:.1}),M.createElement("small",null,f?.count)),M.createElement("p",null,"Price: $",m),!P&&M.createElement("button",{onClick:x,className:al.button}),M.createElement("div",null,M.createElement(jT,{amount:s})),r&&M.createElement("button",{className:al.button,onClick:x},"add to cart")))}var JG={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function ik(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return JG[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function Yu(n){var e=ik(n);return"".concat(e.value).concat(e.unit)}var sk=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var s=document.createElement("style");document.head.appendChild(s);var o=s.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},Kg=function(){return Kg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},Kg.apply(this,arguments)},ZG=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},eK=sk("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function Kw(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,s=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,m=n.size,y=m===void 0?35:m,_=ZG(n,["loading","color","speedMultiplier","cssOverride","size"]),w=Kg({background:"transparent !important",width:Yu(y),height:Yu(y),borderRadius:"100%",border:"2px solid",borderTopColor:s,borderBottomColor:"transparent",borderLeftColor:s,borderRightColor:s,display:"inline-block",animation:"".concat(eK," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},f);return t?Q.createElement("span",Kg({style:w},_)):null}var an=function(){return an=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s])}return n},an.apply(this,arguments)},tK=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t},nK=sk("FadeLoader","50% {opacity: 0.3} 100% {opacity: 1}","fade");function rK(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,s=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,f=h===void 0?{}:h,m=n.height,y=m===void 0?15:m,_=n.width,w=_===void 0?5:_,R=n.radius,S=R===void 0?2:R,P=n.margin,x=P===void 0?2:P,$=tK(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),U=ik(x).value,q=U+18,W=q/2+q/5.5,j=an({display:"inherit",position:"relative",fontSize:"0",top:q,left:q,width:"".concat(q*3,"px"),height:"".concat(q*3,"px")},f),H=function(V){return{position:"absolute",width:Yu(w),height:Yu(y),margin:Yu(x),backgroundColor:s,borderRadius:Yu(S),transition:"2s",animationFillMode:"both",animation:"".concat(nK," ").concat(1.2/u,"s ").concat(V*.12,"s infinite ease-in-out")}},k=an(an({},H(1)),{top:"".concat(q,"px"),left:"0"}),I=an(an({},H(2)),{top:"".concat(W,"px"),left:"".concat(W,"px"),transform:"rotate(-45deg)"}),C=an(an({},H(3)),{top:"0",left:"".concat(q,"px"),transform:"rotate(90deg)"}),L=an(an({},H(4)),{top:"".concat(-1*W,"px"),left:"".concat(W,"px"),transform:"rotate(45deg)"}),D=an(an({},H(5)),{top:"".concat(-1*q,"px"),left:"0"}),E=an(an({},H(6)),{top:"".concat(-1*W,"px"),left:"".concat(-1*W,"px"),transform:"rotate(-45deg)"}),A=an(an({},H(7)),{top:"0",left:"".concat(-1*q,"px"),transform:"rotate(90deg)"}),G=an(an({},H(8)),{top:"".concat(W,"px"),left:"".concat(-1*W,"px"),transform:"rotate(45deg)"});return t?Q.createElement("span",an({style:j},$),Q.createElement("span",{style:k}),Q.createElement("span",{style:I}),Q.createElement("span",{style:C}),Q.createElement("span",{style:L}),Q.createElement("span",{style:D}),Q.createElement("span",{style:E}),Q.createElement("span",{style:A}),Q.createElement("span",{style:G})):null}function t0(){return M.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"}},M.createElement(rK,{color:"#36d7b7"}))}function iK(){const[n,e]=Q.useState(),[t,r]=Q.useState(!1);return Q.useEffect(()=>{Ot.get("https://fakestoreapi.com/products/").then(s=>{e(s.data),r(!1)}).catch(s=>{console.log(s),r(!1)})},[]),M.createElement(M.Fragment,null,t?M.createElement(t0,null):M.createElement("section",{className:al.products_container},n?.map(s=>M.createElement(Zc,{product:s,key:s.id,renderAdd:!0}))))}function sK(){return M.createElement(Qc,null,M.createElement(Vq,null),M.createElement(zq,null),M.createElement(iK,null))}const aK="_login_14g4y_1",oK="_login_container_14g4y_27",lK="_login_signInButton_14g4y_101",uK="_login_registerButton_14g4y_137",Fp={login:aK,login_container:oK,login_signInButton:lK,login_registerButton:uK};function cK(){const[n,e]=Q.useState(""),[t,r]=Q.useState(""),[s,o]=Q.useState(""),[u,h]=Q.useState({signIn:!1,signUP:!1}),[{user:f},m]=Q.useContext(Ks),y=Qg(),_=lo();console.log(_),console.log(f);const w=async R=>{R.preventDefault(),console.log(R.target.name),R.target.name==="signin"?(h({...u,signIn:!0}),RO(jg,n,t).then(S=>{m({type:Qr.SET_USER,user:S.user}),h({...u,signIn:!1}),y(_?.state?.redirect||"/")}).catch(S=>{o(S.message),h({...u,signIn:!1})})):(h({...u,signUP:!0}),IO(jg,n,t).then(S=>{m({type:Qr.SET_USER,user:S.user}),h({...u,signUP:!1}),y(_?.state?.redirect||"/")}).catch(S=>{o(S.message),h({...u,signUP:!1})}))};return M.createElement("section",{className:Fp.login},M.createElement(fi,{to:"/"},M.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/2560px-Amazon_logo.svg.png",alt:""})),M.createElement("div",{className:Fp.login_container},M.createElement("h1",null,"Sign In"),_?.state?.msg&&M.createElement("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"}},_?.state?.msg),M.createElement("form",{action:""},M.createElement("div",null,M.createElement("label",{htmlFor:"email"},"Email:"),M.createElement("input",{value:n,onChange:R=>e(R.target.value),type:"email",id:"email",required:!0})),M.createElement("div",null,M.createElement("label",{htmlFor:"password"},"Password:"),M.createElement("input",{value:t,onChange:R=>r(R.target.value),type:"password",id:"password",required:!0})),M.createElement("button",{type:"submit",onClick:w,name:"signin",className:Fp.login_signInButton},u.signIn?M.createElement(Kw,{color:"#000",size:15}):"Sign In")),M.createElement("p",null,"By signing-in you agree to the AMAZON FAKE CLONE condition of use & sale. Please see our Privacy Notice, our Cookies Notice and our Interest-based Ads Notice."),M.createElement("button",{type:"submit",onClick:w,name:"signup",className:Fp.login_registerButton},u.signUP?M.createElement(Kw,{color:"#000",size:15}):"Create you Amazon Account"),s&&M.createElement("small",{style:{paddingTop:"5px",color:"red"}},s)))}const hK="_payment_header_1js8v_1",fK="_payment_1js8v_1",dK="_flex_1js8v_19",mK="_payment_card_container_1js8v_47",pK="_payment_price_1js8v_55",gK="_payment_details_1js8v_71",yK="_loading_1js8v_99",Is={payment_header:hK,payment:fK,flex:dK,payment_card_container:mK,payment_price:pK,payment_details:gK,loading:yK};function JC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function ZC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(t),!0).forEach(function(r){ak(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function dg(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dg=function(e){return typeof e}:dg=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(n)}function ak(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _K(n,e){if(n==null)return{};var t={},r=Object.keys(n),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}function vK(n,e){if(n==null)return{};var t=_K(n,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ok(n,e){return EK(n)||wK(n,e)||bK(n,e)||TK()}function EK(n){if(Array.isArray(n))return n}function wK(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],s=!0,o=!1,u,h;try{for(t=t.call(n);!(s=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));s=!0);}catch(f){o=!0,h=f}finally{try{!s&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function bK(n,e){if(n){if(typeof n=="string")return eP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return eP(n,e)}}function eP(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function TK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var er=function(e,t,r){var s=!!r,o=M.useRef(r);M.useEffect(function(){o.current=r},[r]),M.useEffect(function(){if(!s||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[s,t,e,o])},Ww=function(e){var t=M.useRef(e);return M.useEffect(function(){t.current=e},[e]),t.current},xc=function(e){return e!==null&&dg(e)==="object"},SK=function(e){return xc(e)&&typeof e.then=="function"},AK=function(e){return xc(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},tP="[object Object]",IK=function n(e,t){if(!xc(e)||!xc(t))return e===t;var r=Array.isArray(e),s=Array.isArray(t);if(r!==s)return!1;var o=Object.prototype.toString.call(e)===tP,u=Object.prototype.toString.call(t)===tP;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),f=Object.keys(t);if(h.length!==f.length)return!1;for(var m={},y=0;y<h.length;y+=1)m[h[y]]=!0;for(var _=0;_<f.length;_+=1)m[f[_]]=!0;var w=Object.keys(m);if(w.length!==h.length)return!1;var R=e,S=t,P=function($){return n(R[$],S[$])};return w.every(P)},lk=function(e,t,r){return xc(e)?Object.keys(e).reduce(function(s,o){var u=!xc(t)||!IK(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):u?ZC(ZC({},s||{}),{},ak({},o,e[o])):s},null):null},uk="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",nP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uk;if(e===null||AK(e))return e;throw new Error(t)},RK=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uk;if(SK(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return nP(s,t)})};var r=nP(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},CK=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},r_=M.createContext(null);r_.displayName="ElementsContext";var ck=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},hk=function(e){var t=e.stripe,r=e.options,s=e.children,o=M.useMemo(function(){return RK(t)},[t]),u=M.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=ok(u,2),f=h[0],m=h[1];M.useEffect(function(){var w=!0,R=function(P){m(function(x){return x.stripe?x:{stripe:P,elements:P.elements(r)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(S){S&&w&&R(S)}):o.tag==="sync"&&!f.stripe&&R(o.stripe),function(){w=!1}},[o,f,r]);var y=Ww(t);M.useEffect(function(){y!==null&&y!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,t]);var _=Ww(r);return M.useEffect(function(){if(f.elements){var w=lk(r,_,["clientSecret","fonts"]);w&&f.elements.update(w)}},[r,_,f.elements]),M.useEffect(function(){CK(f.stripe)},[f.stripe]),M.createElement(r_.Provider,{value:f},s)};hk.propTypes={stripe:bt.any,options:bt.object};var PK=function(e){var t=M.useContext(r_);return ck(t,e)},OK=function(){var e=PK("calls useElements()"),t=e.elements;return t};bt.func.isRequired;var fk=M.createContext(null);fk.displayName="CheckoutContext";bt.any,bt.shape({fetchClientSecret:bt.func.isRequired,elementsOptions:bt.object}).isRequired;var Qw=function(e){var t=M.useContext(fk),r=M.useContext(r_);if(t){if(r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t}else return ck(r,e)},DK=["mode"],xK=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},fn=function(e,t){var r="".concat(xK(e),"Element"),s=function(f){var m=f.id,y=f.className,_=f.options,w=_===void 0?{}:_,R=f.onBlur,S=f.onFocus,P=f.onReady,x=f.onChange,$=f.onEscape,U=f.onClick,q=f.onLoadError,W=f.onLoaderStart,j=f.onNetworksChange,H=f.onConfirm,k=f.onCancel,I=f.onShippingAddressChange,C=f.onShippingRateChange,L=f.onSavedPaymentMethodRemove,D=f.onSavedPaymentMethodUpdate,E=Qw("mounts <".concat(r,">")),A="elements"in E?E.elements:null,G="checkoutState"in E?E.checkoutState:null,V=G?.type==="success"?G.checkout:null,z=M.useState(null),J=ok(z,2),ne=J[0],be=J[1],B=M.useRef(null),le=M.useRef(null);er(ne,"blur",R),er(ne,"focus",S),er(ne,"escape",$),er(ne,"click",U),er(ne,"loaderror",q),er(ne,"loaderstart",W),er(ne,"networkschange",j),er(ne,"confirm",H),er(ne,"cancel",k),er(ne,"shippingaddresschange",I),er(ne,"shippingratechange",C),er(ne,"savedpaymentmethodremove",L),er(ne,"savedpaymentmethodupdate",D),er(ne,"change",x);var pe;P&&(e==="expressCheckout"?pe=P:pe=function(){P(ne)}),er(ne,"ready",pe),M.useLayoutEffect(function(){if(B.current===null&&le.current!==null&&(A||V)){var ye=null;if(V)switch(e){case"payment":ye=V.createPaymentElement(w);break;case"address":if("mode"in w){var xe=w.mode,Ce=vK(w,DK);if(xe==="shipping")ye=V.createShippingAddressElement(Ce);else if(xe==="billing")ye=V.createBillingAddressElement(Ce);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ye=V.createExpressCheckoutElement(w);break;case"currencySelector":ye=V.createCurrencySelectorElement();break;case"taxId":ye=V.createTaxIdElement(w);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else A&&(ye=A.create(e,w));B.current=ye,be(ye),ye&&ye.mount(le.current)}},[A,V,w]);var _e=Ww(w);return M.useEffect(function(){if(B.current){var ye=lk(w,_e,["paymentRequest"]);ye&&"update"in B.current&&B.current.update(ye)}},[w,_e]),M.useLayoutEffect(function(){return function(){if(B.current&&typeof B.current.destroy=="function")try{B.current.destroy(),B.current=null}catch{}}},[]),M.createElement("div",{id:m,className:y,ref:le})},o=function(f){Qw("mounts <".concat(r,">"));var m=f.id,y=f.className;return M.createElement("div",{id:m,className:y})},u=t?o:s;return u.propTypes={id:bt.string,className:bt.string,onChange:bt.func,onBlur:bt.func,onFocus:bt.func,onReady:bt.func,onEscape:bt.func,onClick:bt.func,onLoadError:bt.func,onLoaderStart:bt.func,onNetworksChange:bt.func,onConfirm:bt.func,onCancel:bt.func,onShippingAddressChange:bt.func,onShippingRateChange:bt.func,onSavedPaymentMethodRemove:bt.func,onSavedPaymentMethodUpdate:bt.func,options:bt.object},u.displayName=r,u.__elementType=e,u},dn=typeof window>"u",NK=M.createContext(null);NK.displayName="EmbeddedCheckoutProviderContext";var kK=function(){var e=Qw("calls useStripe()"),t=e.stripe;return t};fn("auBankAccount",dn);var rP=fn("card",dn);fn("cardNumber",dn);fn("cardExpiry",dn);fn("cardCvc",dn);fn("fpxBank",dn);fn("iban",dn);fn("idealBank",dn);fn("p24Bank",dn);fn("epsBank",dn);fn("payment",dn);fn("expressCheckout",dn);fn("paymentRequestButton",dn);fn("linkAuthentication",dn);fn("address",dn);fn("shippingAddress",dn);fn("paymentMethodMessaging",dn);fn("affirmMessage",dn);fn("afterpayClearpayMessage",dn);fn("taxId",dn);const MK=Ot.create({baseURL:"http://localhost:5001",baseURL:"https://amazon-api-deploy-ffqq.onrender.com"});function VK(){const[{user:n,basket:e},t]=Q.useContext(Ks);console.log(n);const r=e?.reduce((S,P)=>P.amount+S,0),s=e.reduce((S,P)=>P.price*P.amount+S,0),[o,u]=Q.useState(null),[h,f]=Q.useState(!1),m=kK(),y=OK(),_=Qg(),w=S=>{S?.error?.message?u(S?.error?.message):u("")},R=async S=>{S.preventDefault();try{f(!0);const x=(await MK({method:"post",url:`/payment/create?total=${s*100}`})).data?.clientSecret,{paymentIntent:$}=await m.confirmCardPayment(x,{payment_method:{card:y.getElement(rP)}});console.log($),await jN.collection("users").doc(n.uid).collection("orders").doc($.id).set({basket:e,amount:$.amount,created:$.created}),t({type:Qr.EMPTY_BASKET}),f(!1),_("/orders",{state:{msg:"You have placed new order"}})}catch(P){console.log(P),f(!1)}};return M.createElement(Qc,null,M.createElement("div",{className:Is.payment_header},"Checkout (",r,") items"),M.createElement("section",{className:Is.payment},M.createElement("div",{className:Is.flex},M.createElement("h3",null,"Delivery Address"),M.createElement("div",null,M.createElement("div",null,n?.email),M.createElement("div",null,"123 Delivery Street"),M.createElement("div",null,"CityName, IL"))),M.createElement("hr",null),M.createElement("div",{className:Is.flex},M.createElement("h3",null,"Review items delivery"),M.createElement("div",null,e?.map(S=>M.createElement(Zc,{product:S,flex:!0})))),M.createElement("hr",null),M.createElement("div",{className:Is.flex},M.createElement("h3",null,"Payment methods"),M.createElement("div",{className:Is.payment_card_container},M.createElement("div",{className:Is.payment_details},M.createElement("form",{onSubmit:R},o&&M.createElement("small",{style:{color:"red"}},o),M.createElement(rP,{onChange:w}),M.createElement("div",{className:Is.payment_price},M.createElement("div",null,M.createElement("span",{style:{display:"flex",gap:"10px"}},"Total Order | ",M.createElement(jT,{amount:s}))),M.createElement("button",{type:"submit"},h?M.createElement("div",{className:Is.loading},M.createElement(Kw,{color:"gray",size:12}),M.createElement("p",null,"Please Wait...")):"Pay Now"))))))))}const LK="_container_zpjvr_1",UK="_order_container_zpjvr_9",iP={container:LK,order_container:UK};function BK(){const[{user:n},e]=Q.useContext(Ks),[t,r]=Q.useState([]);return Q.useEffect(()=>{n?jN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(s=>{r(s.docs.map(o=>({id:o.id,data:o.data()})))}):r([])},[]),M.createElement(Qc,null,M.createElement("section",{className:iP.container},M.createElement("div",{className:iP.order_container},M.createElement("h2",null,"Your Orders"),t?.length==0&&M.createElement("div",{style:{padding:"20px"}},"you don't have order yet."),M.createElement("div",null,t?.map((s,o)=>M.createElement("div",{key:o},M.createElement("hr",null),M.createElement("p",null,"Order ID: ",s?.id),s?.data?.basket?.map((u,h)=>M.createElement(Zc,{flex:!0,product:u,key:u.id}))))))))}const FK="_container_1p9xj_1",zK="_cart_product_1p9xj_19",qK="_btn_container_1p9xj_27",jK="_btn_1p9xj_27",HK="_subtotal_1p9xj_69",$K="_cart_container_1p9xj_77",nl={container:FK,cart_product:zK,btn_container:qK,btn:jK,subtotal:HK,cart_container:$K};function GK(n){return Vl({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.8 9.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.4-.3.7s.1.5.3.7z"},child:[]}]})(n)}function KK(n){return Vl({attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.2 13.3l-6.2-6.3-6.2 6.3c-.2.2-.3.5-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7z"},child:[]}]})(n)}function WK(){const[{basket:n,user:e},t]=Q.useContext(Ks),r=n.reduce((u,h)=>h.price*h.amount+u,0),s=u=>{t({type:Qr.ADD_TO_BASKET,item:u})},o=u=>{t({type:Qr.REMOVE_FROM_BASKET,id:u})};return M.createElement(Qc,null,M.createElement("section",{className:nl.container},M.createElement("div",{className:nl.cart_container},M.createElement("h2",null,"Hello"),M.createElement("h3",null,"Your shopping basket"),M.createElement("hr",null),n?.length===0?M.createElement("p",null,"Oops! No items in your cart."):n?.map(u=>M.createElement("section",{className:nl.cart_product},M.createElement(Zc,{product:u,renderDesc:!0,renderAdd:!1,flex:!0}),M.createElement("div",{className:nl.btn_container},M.createElement("button",{className:nl.btn,onClick:()=>s(u)},M.createElement(KK,{size:30})),M.createElement("span",null,u.amount),M.createElement("button",{className:nl.btn,onClick:()=>o(u.id)},M.createElement(GK,{size:30})))))),n?.length!==0&&M.createElement("div",{className:nl.subtotal},M.createElement("div",null,M.createElement("p",null,"subtotal (",n?.length," items)"),M.createElement(jT,{amount:r})),M.createElement("span",null,M.createElement("input",{type:"checkbox"}),M.createElement("small",null,"This order contains a gift")),M.createElement(fi,{to:"/payments"},"Continue to checkout"))))}const QK="_products_container_4jmll_1",YK={products_container:QK},dk="https://fakestoreapi.com";function XK(){const[n,e]=Q.useState([]),[t,r]=Q.useState(!1),{categoryName:s}=gP();return Q.useEffect(()=>{r(!0),Ot.get(`${dk}/products/category/${s}`).then(o=>{console.log(o),e(o.data),r(!1)}).catch(o=>{console.log(o),r(!1)})},[s]),M.createElement(Qc,null,M.createElement("section",null,M.createElement("h1",{style:{padding:"30px"}},"Results"),M.createElement("p",{style:{padding:"38px"}},"Category / ",s),M.createElement("hr",null),t?M.createElement(t0,null):M.createElement("div",{className:YK.products_container},n?.map(o=>M.createElement(Zc,{key:o.id,product:o,renderDesc:!1,renderAdd:!0})))))}function JK(){const{productId:n}=gP(),[e,t]=Q.useState(!1),[r,s]=Q.useState();return Q.useEffect(()=>{t(!0),Ot.get(`${dk}/products/${n}`).then(o=>{s(o.data),t(!1)}).catch(o=>{console.log(o),t(!1)})},[]),M.createElement(Qc,null,e?M.createElement(t0,null):M.createElement(Zc,{product:r,flex:!0,renderDesc:!0,renderAdd:!0}))}var mk="basil",ZK=function(e){return e===3?"v3":e},pk="https://js.stripe.com",eW="".concat(pk,"/").concat(mk,"/stripe.js"),tW=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,nW=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var rW=function(e){return tW.test(e)||nW.test(e)},iW=function(){for(var e=document.querySelectorAll('script[src^="'.concat(pk,'"]')),t=0;t<e.length;t++){var r=e[t];if(rW(r.src))return r}return null},sP=function(e){var t="",r=document.createElement("script");r.src="".concat(eW).concat(t);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(r),r},sW=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},Cf=null,zp=null,qp=null,aW=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},oW=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},lW=function(e){return Cf!==null?Cf:(Cf=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var s=iW();if(!(s&&e)){if(!s)s=sP(e);else if(s&&qp!==null&&zp!==null){var o;s.removeEventListener("load",qp),s.removeEventListener("error",zp),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=sP(e)}}qp=oW(t,r),zp=aW(r),s.addEventListener("load",qp),s.addEventListener("error",zp)}catch(u){r(u);return}}),Cf.catch(function(t){return Cf=null,Promise.reject(t)}))},uW=function(e,t,r){if(e===null)return null;var s=t[0],o=s.match(/^pk_test/),u=ZK(e.version),h=mk;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,t);return sW(f,r),f},Pf,gk=!1,yk=function(){return Pf||(Pf=lW(null).catch(function(e){return Pf=null,Promise.reject(e)}),Pf)};Promise.resolve().then(function(){return yk()}).catch(function(n){gk||console.warn(n)});var cW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];gk=!0;var s=Date.now();return yk().then(function(o){return uW(o,t,s)})};function aP({children:n,msg:e,redirect:t}){const r=Qg(),[{user:s},o]=Q.useContext(Ks);return Q.useEffect(()=>{s||r("/auth",{state:{msg:e,redirect:t}})},[s]),n}const hW=cW("pk_test_51SClovBbf9iObfPpPVAnYz4qbi64CJ0Ayu1nhnaet15pqnsVS3WEbNbcfmVwMpdCRTQM9xhQcbw7wfXnR13MkHhd00gh3OTGrG");function fW(){return M.createElement(dL,null,M.createElement(HV,null,M.createElement(Va,{path:"/",element:M.createElement(sK,null)}),M.createElement(Va,{path:"/auth",element:M.createElement(cK,null)}),M.createElement(Va,{path:"/payments",element:M.createElement(aP,{msg:"you must log in to pay",redirect:"/payments"},M.createElement(hk,{stripe:hW},M.createElement(VK,null)))}),M.createElement(Va,{path:"/orders",element:M.createElement(aP,{msg:"you must login to access your orders",redirect:"/orders"},M.createElement(BK,null))}),M.createElement(Va,{path:"/category/:categoryName",element:M.createElement(XK,null)}),M.createElement(Va,{path:"/cart",element:M.createElement(WK,null)}),M.createElement(Va,{path:"/products/:productId",element:M.createElement(JK,null)})))}function dW(){const[{user:n},e]=Q.useContext(Ks);return Q.useEffect(()=>{jg.onAuthStateChanged(t=>{e(t?{type:Qr.SET_USER,user:t}:{type:Qr.SET_USER,user:null})})},[]),M.createElement(fW,null)}const mW={basket:[],user:null},pW=(n,e)=>{switch(e.type){case Qr.ADD_TO_BASKET:if(n.basket.find(s=>s.id===e.item.id)){const s=n.basket.map(o=>o.id===e.item.id?{...o,amount:o.amount+1}:o);return{...n,basket:s}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Qr.REMOVE_FROM_BASKET:const r=n.basket.map(s=>s.id===e.id?{...s,amount:s.amount-1}:s).filter(s=>s.amount>0);return{...n,basket:r};case Qr.EMPTY_BASKET:return{...n,basket:[]};case Qr.SET_USER:return{...n,user:e.user};default:return n}};eV.createRoot(document.getElementById("root")).render(M.createElement(M.StrictMode,null,M.createElement(iq,{reducer:pW,initialState:mW},M.createElement(dW,null))));
